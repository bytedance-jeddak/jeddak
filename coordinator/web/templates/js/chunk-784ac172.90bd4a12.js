(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-784ac172"],{"0bf1":function(t,e,a){"use strict";a("476e")},"476e":function(t,e,a){},9352:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data"},[a("el-row",{attrs:{id:"top-buttons"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.show_upload=!0}}},[t._v(" 上传数据 "),a("i",{staticClass:"el-icon-upload2"})])],1),a("el-row",[a("el-card",{staticClass:"box-card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataset_list}},[a("el-table-column",{attrs:{prop:"file_name",label:"数据文件名",sortable:""}}),a("el-table-column",{attrs:{prop:"file_rel_path",label:"文件路径",sortable:""}}),a("el-table-column",{attrs:{prop:"file_type",label:"数据文件类型",filters:t.file_type_filter,"filter-method":t.filterHandler,sortable:""}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return t.copyFilePath(e.row.file_abs_path)}}},[t._v(" 复制完整文件路径 ")])]}}])})],1)],1)],1),a("el-dialog",{attrs:{title:"上传本地数据（csv格式）到服务器",visible:t.show_upload},on:{"update:visible":function(e){t.show_upload=e}}},[a("el-upload",{staticClass:"upload",attrs:{drag:"",action:"/board/dataset","show-file-list":!1,headers:t.upload_headers,"before-upload":t.beforeUpload,"on-error":t.onError,"on-success":t.onSuccess}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("仅支持csv格式")])])],1)],1)},o=[],s={name:"Data",data:function(){return{dataset_list:[],upload_headers:{auth:window.localStorage.getItem("jeddak_token")},file_type_filter:[{text:"用户上传数据集",value:"user-uploaded dataset"},{text:"默认数据集",value:"common dataset"},{text:"默认小数据",value:"mini dataset"}],show_upload:!1}},methods:{beforeUpload:function(t){return"text/csv"===t.type||(this.$notify.error({title:"提示",message:"上传失败，仅支持csv文件"}),!1)},onSuccess:function(t,e,a){this.$message({message:"上传成功，对应文件路径："+t.data.file_path})},onError:function(t,e,a){this.$notify.error({title:"提示",message:"上传失败，请检查服务是否运行正常"})},copyFilePath:function(t){var e=this;this.$copyText(t).then((function(){e.$notify.success({title:"提示",message:"复制成功"})}))},filterHandler:function(t,e,a){var l=a["property"];return e[l]===t}},mounted:function(){var t=this;this.$axios.get("/board/datasets",{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.dataset_list=e.data.data})).catch((function(t){console.log(t)}))}},i=s,n=(a("0bf1"),a("2877")),r=Object(n["a"])(i,l,o,!1,null,"4b5f14c9",null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-784ac172.90bd4a12.js.map