{"version":3,"sources":["webpack:///./src/views/Data.vue?d44f","webpack:///./src/views/Data.vue?26c5","webpack:///src/views/Data.vue","webpack:///./src/views/Data.vue?f388","webpack:///./src/views/Data.vue?c896"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","show_upload","_v","staticStyle","dataset_list","file_type_filter","filterHandler","scopedSlots","_u","key","fn","scope","copyFilePath","row","file_abs_path","upload_headers","beforeUpload","onError","onSuccess","slot","staticRenderFns","component"],"mappings":"kHAAA,W,kECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,GAAK,gBAAgB,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIU,aAAY,KAAQ,CAACV,EAAIW,GAAG,UAAUP,EAAG,IAAI,CAACE,YAAY,uBAAuB,GAAGF,EAAG,SAAS,CAACA,EAAG,UAAU,CAACE,YAAY,YAAY,CAACF,EAAG,WAAW,CAACQ,YAAY,CAAC,MAAQ,QAAQL,MAAM,CAAC,KAAOP,EAAIa,eAAe,CAACT,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,QAAQ,SAAW,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,gBAAgB,MAAQ,OAAO,SAAW,MAAMH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,SAAS,QAAUP,EAAIc,iBAAiB,gBAAgBd,EAAIe,cAAc,SAAW,MAAMX,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,MAAMS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAChB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIqB,aAAaD,EAAME,IAAIC,kBAAkB,CAACvB,EAAIW,GAAG,wBAAwB,IAAI,IAAI,GAAGP,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,oBAAoB,QAAUP,EAAIU,aAAaF,GAAG,CAAC,iBAAiB,SAASC,GAAQT,EAAIU,YAAYD,KAAU,CAACL,EAAG,YAAY,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,GAAG,OAAS,iBAAiB,kBAAiB,EAAM,QAAUP,EAAIwB,eAAe,gBAAgBxB,EAAIyB,aAAa,WAAWzB,EAAI0B,QAAQ,aAAa1B,EAAI2B,YAAY,CAACvB,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACN,EAAIW,GAAG,aAAaP,EAAG,KAAK,CAACJ,EAAIW,GAAG,YAAYP,EAAG,MAAM,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,OAAOqB,KAAK,OAAO,CAAC5B,EAAIW,GAAG,iBAAiB,IAAI,IACtmDkB,EAAkB,GCgEtB,GACE,KAAF,OACE,KAFF,WAGI,MAAJ,CAEM,aAAN,GAEM,eAAN,CACQ,KAAR,6CAGM,iBAAN,CACA,CAAQ,KAAR,UAAQ,MAAR,yBACA,CAAQ,KAAR,QAAQ,MAAR,kBACA,CAAQ,KAAR,QAAQ,MAAR,iBAIM,aAAN,IAGE,QAAF,CAEI,aAFJ,SAEA,GACM,MAAN,sBAGM,KAAN,eACQ,MAAR,KACQ,QAAR,mBAEA,IAII,UAdJ,SAcA,OACM,KAAN,UACQ,QAAR,mCAKI,QArBJ,SAqBA,OACM,KAAN,eACQ,MAAR,KACQ,QAAR,sBAII,aA5BJ,SA4BA,GACM,IAAN,OACM,KAAN,aACA,iBACQ,EAAR,iBACU,MAAV,KACU,QAAV,aAKI,cAvCJ,SAuCA,OACM,IAAN,gBACM,OAAN,WAGE,QAjEF,WAiEI,IAAJ,OAEI,KAAJ,8BACM,QAAN,CACQ,KAAR,+CAGA,kBACM,EAAN,4BACA,mBACM,QAAN,YC5I8U,I,wBCQ1UC,EAAY,eACd,EACA/B,EACA8B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-784ac172.90bd4a12.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data.vue?vue&type=style&index=0&id=4b5f14c9&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data\"},[_c('el-row',{attrs:{\"id\":\"top-buttons\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.show_upload=true}}},[_vm._v(\" 上传数据 \"),_c('i',{staticClass:\"el-icon-upload2\"})])],1),_c('el-row',[_c('el-card',{staticClass:\"box-card\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.dataset_list}},[_c('el-table-column',{attrs:{\"prop\":\"file_name\",\"label\":\"数据文件名\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"file_rel_path\",\"label\":\"文件路径\",\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"prop\":\"file_type\",\"label\":\"数据文件类型\",\"filters\":_vm.file_type_filter,\"filter-method\":_vm.filterHandler,\"sortable\":\"\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.copyFilePath(scope.row.file_abs_path)}}},[_vm._v(\" 复制完整文件路径 \")])]}}])})],1)],1)],1),_c('el-dialog',{attrs:{\"title\":\"上传本地数据（csv格式）到服务器\",\"visible\":_vm.show_upload},on:{\"update:visible\":function($event){_vm.show_upload=$event}}},[_c('el-upload',{staticClass:\"upload\",attrs:{\"drag\":\"\",\"action\":\"/board/dataset\",\"show-file-list\":false,\"headers\":_vm.upload_headers,\"before-upload\":_vm.beforeUpload,\"on-error\":_vm.onError,\"on-success\":_vm.onSuccess}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"仅支持csv格式\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"data\">\n        <!-- operations -->\n        <el-row id=\"top-buttons\">\n            <el-button type=\"primary\" v-on:click=\"show_upload=true\">\n                上传数据\n                <i class=\"el-icon-upload2\"></i>\n            </el-button>\n        </el-row>\n        <el-row>\n            <el-card class=\"box-card\">\n                <el-table :data=\"dataset_list\" style=\"width: 100%\">\n                    <el-table-column\n                        prop=\"file_name\"\n                        label=\"数据文件名\"\n                        sortable>\n                    </el-table-column>\n                    <el-table-column\n                        prop=\"file_rel_path\"\n                        label=\"文件路径\"\n                        sortable>\n                    </el-table-column>\n                    <el-table-column\n                        prop=\"file_type\"\n                        label=\"数据文件类型\"\n                        :filters=\"file_type_filter\"\n                        :filter-method=\"filterHandler\"\n                        sortable>\n                    </el-table-column>\n                    <el-table-column\n                        label=\"操作\">\n                        <template slot-scope=\"scope\">\n                            <el-button\n                                type=\"info\"\n                                size=\"small\"\n                                v-on:click=\"copyFilePath(scope.row.file_abs_path)\">\n                                复制完整文件路径\n                            </el-button>\n                        </template>\n                    </el-table-column>\n                </el-table>\n            </el-card>\n        </el-row>\n\n        <el-dialog\n            title=\"上传本地数据（csv格式）到服务器\"\n            :visible.sync=\"show_upload\">\n            <el-upload\n                class=\"upload\"\n                drag\n                action=\"/board/dataset\"\n                :show-file-list=\"false\"\n                :headers=\"upload_headers\"\n                :before-upload=\"beforeUpload\"\n                :on-error=\"onError\"\n                :on-success=\"onSuccess\">\n                <i class=\"el-icon-upload\"></i>\n                <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\n                <div class=\"el-upload__tip\" slot=\"tip\">仅支持csv格式</div>\n            </el-upload>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: 'Data',\n        data() {\n            return {\n                // 数据：数据集列表\n                dataset_list: [],\n                // 数据：文件上传请求的header\n                upload_headers: {\n                    'auth': window.localStorage.getItem('jeddak_token')\n                },\n                // 数据：\n                file_type_filter : [\n                    {text: '用户上传数据集', value: 'user-uploaded dataset'},\n                    {text: '默认数据集', value: 'common dataset'},\n                    {text: '默认小数据', value: 'mini dataset'}\n                ],\n\n                // 标识：是否展示文件上传弹窗\n                show_upload: false,\n            };\n        },\n        methods: {\n            // 上传文件检查\n            beforeUpload(file) {\n                if (file.type === 'text/csv') {\n                    return true;\n                }\n                this.$notify.error({\n                    title: '提示',\n                    message: '上传失败，仅支持csv文件'\n                });\n                return false;\n            },\n            // 上传成功\n            // eslint-disable-next-line no-unused-vars\n            onSuccess(response, file, fileList) {\n                this.$message({\n                    message: '上传成功，对应文件路径：'+response.data.file_path\n                })\n            },\n            // 上传失败\n            // eslint-disable-next-line no-unused-vars\n            onError(err, file, fileList) {\n                this.$notify.error({\n                    title: '提示',\n                    message: '上传失败，请检查服务是否运行正常'\n                });\n            },\n            // 复制完整文件路径\n            copyFilePath(value) {\n                let that = this;\n                this.$copyText(value)\n                .then(function () {\n                    that.$notify.success({\n                        title: '提示',\n                        message: '复制成功'\n                    });\n                });\n            },\n            //\n            filterHandler(value, row, column) {\n                const property = column['property'];\n                return row[property] === value;\n            }\n        },\n        mounted() {\n            // 获取数据集列表\n            this.$axios.get(\"/board/datasets\",{\n                headers: {\n                    'auth': window.localStorage.getItem('jeddak_token')\n                }\n            })\n            .then(resp => {\n                this.dataset_list = resp.data.data;\n            }).catch(err => {\n                console.log(err);\n            });\n        },\n    }\n</script>\n\n<style scoped>\n    .upload {\n        text-align: center;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Data.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Data.vue?vue&type=template&id=4b5f14c9&scoped=true&\"\nimport script from \"./Data.vue?vue&type=script&lang=js&\"\nexport * from \"./Data.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Data.vue?vue&type=style&index=0&id=4b5f14c9&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b5f14c9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}