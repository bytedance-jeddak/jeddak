(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5608d287"],{"20f9":function(t,e,n){"use strict";n("f8f9")},"39b8":function(t,e,n){"use strict";n("c99f")},"59db":function(t,e,n){"use strict";n("f1c0")},"769f":function(t,e,n){"use strict";n("c87e")},"8b46":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task_detail"},[n("el-row",{attrs:{id:"top-buttons"}},[n("el-button",{staticClass:"oper-btn",attrs:{type:"primary"},on:{click:function(e){return t.$router.push("/task_new")}}},[t._v(" 发起任务 "),n("i",{staticClass:"el-icon-s-promotion"})]),n("el-button",{staticClass:"oper-btn",attrs:{type:"info"},on:{click:t.changeAlias}},[t._v(" 修改备注 "),n("i",{staticClass:"el-icon-edit"})]),n("el-button",{staticClass:"oper-btn",attrs:{type:"success"},on:{click:function(e){return t.downloadOutput(t.task_info.task_id)}}},[t._v(" 输出文件 "),n("i",{staticClass:"el-icon-download"})]),n("el-popconfirm",{staticClass:"el-popconfirm oper-btn",attrs:{title:"确定要终止任务吗？"},on:{confirm:t.stopTask}},[n("el-button",{attrs:{slot:"reference",type:"warning"},slot:"reference"},[t._v(" 终止任务 "),n("i",{staticClass:"el-icon-close"})])],1),n("el-popconfirm",{staticClass:"el-popconfirm oper-btn",attrs:{title:"确定要删除任务吗？"},on:{confirm:t.deleteTask}},[n("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v(" 删除任务 "),n("i",{staticClass:"el-icon-delete"})])],1)],1),t.task_info_display_control?n("el-card",{staticClass:"task_info_card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[t._v("任务信息")])]),n("table",{staticClass:"task_info_table",staticStyle:{"word-break":"break-all","word-wrap":"break-word"},attrs:{border:"0"}},[n("tr",[n("td",[t._v("任务ID:"+t._s(t.task_info.task_id))]),n("td",[n("pre",[t._v("\t")])]),n("td",[t._v("任务发起方:"+t._s(t.task_info.party_name))]),n("td",[n("pre",[t._v("\t")])]),n("td",[t._v("任务参与方:"+t._s(t.task_info.party_names))]),n("td",[n("pre",[t._v("\t")])]),n("td",[t._v("任务状态:"),n("span",{class:t.task_info.status},[t._v(t._s(t._f("task_status")(t.task_info.status)))])])]),n("tr",[n("td",[t._v("任务创建时间:"+t._s(t.task_info.create_time))]),n("td",[n("pre",[t._v("\t")])]),n("td",[t._v("状态更新时间:"+t._s(t.task_info.update_time))]),n("td",[n("pre",[t._v("\t")])]),n("td",[t._v("任务配置："),n("a",{staticClass:"show-modal",on:{click:function(e){t.task_json_visible=!0}}},[t._v("点击查看")])]),n("td",[n("pre",[t._v("\t")])]),n("td",[t._v("任务备注名:"+t._s(t.task_info.alias||"暂无"))])]),t._l(this.metrics_task_info,(function(e,i){return n("tr",{key:i},t._l(e,(function(e,i,o){return n("td",{key:o,attrs:{colspan:"2"}},[t._v(t._s(i)+":"+t._s(e))])})),0)}))],2)]):t._e(),n("el-row",{attrs:{gutter:10}},[t.task_info_display_control?t._e():n("el-col",{attrs:{xs:24,sm:24,md:24,lg:6}},[n("el-card",{staticClass:"box-card card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[t._v("任务信息")])]),n("p",[t._v("任务ID："+t._s(t.task_info.task_id))]),n("p",[t._v("任务发起方："+t._s(t.task_info.party_name))]),n("p",[t._v("任务参与方："+t._s(t.task_info.party_names))]),n("p",[t._v("任务状态："),n("span",{class:t.task_info.status},[t._v(t._s(t._f("task_status")(t.task_info.status)))])]),n("p",[t._v("任务备注名："+t._s(t.task_info.alias||"暂无"))]),n("p",[t._v("任务创建时间："+t._s(t.task_info.create_time))]),n("p",[t._v("状态更新时间："+t._s(t.task_info.update_time))]),n("p",[t._v("任务配置："),n("a",{staticClass:"show-modal",on:{click:function(e){t.task_json_visible=!0}}},[t._v("点击查看")])]),null!==t.metrics&&t.metrics.length>0?n("div",[n("p",[t._v("模型评估指标：")]),t._l(t.metrics,(function(e,i){return n("div",{key:i},t._l(e,(function(e,i,o){return n("div",{key:o},[n("p",[t._v(t._s(i)+"="+t._s(e))])])})),0)}))],2):t._e()])],1),t.task_info_display_control?t._e():n("el-col",{attrs:{xs:24,sm:24,md:24,lg:9}},[n("Procedure",{staticClass:"cards",attrs:{procedure:t.procedure,task_json_dict:t.task_json_dict}})],1),t.task_info_display_control?t._e():n("el-col",{attrs:{xs:24,sm:24,md:24,lg:9}},[n("LossAndTime",{staticClass:"cards",attrs:{loss_and_time:t.loss_and_time}})],1),t.task_info_display_control?n("el-col",{attrs:{xs:24,sm:24,md:24,lg:8}},[n("Procedure",{staticClass:"cards",attrs:{procedure:t.procedure,task_json_dict:t.task_json_dict}})],1):t._e(),t.task_info_display_control?n("el-col",{attrs:{xs:24,sm:24,md:24,lg:8}},[n("LossAndTime",{staticClass:"cards",attrs:{loss_and_time:t.loss_and_time}})],1):t._e(),t.task_info_display_control?n("el-col",{attrs:{xs:24,sm:24,md:24,lg:8}},[n("TrainAndValidate",{staticClass:"cards",attrs:{train_and_validate:t.train_and_validate}})],1):t._e()],1),t.error_msg.length>0?n("el-row",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[t._v("任务错误信息")])]),n("div",{attrs:{id:"error_msg"}},t._l(t.error_msg,(function(e,i){return n("div",{key:i},[n("span",{staticClass:"line-number"},[t._v(t._s(i+1))]),t._v(" "+t._s(e)+" ")])})),0)])],1):t._e(),n("el-row",[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("b",[t._v("日志信息")]),n("span",{staticClass:"log-span"},[t._v("每5秒日志自动更新")]),n("el-button",{staticClass:"log-span",attrs:{icon:"el-icon-refresh-right",size:"mini",circle:""},on:{click:t.refreshLog}}),n("span",{attrs:{id:"scroll-switch"}},[t._v(" 日志更新后划到底部 "),n("el-switch",{staticClass:"log-span",model:{value:t.scroll_to_bottom,callback:function(e){t.scroll_to_bottom=e},expression:"scroll_to_bottom"}})],1)],1),n("div",{attrs:{id:"task_log"}},t._l(t.task_logs,(function(e,i){return n("div",{key:i},[n("span",{staticClass:"line-number"},[t._v(t._s(i+1))]),t._v(" "+t._s(e)+" ")])})),0)])],1),n("el-dialog",{attrs:{title:"任务配置",visible:t.task_json_visible,width:"80%"},on:{"update:visible":function(e){t.task_json_visible=e}}},[n("vue-json-editor",{attrs:{mode:"code",lang:"zh",id:"task-json-dialog"},model:{value:t.task_json_dict,callback:function(e){t.task_json_dict=e},expression:"task_json_dict"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:t.copyTaskJSON}},[t._v("一键复制")]),n("el-button",{on:{click:function(e){t.task_json_visible=!1}}},[t._v("关闭")])],1)],1)],1)},o=[],a=(n("99af"),n("d3b7"),n("25f0"),n("ac1f"),n("1276"),n("3ca3"),n("ddb0"),n("2b3d"),n("45a3")),r=n("1be7"),s=n("b12f"),l=n("e887"),c=n("6cb7"),u=n("4f85"),d=n("6d8b"),h=n("697e"),p=[],f={registerPreprocessor:r["j"],registerProcessor:r["k"],registerPostInit:r["h"],registerPostUpdate:r["i"],registerAction:r["c"],registerCoordinateSystem:r["d"],registerLayout:r["e"],registerVisual:r["m"],registerTransform:r["l"],registerLoading:r["f"],registerMap:r["g"],PRIORITY:r["a"],ComponentModel:c["a"],ComponentView:s["a"],SeriesModel:u["a"],ChartView:l["a"],registerComponentModel:function(t){c["a"].registerClass(t)},registerComponentView:function(t){s["a"].registerClass(t)},registerSeriesModel:function(t){u["a"].registerClass(t)},registerChartView:function(t){l["a"].registerClass(t)},registerSubTypeDefaulter:function(t,e){c["a"].registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Object(h["b"])(t,e)}};function g(t){Object(d["r"])(t)?Object(d["j"])(t,(function(t){g(t)})):Object(d["p"])(p,t)>=0||(p.push(t),Object(d["u"])(t)&&(t={install:t}),t.install(f))}var m=n("7fae"),v=n("76a5"),y=n("c7a2"),_=n("861c"),x=n("7837"),b=n("f934"),w=n("eda2"),O=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(m["a"])(e,t),e.type="title",e.defaultOption={zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(c["a"]),M=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,o=t.getModel("textStyle"),a=t.getModel("subtextStyle"),r=t.get("textAlign"),s=d["M"](t.get("textBaseline"),t.get("textVerticalAlign")),l=new v["a"]({style:Object(x["b"])(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),c=l.getBoundingRect(),u=t.get("subtext"),h=new v["a"]({style:Object(x["b"])(a,{text:u,fill:a.getTextColor(),y:c.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),f=t.get("sublink"),g=t.get("triggerEvent",!0);l.silent=!p&&!g,h.silent=!f&&!g,p&&l.on("click",(function(){Object(w["i"])(p,"_"+t.get("target"))})),f&&h.on("click",(function(){Object(w["i"])(f,"_"+t.get("subtarget"))})),Object(_["a"])(l).eventData=Object(_["a"])(h).eventData=g?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),u&&i.add(h);var m=i.getBoundingRect(),O=t.getBoxLayoutParams();O.width=m.width,O.height=m.height;var M=Object(b["d"])(O,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));r||(r=t.get("left")||t.get("right"),"middle"===r&&(r="center"),"right"===r?M.x+=M.width:"center"===r&&(M.x+=M.width/2)),s||(s=t.get("top")||t.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?M.y+=M.height:"middle"===s&&(M.y+=M.height/2),s=s||"top"),i.x=M.x,i.y=M.y,i.markRedraw();var S={align:r,verticalAlign:s};l.setStyle(S),h.setStyle(S),m=i.getBoundingRect();var I=M.margin,j=t.getItemStyle(["color","opacity"]);j.fill=t.get("backgroundColor");var C=new y["a"]({shape:{x:m.x-I[3],y:m.y-I[0],width:m.width+I[1]+I[3],height:m.height+I[0]+I[2],r:t.get("borderRadius")},style:j,subPixelOptimize:!0,silent:!0});i.add(C)}},e.type="title",e}(s["a"]);function S(t){t.registerComponentModel(O),t.registerComponentView(M)}var I=["x","y","radius","angle","single"],j=["cartesian2d","polar","singleAxis"];function C(t){var e=t.get("coordinateSystem");return Object(d["p"])(j,e)>=0}function A(t){return t+"Axis"}function k(t,e){var n,i=Object(d["f"])(),o=[],a=Object(d["f"])();t.eachComponent({mainType:"dataZoom",query:e},(function(t){a.get(t.uid)||s(t)}));do{n=!1,t.eachComponent("dataZoom",r)}while(n);function r(t){!a.get(t.uid)&&l(t)&&(s(t),n=!0)}function s(t){a.set(t.uid,!0),o.push(t),c(t)}function l(t){var e=!1;return t.eachTargetAxis((function(t,n){var o=i.get(t);o&&o[n]&&(e=!0)})),e}function c(t){t.eachTargetAxis((function(t,e){(i.get(t)||i.set(t,[]))[e]=!0}))}return o}function T(t){var e=t.ecModel,n={infoList:[],infoMap:Object(d["f"])()};return t.eachTargetAxis((function(t,i){var o=e.getComponent(A(t),i);if(o){var a=o.getCoordSysModel();if(a){var r=a.uid,s=n.infoMap.get(r);s||(s={model:a,axisModels:[]},n.infoList.push(s),n.infoMap.set(r,s)),s.axisModels.push(o)}}})),n}var D=n("e0d3"),L=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),P=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return Object(m["a"])(e,t),e.prototype.init=function(t,e,n){var i=E(t);this.settledOption=i,this.mergeDefaultAndTheme(t,n),this._doInit(i)},e.prototype.mergeOption=function(t){var e=E(t);Object(d["F"])(this.option,t,!0),Object(d["F"])(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;Object(d["j"])([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=n[t[0]]=null)}),this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=Object(d["f"])(),n=this._fillSpecifiedTargetAxis(e);n?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each((function(t){t.indexList.length&&(this._noTarget=!1)}),this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return Object(d["j"])(I,(function(n){var i=this.getReferringComponents(A(n),D["a"]);if(i.specified){e=!0;var o=new L;Object(d["j"])(i.models,(function(t){o.add(t.componentIndex)})),t.set(n,o)}}),this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,i=!0;if(i){var o="vertical"===e?"y":"x",a=n.findComponents({mainType:o+"Axis"});r(a,o)}if(i){a=n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}});r(a,"single")}function r(e,n){var o=e[0];if(o){var a=new L;if(a.add(o.componentIndex),t.set(n,a),i=!1,"x"===n||"y"===n){var r=o.getReferringComponents("grid",D["b"]).models[0];r&&Object(d["j"])(e,(function(t){o.componentIndex!==t.componentIndex&&r===t.getReferringComponents("grid",D["b"]).models[0]&&a.add(t.componentIndex)}))}}}i&&Object(d["j"])(I,(function(e){if(i){var o=n.findComponents({mainType:A(e),filter:function(t){return"category"===t.get("type",!0)}});if(o[0]){var a=new L;a.add(o[0].componentIndex),t.set(e,a),i=!1}}}),this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis((function(e){!t&&(t=e)}),this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");Object(d["j"])([["start","startValue"],["end","endValue"]],(function(i,o){var a=null!=t[i[0]],r=null!=t[i[1]];a&&!r?e[o]="percent":!a&&r?e[o]="value":n?e[o]=n[o]:a&&(e[o]="percent")}))},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(e,n){null==t&&(t=this.ecModel.getComponent(A(e),n))}),this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each((function(n,i){Object(d["j"])(n.indexList,(function(n){t.call(e,i,n)}))}))},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(A(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;Object(d["j"])([["start","startValue"],["end","endValue"]],(function(i){null==t[i[0]]&&null==t[i[1]]||(e[i[0]]=n[i[0]]=t[i[0]],e[i[1]]=n[i[1]]=t[i[1]])}),this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;Object(d["j"])(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),i=0;i<n.length;i++)for(var o=n[i],a=this._targetAxisInfoMap.get(o),r=0;r<a.indexList.length;r++){var s=this.getAxisProxy(o,a.indexList[r]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={zlevel:0,z:4,filterMode:"filter",start:0,end:100},e}(c["a"]);function E(t){var e={};return Object(d["j"])(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}var R=P,N=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="dataZoom.select",e}(R),z=N,B=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.render=function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(s["a"]),V=B,G=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="dataZoom.select",e}(V),H=G,W=n("3842");function F(t,e,n,i,o,a){t=t||0;var r=n[1]-n[0];if(null!=o&&(o=Y(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=Y(s,[0,r]),o=a=Y(s,[o,a]),i=0}e[0]=Y(e[0],n),e[1]=Y(e[1],n);var l=Z(e,i);e[i]+=t;var c,u=o||0,d=n.slice();return l.sign<0?d[0]+=u:d[1]-=u,e[i]=Y(e[i],d),c=Z(e,i),null!=o&&(c.sign!==l.sign||c.span<o)&&(e[1-i]=e[i]+l.sign*o),c=Z(e,i),null!=a&&c.span>a&&(e[1-i]=e[i]+c.sign*a),e}function Z(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function Y(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var X=n("625e"),U=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();X["c"](U);var $=U,q=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication}return t.createByAxisModel=function(e){var n=e.option,i=n.data,o=i&&Object(d["E"])(i,K);return new t({categories:o,needCollect:!o,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!==typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=this._getOrCreateMap();return e=i.get(t),null==e&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=Object(d["f"])(this.categories))},t}();function K(t){return Object(d["y"])(t)&&null!=t.value?t.value:t+""}var J=q,Q=W["p"];function tt(t,e,n,i){var o={},a=t[1]-t[0],r=o.interval=W["j"](a/e,!0);null!=n&&r<n&&(r=o.interval=n),null!=i&&r>i&&(r=o.interval=i);var s=o.intervalPrecision=et(r),l=o.niceTickExtent=[Q(Math.ceil(t[0]/r)*r,s),Q(Math.floor(t[1]/r)*r,s)];return it(l,t),o}function et(t){return W["e"](t)+2}function nt(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function it(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),nt(t,0,e),nt(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function ot(t,e){return t>=e[0]&&t<=e[1]}function at(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function rt(t,e){return t*(e[1]-e[0])+e[0]}var st=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new J({})),Object(d["r"])(i)&&(i=new J({categories:Object(d["E"])(i,(function(t){return Object(d["y"])(t)?t.value:t}))})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return Object(m["a"])(e,t),e.prototype.parse=function(t){return"string"===typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),ot(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),at(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(rt(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){var t=[],e=this._extent,n=e[0];while(n<=e[1])t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],o=0,a=this._ordinalMeta.categories.length,r=Math.min(a,e.length);o<r;++o){var s=e[o];n[o]=s,i[s]=o}for(var l=0;o<a;++o){while(null!=i[l])l++;n.push(l),i[l]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.niceTicks=function(){},e.prototype.niceExtent=function(){},e.type="ordinal",e}($);$.registerClass(st);var lt=st,ct=W["p"],ut=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return Object(m["a"])(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return ot(t,this._extent)},e.prototype.normalize=function(t){return at(t,this._extent)},e.prototype.scale=function(t){return rt(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=et(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,o=this._intervalPrecision,a=[];if(!e)return a;var r=1e4;n[0]<i[0]&&(t?a.push({value:ct(i[0]-e,o)}):a.push({value:n[0]}));var s=i[0];while(s<=i[1]){if(a.push({value:s}),s=ct(s+e,o),s===a[a.length-1].value)break;if(a.length>r)return[]}var l=a.length?a[a.length-1].value:i[1];return n[1]>l&&(t?a.push({value:ct(l+e,o)}):a.push({value:n[1]})),a},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),o=1;o<e.length;o++){var a=e[o],r=e[o-1],s=0,l=[],c=a.value-r.value,u=c/t;while(s<t-1){var d=ct(r.value+(s+1)*u);d>i[0]&&d<i[1]&&l.push(d),s++}n.push(l)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;null==n?n=W["e"](t.value)||0:"auto"===n&&(n=this._intervalPrecision);var i=ct(t.value,n,!0);return w["a"](i)},e.prototype.niceTicks=function(t,e,n){t=t||5;var i=this._extent,o=i[1]-i[0];if(isFinite(o)){o<0&&(o=-o,i.reverse());var a=tt(i,t,e,n);this._intervalPrecision=a.intervalPrecision,this._interval=a.interval,this._niceExtent=a.niceTickExtent}},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=ct(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=ct(Math.ceil(e[1]/o)*o))},e.type="interval",e}($);$.registerClass(ut);var dt=ut;function ht(t,e,n){n=n||{};var i,o,a,r,s=n.byIndex,l=n.stackedCoordDimension,c=!(!t||!t.get("stack"));if(Object(d["j"])(e,(function(t,n){Object(d["z"])(t)&&(e[n]=t={name:t}),c&&!t.isExtraCoord&&(s||i||!t.ordinalMeta||(i=t),o||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(o=t))})),!o||s||i||(s=!0),o){a="__\0ecstackresult",r="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var u=o.coordDim,h=o.type,p=0;Object(d["j"])(e,(function(t){t.coordDim===u&&p++})),e.push({name:a,coordDim:u,coordDimIndex:p,type:h,isExtraCoord:!0,isCalculationCoord:!0}),p++,e.push({name:r,coordDim:r,coordDimIndex:p,type:h,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:i&&i.name,isStackedByIndex:s,stackedOverDimension:r,stackResultDimension:a}}function pt(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function ft(t,e){return pt(t,e)?t.getCalculationInfo("stackResultDimension"):e}var gt=n("cccd"),mt="__ec_stack_",vt=.5,yt="undefined"!==typeof Float32Array?Float32Array:Array;function _t(t){return t.get("stack")||mt+t.seriesIndex}function xt(t){return t.dim+t.index}function bt(t,e){var n=[];return e.eachSeriesByType(t,(function(t){It(t)&&!jt(t)&&n.push(t)})),n}function wt(t){var e={};d["j"](t,(function(t){var n=t.coordinateSystem,i=n.getBaseAxis();if("time"===i.type||"value"===i.type)for(var o=t.getData(),a=i.dim+"_"+i.index,r=o.mapDimension(i.dim),s=0,l=o.count();s<l;++s){var c=o.get(r,s);e[a]?e[a].push(c):e[a]=[c]}}));var n={};for(var i in e)if(e.hasOwnProperty(i)){var o=e[i];if(o){o.sort((function(t,e){return t-e}));for(var a=null,r=1;r<o.length;++r){var s=o[r]-o[r-1];s>0&&(a=null===a?s:Math.min(a,s))}n[i]=a}}return n}function Ot(t){var e=wt(t),n=[];return d["j"](t,(function(t){var i,o=t.coordinateSystem,a=o.getBaseAxis(),r=a.getExtent();if("category"===a.type)i=a.getBandWidth();else if("value"===a.type||"time"===a.type){var s=a.dim+"_"+a.index,l=e[s],c=Math.abs(r[1]-r[0]),u=a.scale.getExtent(),d=Math.abs(u[1]-u[0]);i=l?c/d*l:c}else{var h=t.getData();i=Math.abs(r[1]-r[0])/h.count()}var p=Object(W["m"])(t.get("barWidth"),i),f=Object(W["m"])(t.get("barMaxWidth"),i),g=Object(W["m"])(t.get("barMinWidth")||1,i),m=t.get("barGap"),v=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:p,barMaxWidth:f,barMinWidth:g,barGap:m,barCategoryGap:v,axisKey:xt(a),stackId:_t(t)})})),Mt(n)}function Mt(t){var e={};d["j"](t,(function(t,n){var i=t.axisKey,o=t.bandWidth,a=e[i]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},r=a.stacks;e[i]=a;var s=t.stackId;r[s]||a.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!r[s].width&&(r[s].width=l,l=Math.min(a.remainedWidth,l),a.remainedWidth-=l);var c=t.barMaxWidth;c&&(r[s].maxWidth=c);var u=t.barMinWidth;u&&(r[s].minWidth=u);var d=t.barGap;null!=d&&(a.gap=d);var h=t.barCategoryGap;null!=h&&(a.categoryGap=h)}));var n={};return d["j"](e,(function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,a=t.categoryGap;if(null==a){var r=d["C"](i).length;a=Math.max(35-4*r,15)+"%"}var s=Object(W["m"])(a,o),l=Object(W["m"])(t.gap,1),c=t.remainedWidth,u=t.autoWidthCount,h=(c-s)/(u+(u-1)*l);h=Math.max(h,0),d["j"](i,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){i=t.width;e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,c-=i+l*i,u--}else{var i=h;e&&e<i&&(i=Math.min(e,c)),n&&n>i&&(i=n),i!==h&&(t.width=i,c-=i+l*i,u--)}})),h=(c-s)/(u+(u-1)*l),h=Math.max(h,0);var p,f=0;d["j"](i,(function(t,e){t.width||(t.width=h),p=t,f+=t.width*(1+l)})),p&&(f-=p.width*l);var g=-f/2;d["j"](i,(function(t,i){n[e][i]=n[e][i]||{bandWidth:o,offset:g,width:t.width},g+=t.width*(1+l)}))})),n}function St(t,e,n){if(t&&e){var i=t[xt(e)];return null!=i&&null!=n?i[_t(n)]:i}}Object(gt["a"])();function It(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function jt(t){return t.pipelineContext&&t.pipelineContext.large}function Ct(t,e,n){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var At=n("9850"),kt=n("f876"),Tt=function(t,e,n,i){while(n<i){var o=n+i>>>1;t[o][1]<e?n=o+1:i=o}return n},Dt=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return Object(m["a"])(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return Object(kt["h"])(t.value,kt["i"][Object(kt["l"])(Object(kt["m"])(this._minLevelUnit))]||kt["i"].second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC"),o=this.getSetting("locale");return Object(kt["r"])(t,e,n,o,i)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=[];if(!e)return i;i.push({value:n[0],level:0});var o=this.getSetting("useUTC"),a=Gt(this._minLevelUnit,this._approxInterval,o,n);return i=i.concat(a),i.push({value:n[1],level:0}),i},e.prototype.niceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=kt["a"],e[1]+=kt["a"]),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-kt["a"]}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.niceTicks=function(t,e,n){t=t||10;var i=this._extent,o=i[1]-i[0];this._approxInterval=o/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var a=Lt.length,r=Math.min(Tt(Lt,this._approxInterval,0,a),a-1);this._interval=Lt[r][1],this._minLevelUnit=Lt[Math.max(r-1,0)][0]},e.prototype.parse=function(t){return"number"===typeof t?t:+W["l"](t)},e.prototype.contain=function(t){return ot(this.parse(t),this._extent)},e.prototype.normalize=function(t){return at(this.parse(t),this._extent)},e.prototype.scale=function(t){return rt(t,this._extent)},e.type="time",e}(dt),Lt=[["second",kt["d"]],["minute",kt["c"]],["hour",kt["b"]],["quarter-day",6*kt["b"]],["half-day",12*kt["b"]],["day",1.2*kt["a"]],["half-week",3.5*kt["a"]],["week",7*kt["a"]],["month",31*kt["a"]],["quarter",95*kt["a"]],["half-year",kt["e"]/2],["year",kt["e"]]];function Pt(t,e,n,i){var o=W["l"](e),a=W["l"](n),r=function(t){return Object(kt["n"])(o,t,i)===Object(kt["n"])(a,t,i)},s=function(){return r("year")},l=function(){return s()&&r("month")},c=function(){return l()&&r("day")},u=function(){return c()&&r("hour")},d=function(){return u()&&r("minute")},h=function(){return d()&&r("second")},p=function(){return h()&&r("millisecond")};switch(t){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return h();case"millisecond":return p()}}function Et(t,e){return t/=kt["a"],t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function Rt(t){var e=30*kt["a"];return t/=e,t>6?6:t>3?3:t>2?2:1}function Nt(t){return t/=kt["b"],t>12?12:t>6?6:t>3.5?4:t>2?2:1}function zt(t,e){return t/=e?kt["c"]:kt["d"],t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function Bt(t){return W["j"](t,!0)}function Vt(t,e,n){var i=new Date(t);switch(Object(kt["m"])(e)){case"year":case"month":i[Object(kt["x"])(n)](0);case"day":i[Object(kt["g"])(n)](1);case"hour":i[Object(kt["p"])(n)](0);case"minute":i[Object(kt["v"])(n)](0);case"second":i[Object(kt["A"])(n)](0),i[Object(kt["t"])(n)](0)}return i.getTime()}function Gt(t,e,n,i){var o=1e4,a=kt["B"],r=0;function s(t,e,n,o,a,r,s){var l=new Date(e),c=e,u=l[o]();while(c<n&&c<=i[1])s.push({value:c}),u+=t,l[a](u),c=l.getTime();s.push({value:c,notAdd:!0})}function l(t,o,a){var r=[],l=!o.length;if(!Pt(Object(kt["m"])(t),i[0],i[1],n)){l&&(o=[{value:Vt(new Date(i[0]),t,n)},{value:i[1]}]);for(var c=0;c<o.length-1;c++){var u=o[c].value,d=o[c+1].value;if(u!==d){var h=void 0,p=void 0,f=void 0,g=!1;switch(t){case"year":h=Math.max(1,Math.round(e/kt["a"]/365)),p=Object(kt["j"])(n),f=Object(kt["k"])(n);break;case"half-year":case"quarter":case"month":h=Rt(e),p=Object(kt["w"])(n),f=Object(kt["x"])(n);break;case"week":case"half-week":case"day":h=Et(e,31),p=Object(kt["f"])(n),f=Object(kt["g"])(n),g=!0;break;case"half-day":case"quarter-day":case"hour":h=Nt(e),p=Object(kt["o"])(n),f=Object(kt["p"])(n);break;case"minute":h=zt(e,!0),p=Object(kt["u"])(n),f=Object(kt["v"])(n);break;case"second":h=zt(e,!1),p=Object(kt["z"])(n),f=Object(kt["A"])(n);break;case"millisecond":h=Bt(e),p=Object(kt["s"])(n),f=Object(kt["t"])(n);break}s(h,u,d,p,f,g,r),"year"===t&&a.length>1&&0===c&&a.unshift({value:a[0].value-h})}}for(c=0;c<r.length;c++)a.push(r[c]);return r}}for(var c=[],u=[],h=0,p=0,f=0;f<a.length&&r++<o;++f){var g=Object(kt["m"])(a[f]);if(Object(kt["q"])(a[f])){l(a[f],c[c.length-1]||[],u);var m=a[f+1]?Object(kt["m"])(a[f+1]):null;if(g!==m){if(u.length){p=h,u.sort((function(t,e){return t.value-e.value}));for(var v=[],y=0;y<u.length;++y){var _=u[y].value;0!==y&&u[y-1].value===_||(v.push(u[y]),_>=i[0]&&_<=i[1]&&h++)}var x=(i[1]-i[0])/e;if(h>1.5*x&&p>x/1.5)break;if(c.push(v),h>x||t===a[f])break}u=[]}}}var b=Object(d["m"])(Object(d["E"])(c,(function(t){return Object(d["m"])(t,(function(t){return t.value>=i[0]&&t.value<=i[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],O=b.length-1;for(f=0;f<b.length;++f)for(var M=b[f],S=0;S<M.length;++S)w.push({value:M[S].value,level:O-f});w.sort((function(t,e){return t.value-e.value}));var I=[];for(f=0;f<w.length;++f)0!==f&&w[f].value===w[f-1].value||I.push(w[f]);return I}$.registerClass(Dt);var Ht=Dt,Wt=$.prototype,Ft=dt.prototype,Zt=W["p"],Yt=Math.floor,Xt=Math.ceil,Ut=Math.pow,$t=Math.log,qt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new dt,e._interval=0,e}return Object(m["a"])(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,i=e.getExtent(),o=Ft.getTicks.call(this,t);return d["E"](o,(function(t){var e=t.value,o=W["p"](Ut(this.base,e));return o=e===n[0]&&this._fixMin?Jt(o,i[0]):o,o=e===n[1]&&this._fixMax?Jt(o,i[1]):o,{value:o}}),this)},e.prototype.setExtent=function(t,e){var n=this.base;t=$t(t)/$t(n),e=$t(e)/$t(n),Ft.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=Wt.getExtent.call(this);e[0]=Ut(t,e[0]),e[1]=Ut(t,e[1]);var n=this._originalScale,i=n.getExtent();return this._fixMin&&(e[0]=Jt(e[0],i[0])),this._fixMax&&(e[1]=Jt(e[1],i[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=$t(t[0])/$t(e),t[1]=$t(t[1])/$t(e),Wt.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.niceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=W["n"](n),o=t/n*i;o<=.5&&(i*=10);while(!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0)i*=10;var a=[W["p"](Xt(e[0]/i)*i),W["p"](Yt(e[1]/i)*i)];this._interval=i,this._niceExtent=a}},e.prototype.niceExtent=function(t){Ft.niceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=$t(t)/$t(this.base),ot(t,this._extent)},e.prototype.normalize=function(t){return t=$t(t)/$t(this.base),at(t,this._extent)},e.prototype.scale=function(t){return t=rt(t,this._extent),Ut(this.base,t)},e.type="log",e}($),Kt=qt.prototype;function Jt(t,e){return Zt(t,W["e"](e))}Kt.getMinorTicks=Ft.getMinorTicks,Kt.getLabel=Ft.getLabel,$.registerClass(qt);var Qt=qt,te=n("e86a"),ee=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero=e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);Object(d["u"])(o)?this._modelMinNum=ae(t,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=ae(t,o));var a=this._modelMaxRaw=e.get("max",!0);if(Object(d["u"])(a)?this._modelMaxNum=ae(t,a({min:n[0],max:n[1]})):"dataMax"!==a&&(this._modelMaxNum=ae(t,a)),i)this._axisDataLen=e.getCategories().length;else{var r=e.get("boundaryGap"),s=Object(d["r"])(r)?r:[r||0,r||0];"boolean"===typeof s[0]||"boolean"===typeof s[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Object(te["h"])(s[0],1),Object(te["h"])(s[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),r="dataMin"===this._modelMinRaw?e:this._modelMinNum,s="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,l=null!=r,c=null!=s;null==r&&(r=t?i?0:NaN:e-o[0]*a),null==s&&(s=t?i?i-1:NaN:n+o[1]*a),(null==r||!isFinite(r))&&(r=NaN),(null==s||!isFinite(s))&&(s=NaN),r>s&&(r=NaN,s=NaN);var u=Object(d["k"])(r)||Object(d["k"])(s)||t&&!i;this._needCrossZero&&(r>0&&s>0&&!l&&(r=0),r<0&&s<0&&!c&&(s=0));var h=this._determinedMin,p=this._determinedMax;return null!=h&&(r=h,l=!0),null!=p&&(s=p,c=!0),{min:r,max:s,minFixed:l,maxFixed:c,isBlank:u}},t.prototype.modifyDataMinMax=function(t,e){this[ie[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){var n=ne[t];this[n]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),ne={min:"_determinedMin",max:"_determinedMax"},ie={min:"_dataMin",max:"_dataMax"};function oe(t,e,n){var i=t.rawExtentInfo;return i||(i=new ee(t,e,n),t.rawExtentInfo=i,i)}function ae(t,e){return null==e?null:Object(d["k"])(e)?NaN:t.parse(e)}function re(t,e){var n=t.type,i=oe(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var o=i.min,a=i.max,r=e.ecModel;if(r&&"time"===n){var s=bt("bar",r),l=!1;if(d["j"](s,(function(t){l=l||t.getBaseAxis()===e.axis})),l){var c=Ot(s),u=se(o,a,e,c);o=u.min,a=u.max}}return{extent:[o,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function se(t,e,n,i){var o=n.axis.getExtent(),a=o[1]-o[0],r=St(i,n.axis);if(void 0===r)return{min:t,max:e};var s=1/0;d["j"](r,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;d["j"](r,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=e-t,h=1-(s+l)/a,p=u/h-u;return e+=p*(l/c),t-=p*(s/c),{min:t,max:e}}function le(t,e){var n=re(t,e),i=n.extent,o=e.get("splitNumber");t instanceof Qt&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:o,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var r=e.get("interval");null!=r&&t.setInterval&&t.setInterval(r)}function ce(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new lt({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new Ht({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new($.getClass(e)||dt)}}function ue(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}function de(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(e){return function(n,i){return t.scale.getFormattedLabel(n,i,e)}}(e):"string"===typeof e?function(e){return function(n){var i=t.scale.getLabel(n),o=e.replace("{value}",null!=i?i:"");return o}}(e):"function"===typeof e?function(e){return function(i,o){return null!=n&&(o=i.value-n),e(he(t,i),o,null!=i.level?{level:i.level}:null)}}(e):function(e){return t.scale.getLabel(e)}}function he(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function pe(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,o,a=n.getExtent();n instanceof lt?o=n.count():(i=n.getTicks(),o=i.length);var r,s=t.getLabelModel(),l=de(t),c=1;o>40&&(c=Math.ceil(o/40));for(var u=0;u<o;u+=c){var d=i?i[u]:{value:a[0]+u},h=l(d,u),p=s.getTextRect(h),f=fe(p,s.get("rotate")||0);r?r.union(f):r=f}return r}}function fe(t,e){var n=e*Math.PI/180,i=t.width,o=t.height,a=i*Math.abs(Math.cos(n))+Math.abs(o*Math.sin(n)),r=i*Math.abs(Math.sin(n))+Math.abs(o*Math.cos(n)),s=new At["a"](t.x,t.y,a,r);return s}function ge(t){var e=t.get("interval");return null==e?"auto":e}function me(t){return"category"===t.type&&0===ge(t.getLabelModel())}function ve(t,e){var n={};return d["j"](t.mapDimensionsAll(e),(function(e){n[ft(t,e)]=!0})),d["C"](n)}function ye(t,e,n){e&&d["j"](ve(e,n),(function(n){var i=e.getApproximateExtent(n);i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])}))}var _e=d["j"],xe=W["b"],be=function(){function t(t,e,n,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(e){if(C(e)){var n=A(this._dimName),i=e.getReferringComponents(n,D["b"]).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return d["d"](this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,i=this.getAxisModel(),o=i.axis.scale,a=this._dataZoomModel.getRangePropMode(),r=[0,100],s=[],l=[];_e(["start","end"],(function(i,c){var u=t[i],d=t[i+"Value"];"percent"===a[c]?(null==u&&(u=r[c]),d=o.parse(W["i"](u,r,n))):(e=!0,d=null==d?n[c]:o.parse(d),u=W["i"](d,n,r)),l[c]=d,s[c]=u})),xe(l),xe(s);var c=this._minMaxSpan;function u(t,e,n,i,a){var r=a?"Span":"ValueSpan";F(0,t,n,"all",c["min"+r],c["max"+r]);for(var s=0;s<2;s++)e[s]=W["i"](t[s],n,i,!0),a&&(e[s]=o.parse(e[s]))}return e?u(l,s,n,r,!1):u(s,l,r,n,!0),{valueWindow:l,percentWindow:s}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=we(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),a=this._valueWindow;"none"!==o&&_e(i,(function(t){var e=t.getData(),i=e.mapDimensionsAll(n);i.length&&("weakFilter"===o?e.filterSelf((function(t){for(var n,o,r,s=0;s<i.length;s++){var l=e.get(i[s],t),c=!isNaN(l),u=l<a[0],d=l>a[1];if(c&&!u&&!d)return!0;c&&(r=!0),u&&(n=!0),d&&(o=!0)}return r&&n&&o})):_e(i,(function(n){if("empty"===o)t.setData(e=e.map(n,(function(t){return r(t)?t:NaN})));else{var i={};i[n]=a,e.selectRange(i)}})),_e(i,(function(t){e.setApproximateExtent(a,t)})))}))}function r(t){return t>=a[0]&&t<=a[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;_e(["min","max"],(function(i){var o=e.get(i+"Span"),a=e.get(i+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?o=W["i"](n[0]+a,n,[0,100],!0):null!=o&&(a=W["i"](o,[0,100],n,!0)-n[0]),t[i+"Span"]=o,t[i+"ValueSpan"]=a}),this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var i=W["d"](n,[0,500]);i=Math.min(i,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+n[0].toFixed(i)),100!==e[1]&&o.setDeterminedMinMax("max",+n[1].toFixed(i)),o.freeze()}},t}();function we(t,e,n){var i=[1/0,-1/0];_e(n,(function(t){ye(i,t.getData(),e)}));var o=t.getAxisModel(),a=oe(o.axis.scale,o,i).calculate();return[a.min,a.max]}var Oe=be,Me={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",(function(n){n.eachTargetAxis((function(i,o){var a=t.getComponent(A(i),o);e(i,o,a,n)}))}))}e((function(t,e,n,i){n.__dzAxisProxy=null}));var n=[];e((function(e,i,o,a){o.__dzAxisProxy||(o.__dzAxisProxy=new Oe(e,i,a,t),n.push(o.__dzAxisProxy))}));var i=Object(d["f"])();return Object(d["j"])(n,(function(t){Object(d["j"])(t.getTargetSeriesModels(),(function(t){i.set(t.uid,t)}))})),i},overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(e,n){t.getAxisProxy(e,n).reset(t)})),t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).filterData(t,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})}}))}},Se=Me;function Ie(t){t.registerAction("dataZoom",(function(t,e){var n=k(e,t);Object(d["j"])(n,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}var je=!1;function Ce(t){je||(je=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,Se),Ie(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function Ae(t){t.registerComponentModel(z),t.registerComponentView(H),Ce(t)}var ke=function(){function t(){}return t}(),Te={};function De(t,e){Te[t]=e}function Le(t){return Te[t]}var Pe=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;d["j"](this.option.feature,(function(t,n){var i=Le(n);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(e)),d["F"](t,i.defaultOption))}))},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(c["a"]),Ee=Pe,Re=n("2306"),Ne=n("7d6c"),ze=n("4319");function Be(t){return null==t?0:t.length||1}function Ve(t){return t}var Ge=function(){function t(t,e,n,i,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||Ve,this._newKeyGetter=i||Ve,this.context=o,this._diffModeMultiple="multiple"===a}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},i=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var r=i[a],s=n[r],l=Be(s);if(l>1){var c=s.shift();1===s.length&&(n[r]=s[0]),this._update&&this._update(c,a)}else 1===l?(n[r]=null,this._update&&this._update(s,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},i={},o=[],a=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(e,i,a,"_newKeyGetter");for(var r=0;r<o.length;r++){var s=o[r],l=n[s],c=i[s],u=Be(l),d=Be(c);if(u>1&&1===d)this._updateManyToOne&&this._updateManyToOne(c,l),i[s]=null;else if(1===u&&d>1)this._updateOneToMany&&this._updateOneToMany(c,l),i[s]=null;else if(1===u&&1===d)this._update&&this._update(c,l),i[s]=null;else if(u>1)for(var h=0;h<u;h++)this._remove&&this._remove(l[h]);else this._remove&&this._remove(l)}this._performRestAdd(a,i)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o=e[i],a=Be(o);if(a>1)for(var r=0;r<a;r++)this._add&&this._add(o[r]);else 1===a&&this._add&&this._add(o);e[i]=null}},t.prototype._initIndexMap=function(t,e,n,i){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var r="_ec_"+this[i](t[a],a);if(o||(n[a]=r),e){var s=e[r],l=Be(s);0===l?(e[r]=a,o&&n.push(r)):1===l?e[r]=[s,a]:s.push(a)}}},t}(),He=Ge;function We(t,e,n){var i=e.getBoxLayoutParams(),o=e.get("padding"),a={width:n.getWidth(),height:n.getHeight()},r=Object(b["d"])(i,a,o);Object(b["a"])(e.get("orient"),t,e.get("itemGap"),r.width,r.height),Object(b["f"])(t,i,a,o)}function Fe(t,e){var n=w["g"](e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new y["a"]({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1}),t}var Ze=n("8918"),Ye=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.render=function(t,e,n,i){var o=this.group;if(o.removeAll(),t.get("show")){var a=+t.get("itemSize"),r=t.get("feature")||{},s=this._features||(this._features={}),l=[];d["j"](r,(function(t,e){l.push(e)})),new He(this._featureNames||[],l).add(c).update(c).remove(d["h"](c,null)).execute(),this._featureNames=l,We(o,t,n),o.add(Fe(o.getBoundingRect(),t)),o.eachChild((function(t){var e=t.__title,i=t.ensureState("emphasis"),r=i.textConfig||(i.textConfig={}),s=t.getTextContent(),l=s&&s.states.emphasis;if(l&&!d["u"](l)&&e){var c=l.style||(l.style={}),u=te["e"](e,v["a"].makeFont(c)),h=t.x+o.x,p=t.y+o.y+a,f=!1;p+u.height>n.getHeight()&&(r.position="top",f=!0);var g=f?-5-u.height:a+8;h+u.width/2>n.getWidth()?(r.position=["100%",g],c.align="right"):h-u.width/2<0&&(r.position=[0,g],c.align="left")}}))}function c(o,a){var c,d=l[o],h=l[a],p=r[d],f=new ze["a"](p,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===d&&(p.title=i.newTitle),d&&!h){if(Xe(d))c={onclick:f.option.onclick,featureName:d};else{var g=Le(d);if(!g)return;c=new g}s[d]=c}else if(c=s[h],!c)return;c.uid=Object(Ze["c"])("toolbox-feature"),c.model=f,c.ecModel=e,c.api=n;var m=c instanceof ke;d||!h?!f.get("show")||m&&c.unusable?m&&c.remove&&c.remove(e,n):(u(f,c,d),f.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&("emphasis"===e?Ne["o"]:Ne["z"])(i[t])},c instanceof ke&&c.render&&c.render(f,e,n,i)):m&&c.dispose&&c.dispose(e,n)}function u(i,r,s){var l,c,u=i.getModel("iconStyle"),h=i.getModel(["emphasis","iconStyle"]),p=r instanceof ke&&r.getIcons?r.getIcons():i.get("icon"),f=i.get("title")||{};"string"===typeof p?(l={},l[s]=p):l=p,"string"===typeof f?(c={},c[s]=f):c=f;var g=i.iconPaths={};d["j"](l,(function(s,l){var p=Re["createIcon"](s,{},{x:-a/2,y:-a/2,width:a,height:a});p.setStyle(u.getItemStyle());var f=p.ensureState("emphasis");f.style=h.getItemStyle();var m=new v["a"]({style:{text:c[l],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null},ignore:!0});p.setTextContent(m),Re["setTooltipConfig"]({el:p,componentModel:t,itemName:l,formatterParamsExtra:{title:c[l]}}),p.__title=c[l],p.on("mouseover",(function(){var e=h.getItemStyle(),n="vertical"===t.get("orient")?null==t.get("right")?"right":"left":null==t.get("bottom")?"bottom":"top";m.setStyle({fill:h.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),p.setTextConfig({position:h.get("textPosition")||n}),m.ignore=!t.get("showTitle"),Object(Ne["o"])(this)})).on("mouseout",(function(){"emphasis"!==i.get(["iconStatus",l])&&Object(Ne["z"])(this),m.hide()})),("emphasis"===i.get(["iconStatus",l])?Ne["o"]:Ne["z"])(p),o.add(p),p.on("click",d["c"](r.onclick,r,e,n,l)),g[l]=p}))}},e.prototype.updateView=function(t,e,n,i){d["j"](this._features,(function(t){t instanceof ke&&t.updateView&&t.updateView(t.model,e,n,i)}))},e.prototype.remove=function(t,e){d["j"](this._features,(function(n){n instanceof ke&&n.remove&&n.remove(t,e)})),this.group.removeAll()},e.prototype.dispose=function(t,e){d["j"](this._features,(function(n){n instanceof ke&&n.dispose&&n.dispose(t,e)}))},e.type="toolbox",e}(s["a"]);function Xe(t){return 0===t.indexOf("my")}var Ue=Ye,$e=n("22d1"),qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",o="svg"===e.getZr().painter.getType(),a=o?"svg":n.get("type",!0)||"png",r=e.getConnectedDataURL({type:a,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if("function"!==typeof MouseEvent||!$e["a"].browser.newEdge&&($e["a"].browser.ie||$e["a"].browser.edge))if(window.navigator.msSaveOrOpenBlob||o){var s=r.split(","),l=s[0].indexOf("base64")>-1,c=o?decodeURIComponent(s[1]):s[1];l&&(c=window.atob(c));var u=i+"."+a;if(window.navigator.msSaveOrOpenBlob){var d=c.length,h=new Uint8Array(d);while(d--)h[d]=c.charCodeAt(d);var p=new Blob([h]);window.navigator.msSaveOrOpenBlob(p,u)}else{var f=document.createElement("iframe");document.body.appendChild(f);var g=f.contentWindow,m=g.document;m.open("image/svg+xml","replace"),m.write(c),m.close(),g.focus(),m.execCommand("SaveAs",!0,u),document.body.removeChild(f)}}else{var v=n.get("lang"),y='<body style="margin:0;"><img src="'+r+'" style="max-width:100%;" title="'+(v&&v[0]||"")+'" /></body>',_=window.open();_.document.write(y),_.document.title=i}else{var x=document.createElement("a");x.download=i+"."+a,x.target="_blank",x.href=r;var b=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});x.dispatchEvent(b)}},e.getDefaultOption=function(t){var e={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocale(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocale(["toolbox","saveAsImage","lang"])};return e},e}(ke);qe.prototype.unusable=!$e["a"].canvasSupported;var Ke=qe,Je="__ec_magicType_stack__",Qe=[["line","bar"],["stack"]],tn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return d["j"](t.get("type"),(function(t){e[t]&&(n[t]=e[t])})),n},e.getDefaultOption=function(t){var e={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocale(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return e},e.prototype.onclick=function(t,e,n){var i=this.model,o=i.get(["seriesIndex",n]);if(en[n]){var a,r={series:[]},s=function(t){var e=t.subType,o=t.id,a=en[n](e,o,t,i);a&&(d["i"](a,t.option),r.series.push(a));var s=t.coordinateSystem;if(s&&"cartesian2d"===s.type&&("line"===n||"bar"===n)){var l=s.getAxesByScale("ordinal")[0];if(l){var c=l.dim,u=c+"Axis",h=t.getReferringComponents(u,D["b"]).models[0],p=h.componentIndex;r[u]=r[u]||[];for(var f=0;f<=p;f++)r[u][p]=r[u][p]||{};r[u][p].boundaryGap="bar"===n}}};d["j"](Qe,(function(t){d["p"](t,n)>=0&&d["j"](t,(function(t){i.setIconStatus(t,"normal")}))})),i.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},s);var l=n;"stack"===n&&(a=d["F"]({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",n])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:r,newTitle:a,featureName:"magicType"})}},e}(ke),en={line:function(t,e,n,i){if("bar"===t)return d["F"]({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,n,i){if("line"===t)return d["F"]({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,n,i){var o=n.get("stack")===Je;if("line"===t||"bar"===t)return i.setIconStatus("stack",o?"normal":"emphasis"),d["F"]({id:e,stack:o?"":Je},i.get(["option","stack"])||{},!0)}};r["c"]({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,e){e.mergeOption(t.newOption)}));var nn=tn,on=n("607d"),an=new Array(60).join("-"),rn="\t";function sn(t){var e={},n=[],i=[];return t.eachRawSeries((function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)n.push(t);else{var a=o.getBaseAxis();if("category"===a.type){var r=a.dim+"_"+a.index;e[r]||(e[r]={categoryAxis:a,valueAxis:o.getOtherAxis(a),series:[]},i.push({axisDim:a.dim,axisIndex:a.index})),e[r].series.push(t)}else n.push(t)}})),{seriesGroupByCategoryAxis:e,other:n,meta:i}}function ln(t){var e=[];return d["j"](t,(function(t,n){var i=t.categoryAxis,o=t.valueAxis,a=o.dim,r=[" "].concat(d["E"](t.series,(function(t){return t.name}))),s=[i.model.getCategories()];d["j"](t.series,(function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(a),(function(t){return t})))}));for(var l=[r.join(rn)],c=0;c<s[0].length;c++){for(var u=[],h=0;h<s.length;h++)u.push(s[h][c]);l.push(u.join(rn))}e.push(l.join("\n"))})),e.join("\n\n"+an+"\n\n")}function cn(t){return d["E"](t,(function(t){var e=t.getRawData(),n=[t.name],i=[];return e.each(e.dimensions,(function(){for(var t=arguments.length,o=arguments[t-1],a=e.getName(o),r=0;r<t-1;r++)i[r]=arguments[r];n.push((a?a+rn:"")+i.join(rn))})),n.join("\n")})).join("\n\n"+an+"\n\n")}function un(t){var e=sn(t);return{value:d["m"]([ln(e.seriesGroupByCategoryAxis),cn(e.other)],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+an+"\n\n"),meta:e.meta}}function dn(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function hn(t){var e=t.slice(0,t.indexOf("\n"));if(e.indexOf(rn)>=0)return!0}var pn=new RegExp("["+rn+"]+","g");function fn(t){for(var e=t.split(/\n+/g),n=dn(e.shift()).split(pn),i=[],o=d["E"](n,(function(t){return{name:t,data:[]}})),a=0;a<e.length;a++){var r=dn(e[a]).split(pn);i.push(r.shift());for(var s=0;s<r.length;s++)o[s]&&(o[s].data[a]=r[s])}return{series:o,categories:i}}function gn(t){for(var e=t.split(/\n+/g),n=dn(e.shift()),i=[],o=0;o<e.length;o++){var a=dn(e[o]);if(a){var r=a.split(pn),s="",l=void 0,c=!1;isNaN(r[0])?(c=!0,s=r[0],r=r.slice(1),i[o]={name:s,value:[]},l=i[o].value):l=i[o]=[];for(var u=0;u<r.length;u++)l.push(+r[u]);1===l.length&&(c?i[o].value=l[0]:i[o]=l[0])}}return{name:n,data:i}}function mn(t,e){var n=t.split(new RegExp("\n*"+an+"\n*","g")),i={series:[]};return d["j"](n,(function(t,n){if(hn(t)){var o=fn(t),a=e[n],r=a.axisDim+"Axis";a&&(i[r]=i[r]||[],i[r][a.axisIndex]={data:o.categories},i.series=i.series.concat(o.series))}else{o=gn(t);i.series.push(o)}})),i}var vn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.onclick=function(t,e){var n=e.getDom(),i=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var a=document.createElement("h4"),r=i.get("lang")||[];a.innerHTML=r[0]||i.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=i.get("textColor");var s=document.createElement("div"),l=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:auto;";var c=i.get("optionToContent"),u=i.get("contentToOption"),h=un(t);if("function"===typeof c){var p=c(e.getOption());"string"===typeof p?s.innerHTML=p:d["t"](p)&&s.appendChild(p)}else s.appendChild(l),l.readOnly=i.get("readOnly"),l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",l.style.color=i.get("textColor"),l.style.borderColor=i.get("textareaBorderColor"),l.style.backgroundColor=i.get("textareaColor"),l.value=h.value;var f=h.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+i.get("buttonColor"),m+=";color:"+i.get("buttonTextColor");var _=this;function x(){n.removeChild(o),_._dom=null}Object(on["a"])(v,"click",x),Object(on["a"])(y,"click",(function(){if(null==u&&null!=c||null!=u&&null==c)x();else{var t;try{t="function"===typeof u?u(s,e.getOption()):mn(l.value,f)}catch(n){throw x(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),x()}})),v.innerHTML=r[1],y.innerHTML=r[2],y.style.cssText=m,v.style.cssText=m,!i.get("readOnly")&&g.appendChild(y),g.appendChild(v),o.appendChild(a),o.appendChild(s),o.appendChild(g),s.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){var e={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocale(["toolbox","dataView","title"]),lang:t.getLocale(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return e},e}(ke);function yn(t,e){return d["E"](t,(function(t,n){var i=e&&e[n];if(d["y"](i)&&!d["r"](i)){var o=d["y"](t)&&!d["r"](t);o||(t={value:t});var a=null!=i.name&&null==t.name;return t=d["i"](t,i),a&&delete t.name,t}return t}))}r["c"]({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,e){var n=[];d["j"](t.newOption.series,(function(t){var i=e.getSeriesByName(t.name)[0];if(i){var o=i.get("data");n.push({name:t.name,data:yn(t.data,o)})}else n.push(d["l"]({type:"scatter"},t))})),e.mergeOption(d["i"]({series:n},t.newOption))}));var _n=vn,xn=d["j"],bn=Object(D["m"])();function wn(t,e){var n=In(t);xn(e,(function(e,i){for(var o=n.length-1;o>=0;o--){var a=n[o];if(a[i])break}if(o<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(r){var s=r.getPercentRange();n[0][i]={dataZoomId:i,start:s[0],end:s[1]}}}})),n.push(e)}function On(t){var e=In(t),n=e[e.length-1];e.length>1&&e.pop();var i={};return xn(n,(function(t,n){for(var o=e.length-1;o>=0;o--)if(t=e[o][n],t){i[n]=t;break}})),i}function Mn(t){bn(t).snapshots=null}function Sn(t){return In(t).length}function In(t){var e=bn(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var jn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.onclick=function(t,e){Mn(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){var e={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocale(["toolbox","restore","title"])};return e},e}(ke);r["c"]({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,e){e.resetOption("recreate")}));var Cn=jn,An=n("6fd3"),kn=n("2dc5"),Tn=n("d498"),Dn=n("87b1"),Ln="\0_ec_interaction_mutex";function Pn(t,e,n){var i=Nn(t);i[e]=n}function En(t,e,n){var i=Nn(t),o=i[e];o===n&&(i[e]=null)}function Rn(t,e){return!!Nn(t)[e]}function Nn(t){return t[Ln]||(t[Ln]={})}r["c"]({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){}));var zn=!0,Bn=Math.min,Vn=Math.max,Gn=Math.pow,Hn=1e4,Wn=6,Fn=6,Zn="globalPan",Yn={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Xn={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Un={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},$n=0,qn=function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new kn["a"],n._uid="brushController_"+$n++,Object(d["j"])(Ci,(function(t,e){this._handlers[e]=Object(d["c"])(t,this)}),n),n}return Object(m["a"])(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||Pn(e,Zn,this._uid),Object(d["j"])(this._handlers,(function(t,n){e.on(n,t)})),this._brushType=t.brushType,this._brushOption=Object(d["F"])(Object(d["d"])(Un),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;En(t,Zn,this._uid),Object(d["j"])(this._handlers,(function(e,n){t.off(n,e)})),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};Object(d["j"])(t,(function(t){e[t.panelId]=Object(d["d"])(t)}))}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=Object(d["E"])(t,(function(t){return Object(d["F"])(Object(d["d"])(Un),t,!0)}));var e="\0-brush-index-",n=this._covers,i=this._covers=[],o=this,a=this._creatingCover;return new He(n,t,s,r).add(l).update(l).remove(c).execute(),this;function r(t,n){return(null!=t.id?t.id:e+n)+"-"+t.brushType}function s(t,e){return r(t.__brushOption,e)}function l(e,r){var s=t[e];if(null!=r&&n[r]===a)i[e]=n[r];else{var l=i[e]=null!=r?(n[r].__brushOption=s,n[r]):Jn(o,Kn(o,s));ei(o,l)}}function c(t){n[t]!==a&&o.group.remove(n[t])}},e.prototype.unmount=function(){return this.enableBrush(!1),ai(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(An["a"]);function Kn(t,e){var n=Ti[e.brushType].createCover(t,e);return n.__brushOption=e,ti(n,e),t.group.add(n),n}function Jn(t,e){var n=ni(e);return n.endCreating&&(n.endCreating(t,e),ti(e,e.__brushOption)),e}function Qn(t,e){var n=e.__brushOption;ni(e).updateCoverShape(t,e,n.range,n)}function ti(t,e){var n=e.z;null==n&&(n=Hn),t.traverse((function(t){t.z=n,t.z2=n}))}function ei(t,e){ni(e).updateCommon(t,e),Qn(t,e)}function ni(t){return Ti[t.__brushOption.brushType]}function ii(t,e,n){var i,o=t._panels;if(!o)return zn;var a=t._transform;return Object(d["j"])(o,(function(t){t.isTargetByCursor(e,n,a)&&(i=t)})),i}function oi(t,e){var n=t._panels;if(!n)return zn;var i=e.__brushOption.panelId;return null!=i?n[i]:zn}function ai(t){var e=t._covers,n=e.length;return Object(d["j"])(e,(function(e){t.group.remove(e)}),t),e.length=0,!!n}function ri(t,e){var n=Object(d["E"])(t._covers,(function(t){var e=t.__brushOption,n=Object(d["d"])(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}}));t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function si(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],i=e[0],o=n[0]-i[0],a=n[1]-i[1],r=Gn(o*o+a*a,.5);return r>Wn}function li(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function ci(t,e,n,i){var o=new kn["a"];return o.add(new y["a"]({name:"main",style:pi(n),silent:!0,draggable:!0,cursor:"move",drift:Object(d["h"])(yi,t,e,o,["n","s","w","e"]),ondragend:Object(d["h"])(ri,e,{isEnd:!0})})),Object(d["j"])(i,(function(n){o.add(new y["a"]({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Object(d["h"])(yi,t,e,o,n),ondragend:Object(d["h"])(ri,e,{isEnd:!0})}))})),o}function ui(t,e,n,i){var o=i.brushStyle.lineWidth||0,a=Vn(o,Fn),r=n[0][0],s=n[1][0],l=r-o/2,c=s-o/2,u=n[0][1],d=n[1][1],h=u-a+o/2,p=d-a+o/2,f=u-r,g=d-s,m=f+o,v=g+o;hi(t,e,"main",r,s,f,g),i.transformable&&(hi(t,e,"w",l,c,a,v),hi(t,e,"e",h,c,a,v),hi(t,e,"n",l,c,m,a),hi(t,e,"s",l,p,m,a),hi(t,e,"nw",l,c,a,a),hi(t,e,"ne",h,c,a,a),hi(t,e,"sw",l,p,a,a),hi(t,e,"se",h,p,a,a))}function di(t,e){var n=e.__brushOption,i=n.transformable,o=e.childAt(0);o.useStyle(pi(n)),o.attr({silent:!i,cursor:i?"move":"default"}),Object(d["j"])([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(n){var o=e.childOfName(n.join("")),a=1===n.length?mi(t,n[0]):vi(t,n);o&&o.attr({silent:!i,invisible:!i,cursor:i?Xn[a]+"-resize":null})}))}function hi(t,e,n,i,o,a,r){var s=e.childOfName(n);s&&s.setShape(wi(bi(t,e,[[i,o],[i+a,o+r]])))}function pi(t){return Object(d["i"])({strokeNoScale:!0},t.brushStyle)}function fi(t,e,n,i){var o=[Bn(t,n),Bn(e,i)],a=[Vn(t,n),Vn(e,i)];return[[o[0],a[0]],[o[1],a[1]]]}function gi(t){return Re["getTransform"](t.group)}function mi(t,e){var n={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},o=Re["transformDirection"](n[e],gi(t));return i[o]}function vi(t,e){var n=[mi(t,e[0]),mi(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}function yi(t,e,n,i,o,a){var r=n.__brushOption,s=t.toRectRange(r.range),l=xi(e,o,a);Object(d["j"])(i,(function(t){var e=Yn[t];s[e[0]][e[1]]+=l[e[0]]})),r.range=t.fromRectRange(fi(s[0][0],s[1][0],s[0][1],s[1][1])),ei(e,n),ri(e,{isEnd:!1})}function _i(t,e,n,i){var o=e.__brushOption.range,a=xi(t,n,i);Object(d["j"])(o,(function(t){t[0]+=a[0],t[1]+=a[1]})),ei(t,e),ri(t,{isEnd:!1})}function xi(t,e,n){var i=t.group,o=i.transformCoordToLocal(e,n),a=i.transformCoordToLocal(0,0);return[o[0]-a[0],o[1]-a[1]]}function bi(t,e,n){var i=oi(t,e);return i&&i!==zn?i.clipPath(n,t._transform):Object(d["d"])(n)}function wi(t){var e=Bn(t[0][0],t[1][0]),n=Bn(t[0][1],t[1][1]),i=Vn(t[0][0],t[1][0]),o=Vn(t[0][1],t[1][1]);return{x:e,y:n,width:i-e,height:o-n}}function Oi(t,e,n){if(t._brushType&&!ki(t,e.offsetX,e.offsetY)){var i=t._zr,o=t._covers,a=ii(t,e,n);if(!t._dragging)for(var r=0;r<o.length;r++){var s=o[r].__brushOption;if(a&&(a===zn||s.panelId===a.panelId)&&Ti[s.brushType].contain(o[r],n[0],n[1]))return}a&&i.setCursorStyle("crosshair")}}function Mi(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Si(t,e,n){return t.childOfName("main").contain(e,n)}function Ii(t,e,n,i){var o,a=t._creatingCover,r=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),si(t)||a){if(r&&!a){"single"===s.brushMode&&ai(t);var l=Object(d["d"])(s);l.brushType=ji(l.brushType,r),l.panelId=r===zn?null:r.panelId,a=t._creatingCover=Kn(t,l),t._covers.push(a)}if(a){var c=Ti[ji(t._brushType,r)],u=a.__brushOption;u.range=c.getCreatingRange(bi(t,a,t._track)),i&&(Jn(t,a),c.updateCommon(t,a)),Qn(t,a),o={isEnd:i}}}else i&&"single"===s.brushMode&&s.removeOnClick&&ii(t,e,n)&&ai(t)&&(o={isEnd:i,removeOnClick:!0});return o}function ji(t,e){return"auto"===t?e.defaultBrushType:t}var Ci={mousedown:function(t){if(this._dragging)Ai(this,t);else if(!t.target||!t.target.draggable){Mi(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var n=this._creatingPanel=ii(this,t,e);n&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,i=this.group.transformCoordToLocal(e,n);if(Oi(this,t,i),this._dragging){Mi(t);var o=Ii(this,t,i,!1);o&&ri(this,o)}},mouseup:function(t){Ai(this,t)}};function Ai(t,e){if(t._dragging){Mi(e);var n=e.offsetX,i=e.offsetY,o=t.group.transformCoordToLocal(n,i),a=Ii(t,e,o,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&ri(t,a)}}function ki(t,e,n){var i=t._zr;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}var Ti={lineX:Di(0),lineY:Di(1),rect:{createCover:function(t,e){function n(t){return t}return ci({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=li(t);return fi(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,i){ui(t,e,n,i)},updateCommon:di,contain:Si},polygon:{createCover:function(t,e){var n=new kn["a"];return n.add(new Tn["a"]({name:"main",style:pi(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new Dn["a"]({name:"main",draggable:!0,drift:Object(d["h"])(_i,t,e),ondragend:Object(d["h"])(ri,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:bi(t,e,n)})},updateCommon:di,contain:Si}};function Di(t){return{createCover:function(e,n){return ci({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=li(e),i=Bn(n[0][t],n[1][t]),o=Vn(n[0][t],n[1][t]);return[i,o]},updateCoverShape:function(e,n,i,o){var a,r=oi(e,n);if(r!==zn&&r.getLinearBrushOtherExtent)a=r.getLinearBrushOtherExtent(t);else{var s=e._zr;a=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[i,a];t&&l.reverse(),ui(e,n,l,o)},updateCommon:di,contain:Si}}var Li=qn,Pi={axisPointer:1,tooltip:1,brush:1};function Ei(t,e,n){var i=e.getComponentByElement(t.topTarget),o=i&&i.coordinateSystem;return i&&i!==n&&!Pi.hasOwnProperty(i.mainType)&&o&&o.model!==n}function Ri(t){return t=Bi(t),function(e){return Re["clipPointsByRect"](e,t)}}function Ni(t,e){return t=Bi(t),function(n){var i=null!=e?e:n,o=i?t.width:t.height,a=i?t.x:t.y;return[a,a+(o||0)]}}function zi(t,e,n){var i=Bi(t);return function(t,o){return i.contain(o[0],o[1])&&!Ei(t,e,n)}}function Bi(t){return At["a"].create(t)}var Vi=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Gi=function(){function t(t,e,n){var i=this;this._targetInfoList=[];var o=Wi(e,t);Object(d["j"])(Fi,(function(t,e){(!n||!n.include||Object(d["p"])(n.include,e)>=0)&&t(o,i._targetInfoList)}))}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,(function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var i=Xi[t.brushType](0,n,e);t.__rangeOffset={offset:$i[t.brushType](i.values,t.range,[1,1]),xyMinMax:i.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,e,n){Object(d["j"])(t,(function(t){var i=this.findTargetInfo(t,e);i&&!0!==i&&Object(d["j"])(i.coordSyses,(function(i){var o=Xi[t.brushType](1,i,t.range,!0);n(t,o.values,i,e)}))}),this)},t.prototype.setInputRanges=function(t,e){Object(d["j"])(t,(function(t){var n=this.findTargetInfo(t,e);if(t.range=t.range||[],n&&!0!==n){t.panelId=n.panelId;var i=Xi[t.brushType](0,n.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?$i[t.brushType](i.values,o.offset,Ki(i.xyMinMax,o.xyMinMax)):i.values}}),this)},t.prototype.makePanelOpts=function(t,e){return Object(d["E"])(this._targetInfoList,(function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:Ri(i),isTargetByCursor:zi(i,t,n.coordSysModel),getLinearBrushOtherExtent:Ni(i)}}))},t.prototype.controlSeries=function(t,e,n){var i=this.findTargetInfo(t,n);return!0===i||i&&Object(d["p"])(i.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=Wi(e,t),o=0;o<n.length;o++){var a=n[o],r=t.panelId;if(r){if(a.panelId===r)return a}else for(var s=0;s<Zi.length;s++)if(Zi[s](i,a))return a}return!0},t}();function Hi(t){return t[0]>t[1]&&t.reverse(),t}function Wi(t,e){return Object(D["q"])(t,e,{includeMainTypes:Vi})}var Fi={grid:function(t,e){var n=t.xAxisModels,i=t.yAxisModels,o=t.gridModels,a=Object(d["f"])(),r={},s={};(n||i||o)&&(Object(d["j"])(n,(function(t){var e=t.axis.grid.model;a.set(e.id,e),r[e.id]=!0})),Object(d["j"])(i,(function(t){var e=t.axis.grid.model;a.set(e.id,e),s[e.id]=!0})),Object(d["j"])(o,(function(t){a.set(t.id,t),r[t.id]=!0,s[t.id]=!0})),a.each((function(t){var o=t.coordinateSystem,a=[];Object(d["j"])(o.getCartesians(),(function(t,e){(Object(d["p"])(n,t.getAxis("x").model)>=0||Object(d["p"])(i,t.getAxis("y").model)>=0)&&a.push(t)})),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:Yi.grid,xAxisDeclared:r[t.id],yAxisDeclared:s[t.id]})})))},geo:function(t,e){Object(d["j"])(t.geoModels,(function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:Yi.geo})}))}},Zi=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,o=t.gridModel;return!o&&n&&(o=n.axis.grid.model),!o&&i&&(o=i.axis.grid.model),o&&o===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],Yi={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Re["getTransform"](t)),e}},Xi={lineX:Object(d["h"])(Ui,0),lineY:Object(d["h"])(Ui,1),rect:function(t,e,n,i){var o=t?e.pointToData([n[0][0],n[1][0]],i):e.dataToPoint([n[0][0],n[1][0]],i),a=t?e.pointToData([n[0][1],n[1][1]],i):e.dataToPoint([n[0][1],n[1][1]],i),r=[Hi([o[0],a[0]]),Hi([o[1],a[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,n,i){var o=[[1/0,-1/0],[1/0,-1/0]],a=Object(d["E"])(n,(function(n){var a=t?e.pointToData(n,i):e.dataToPoint(n,i);return o[0][0]=Math.min(o[0][0],a[0]),o[1][0]=Math.min(o[1][0],a[1]),o[0][1]=Math.max(o[0][1],a[0]),o[1][1]=Math.max(o[1][1],a[1]),a}));return{values:a,xyMinMax:o}}};function Ui(t,e,n,i){var o=n.getAxis(["x","y"][t]),a=Hi(Object(d["E"])([0,1],(function(t){return e?o.coordToData(o.toLocalCoord(i[t]),!0):o.toGlobalCoord(o.dataToCoord(i[t]))}))),r=[];return r[t]=a,r[1-t]=[NaN,NaN],{values:a,xyMinMax:r}}var $i={lineX:Object(d["h"])(qi,0),lineY:Object(d["h"])(qi,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return Object(d["E"])(t,(function(t,i){return[t[0]-n[0]*e[i][0],t[1]-n[1]*e[i][1]]}))}};function qi(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function Ki(t,e){var n=Ji(t),i=Ji(e),o=[n[0]/i[0],n[1]/i[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function Ji(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var Qi=Gi,to=n("2f1f"),eo=d["j"],no=Object(D["n"])("toolbox-dataZoom_"),io=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.render=function(t,e,n,i){this._brushController||(this._brushController=new Li(n.getZr()),this._brushController.on("brush",d["c"](this._onBrush,this)).mount()),so(t,e,this,i,n),ro(t,e)},e.prototype.onclick=function(t,e,n){oo[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},i=this.ecModel;this._brushController.updateCovers([]);var o=new Qi(ao(this.model),i,{include:["grid"]});o.matchOutputRanges(e,i,(function(t,e,n){if("cartesian2d"===n.type){var i=t.brushType;"rect"===i?(a("x",n,e[0]),a("y",n,e[1])):a({lineX:"x",lineY:"y"}[i],n,e)}})),wn(i,n),this._dispatchZoomAction(n)}function a(t,e,o){var a=e.getAxis(t),s=a.model,l=r(t,s,i),c=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==c.minValueSpan&&null==c.maxValueSpan||(o=F(0,o.slice(),a.scale.getExtent(),0,c.minValueSpan,c.maxValueSpan)),l&&(n[l.id]={dataZoomId:l.id,startValue:o[0],endValue:o[1]})}function r(t,e,n){var i;return n.eachComponent({mainType:"dataZoom",subType:"select"},(function(n){var o=n.getAxisModel(t,e.componentIndex);o&&(i=n)})),i}},e.prototype._dispatchZoomAction=function(t){var e=[];eo(t,(function(t,n){e.push(d["d"](t))})),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){var e={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocale(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return e},e}(ke),oo={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(On(this.ecModel))}};function ao(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}function ro(t,e){t.setIconStatus("back",Sn(e)>1?"emphasis":"normal")}function so(t,e,n,i,o){var a=n._isZoomActive;i&&"takeGlobalCursor"===i.type&&(a="dataZoomSelect"===i.key&&i.dataZoomSelectActive),n._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var r=new Qi(ao(t),e,{include:["grid"]}),s=r.makePanelOpts(o,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));n._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}Object(to["b"])("dataZoom",(function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var i=e.getModel(n),o=[],a=ao(i),r=Object(D["q"])(t,a);return eo(r.xAxisModels,(function(t){return s(t,"xAxis","xAxisIndex")})),eo(r.yAxisModels,(function(t){return s(t,"yAxis","yAxisIndex")})),o}function s(t,e,n){var a=t.componentIndex,r={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:no+e+a};r[n]=a,o.push(r)}}));var lo=io;function co(t){t.registerComponentModel(Ee),t.registerComponentView(Ue),De("saveAsImage",Ke),De("magicType",nn),De("dataView",_n),De("dataZoom",lo),De("restore",Cn),g(Ae)}function uo(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ho(n,t,e),n.seriesInvolved&&fo(n,t),n}function ho(t,e,n){var i=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),a=o.get("link",!0)||[],r=[];Object(d["j"])(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var s=bo(n.model),l=t.coordSysAxesInfo[s]={};t.coordSysMap[s]=n;var c=n.model,u=c.getModel("tooltip",i);if(Object(d["j"])(n.getAxes(),Object(d["h"])(g,!1,null)),n.getTooltipAxes&&i&&u.get("show")){var h="axis"===u.get("trigger"),p="cross"===u.get(["axisPointer","type"]),f=n.getTooltipAxes(u.get(["axisPointer","axis"]));(h||p)&&Object(d["j"])(f.baseAxes,Object(d["h"])(g,!p||"cross",h)),p&&Object(d["j"])(f.otherAxes,Object(d["h"])(g,"cross",!1))}}function g(i,s,c){var d=c.model.getModel("axisPointer",o),h=d.get("show");if(h&&("auto"!==h||i||xo(d))){null==s&&(s=d.get("triggerTooltip")),d=i?po(c,u,o,e,i,s):d;var p=d.get("snap"),f=bo(c.model),g=s||p||"category"===c.type,m=t.axesInfo[f]={key:f,axis:c,coordSys:n,axisPointerModel:d,triggerTooltip:s,involveSeries:g,snap:p,useHandle:xo(d),seriesModels:[],linkGroup:null};l[f]=m,t.seriesInvolved=t.seriesInvolved||g;var v=go(a,c);if(null!=v){var y=r[v]||(r[v]={axesInfo:{}});y.axesInfo[f]=m,y.mapper=a[v].mapper,m.linkGroup=y}}}}))}function po(t,e,n,i,o,a){var r=e.getModel("axisPointer"),s=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};Object(d["j"])(s,(function(t){l[t]=Object(d["d"])(r.get(t))})),l.snap="category"!==t.type&&!!a,"cross"===r.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===o){var u=r.get(["label","show"]);if(c.show=null==u||u,!a){var h=l.lineStyle=r.get("crossStyle");h&&Object(d["i"])(c,h.textStyle)}}return t.model.getModel("axisPointer",new ze["a"](l,n,i))}function fo(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==o&&!1!==e.get(["axisPointer","show"],!0)&&Object(d["j"])(t.coordSysAxesInfo[bo(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}function go(t,e){for(var n=e.model,i=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(mo(a[i+"AxisId"],n.id)||mo(a[i+"AxisIndex"],n.componentIndex)||mo(a[i+"AxisName"],n.name))return o}}function mo(t,e){return"all"===t||Object(d["r"])(t)&&Object(d["p"])(t,e)>=0||t===e}function vo(t){var e=yo(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,o=n.option,a=n.get("status"),r=n.get("value");null!=r&&(r=i.parse(r));var s=xo(n);null==a&&(o.status=s?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==r||r>l[1])&&(r=l[1]),r<l[0]&&(r=l[0]),o.value=r,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function yo(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[bo(t)]}function _o(t){var e=yo(t);return e&&e.axisPointerModel}function xo(t){return!!t.get(["handle","show"])}function bo(t){return t.type+"||"+t.id}var wo={},Oo=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.render=function(e,n,i,o){this.axisPointerClass&&vo(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=_o(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){wo[t]=e},e.getAxisPointerClass=function(t){return t&&wo[t]},e.type="axis",e}(s["a"]),Mo=Oo,So=n("88b3"),Io=Object(D["m"])(),jo=d["d"],Co=d["c"],Ao=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,s=this._handle;if(!a||"hide"===a)return r&&r.hide(),void(s&&s.hide());r&&r.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,n);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var u=this._moveAnimation=this.determineAnimation(t,e);if(r){var h=d["h"](ko,e,u);this.updatePointerEl(r,l,h),this.updateLabelEl(r,l,h,e)}else r=this._group=new kn["a"],this.createPointerEl(r,l,t,e),this.createLabelEl(r,l,t,e),n.getZr().add(r);Po(r,e,!0),this._renderHandle(o)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,o="category"===i.type,a=e.get("snap");if(!a&&!o)return!1;if("auto"===n||null==n){var r=this.animationThreshold;if(o&&i.getBandWidth()>r)return!0;if(a){var s=yo(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>r}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,i,o){},t.prototype.createPointerEl=function(t,e,n,i){var o=e.pointer;if(o){var a=Io(t).pointerEl=new Re[o.type](jo(e.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,e,n,i){if(e.label){var o=Io(t).labelEl=new v["a"](jo(e.label));t.add(o),Do(o,i)}},t.prototype.updatePointerEl=function(t,e,n){var i=Io(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,i){var o=Io(t).labelEl;o&&(o.setStyle(e.label.style),n(o,{x:e.label.x,y:e.label.y}),Do(o,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),o=this._handle,a=n.getModel("handle"),r=n.get("status");if(!a.get("show")||!r||"hide"===r)return o&&i.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Re["createIcon"](a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){on["g"](t.event)},onmousedown:Co(this._onHandleDragMove,this,0,0),drift:Co(this._onHandleDragMove,this),ondragend:Co(this._onHandleDragEnd,this)}),i.add(o)),Po(o,n,!1),o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=a.get("size");d["r"](s)||(s=[s,s]),o.scaleX=s[0]/2,o.scaleY=s[1]/2,So["b"](this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){ko(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Lo(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(Lo(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(Lo(i)),Io(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},t}();function ko(t,e,n,i){To(Io(n).lastProp,i)||(Io(n).lastProp=i,e?Re["updateProps"](n,i,t):(n.stopAnimation(),n.attr(i)))}function To(t,e){if(d["y"](t)&&d["y"](e)){var n=!0;return d["j"](e,(function(e,i){n=n&&To(t[i],e)})),!!n}return t===e}function Do(t,e){t[e.get(["label","show"])?"show":"hide"]()}function Lo(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function Po(t,e,n){var i=e.get("z"),o=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=o&&(t.zlevel=o),t.silent=n)}))}var Eo=Ao,Ro=n("1687"),No=n("cb11"),zo=n("a15a"),Bo=n("401b"),Vo=Math.PI,Go=function(){function t(t,e){this.group=new kn["a"],this.opt=e,this.axisModel=t,Object(d["i"])(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new kn["a"]({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!Ho[t]},t.prototype.add=function(t){Ho[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var i,o,a=Object(W["o"])(e-t);return Object(W["h"])(a)?(o=n>0?"top":"bottom",i="center"):Object(W["h"])(a-Vo)?(o=n>0?"bottom":"top",i="center"):(o="middle",i=a>0&&a<Vo?n>0?"right":"left":n>0?"left":"right"),{rotation:a,textAlign:i,textVerticalAlign:o}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),Ho={axisLine:function(t,e,n,i){var o=e.get(["axisLine","show"]);if("auto"===o&&t.handleAutoShown&&(o=t.handleAutoShown("axisLine")),o){var a=e.axis.getExtent(),r=i.transform,s=[a[0],0],l=[a[1],0];r&&(Object(Bo["b"])(s,s,r),Object(Bo["b"])(l,l,r));var c=Object(d["l"])({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),u=new No["a"]({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});u.anid="line",n.add(u);var h=e.get(["axisLine","symbol"]),p=e.get(["axisLine","symbolSize"]),f=e.get(["axisLine","symbolOffset"])||0;if("number"===typeof f&&(f=[f,f]),null!=h){"string"===typeof h&&(h=[h,h]),"string"!==typeof p&&"number"!==typeof p||(p=[p,p]);var g=p[0],m=p[1];Object(d["j"])([{rotate:t.rotation+Math.PI/2,offset:f[0],r:0},{rotate:t.rotation-Math.PI/2,offset:f[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],(function(e,i){if("none"!==h[i]&&null!=h[i]){var o=Object(zo["a"])(h[i],-g/2,-m/2,g,m,c.stroke,!0),a=e.r+e.offset;o.attr({rotation:e.rotate,x:s[0]+a*Math.cos(t.rotation),y:s[1]-a*Math.sin(t.rotation),silent:!0,z2:11}),n.add(o)}}))}}},axisTickLabel:function(t,e,n,i){var o=$o(n,i,e,t),a=Ko(n,i,e,t);Fo(e,a,o),qo(n,i,e,t.tickDirection)},axisName:function(t,e,n,i){var o=Object(d["L"])(t.axisName,e.get("name"));if(o){var a,r,s=e.get("nameLocation"),l=t.nameDirection,c=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,h=e.axis.getExtent(),p=h[0]>h[1]?-1:1,f=["start"===s?h[0]-p*u:"end"===s?h[1]+p*u:(h[0]+h[1])/2,Xo(s)?t.labelOffset+l*u:0],g=e.get("nameRotate");null!=g&&(g=g*Vo/180),Xo(s)?a=Go.innerTextLayout(t.rotation,null!=g?g:t.rotation,l):(a=Wo(t.rotation,s,g||0,h),r=t.axisNameAvailableWidth,null!=r&&(r=Math.abs(r/Math.sin(a.rotation)),!isFinite(r)&&(r=null)));var m=c.getFont(),y=e.get("nameTruncate",!0)||{},b=y.ellipsis,w=Object(d["L"])(t.nameTruncateMaxWidth,y.maxWidth,r),O=new v["a"]({x:f[0],y:f[1],rotation:a.rotation,silent:Go.isLabelSilent(e),style:Object(x["b"])(c,{text:o,font:m,overflow:"truncate",width:w,ellipsis:b,fill:c.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:c.get("align")||a.textAlign,verticalAlign:c.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(Re["setTooltipConfig"]({el:O,componentModel:e,itemName:o}),O.__fullText=o,O.anid="name",e.get("triggerEvent")){var M=Go.makeAxisEventDataBase(e);M.targetType="axisName",M.name=o,Object(_["a"])(O).eventData=M}i.add(O),O.updateTransform(),n.add(O),O.decomposeTransform()}}};function Wo(t,e,n,i){var o,a,r=Object(W["o"])(n-t),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return Object(W["h"])(r-Vo/2)?(a=l?"bottom":"top",o="center"):Object(W["h"])(r-1.5*Vo)?(a=l?"top":"bottom",o="center"):(a="middle",o=r<1.5*Vo&&r>Vo/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:o,textVerticalAlign:a}}function Fo(t,e,n){if(!me(t.axis)){var i=t.get(["axisLabel","showMinLabel"]),o=t.get(["axisLabel","showMaxLabel"]);e=e||[],n=n||[];var a=e[0],r=e[1],s=e[e.length-1],l=e[e.length-2],c=n[0],u=n[1],d=n[n.length-1],h=n[n.length-2];!1===i?(Zo(a),Zo(c)):Yo(a,r)&&(i?(Zo(r),Zo(u)):(Zo(a),Zo(c))),!1===o?(Zo(s),Zo(d)):Yo(l,s)&&(o?(Zo(l),Zo(h)):(Zo(s),Zo(d)))}}function Zo(t){t&&(t.ignore=!0)}function Yo(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var o=Ro["c"]([]);return Ro["f"](o,o,-t.rotation),n.applyTransform(Ro["e"]([],o,t.getLocalTransform())),i.applyTransform(Ro["e"]([],o,e.getLocalTransform())),n.intersect(i)}}function Xo(t){return"middle"===t||"center"===t}function Uo(t,e,n,i,o){for(var a=[],r=[],s=[],l=0;l<t.length;l++){var c=t[l].coord;r[0]=c,r[1]=0,s[0]=c,s[1]=n,e&&(Object(Bo["b"])(r,r,e),Object(Bo["b"])(s,s,e));var u=new No["a"]({subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:i,z2:2,autoBatch:!0,silent:!0});u.anid=o+"_"+t[l].tickValue,a.push(u)}return a}function $o(t,e,n,i){var o=n.axis,a=n.getModel("axisTick"),r=a.get("show");if("auto"===r&&i.handleAutoShown&&(r=i.handleAutoShown("axisTick")),r&&!o.scale.isBlank()){for(var s=a.getModel("lineStyle"),l=i.tickDirection*a.get("length"),c=o.getTicksCoords(),u=Uo(c,e.transform,l,Object(d["i"])(s.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)t.add(u[h]);return u}}function qo(t,e,n,i){var o=n.axis,a=n.getModel("minorTick");if(a.get("show")&&!o.scale.isBlank()){var r=o.getMinorTicksCoords();if(r.length)for(var s=a.getModel("lineStyle"),l=i*a.get("length"),c=Object(d["i"])(s.getLineStyle(),Object(d["i"])(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),u=0;u<r.length;u++)for(var h=Uo(r[u],e.transform,l,c,"minorticks_"+u),p=0;p<h.length;p++)t.add(h[p])}}function Ko(t,e,n,i){var o=n.axis,a=Object(d["L"])(i.axisLabelShow,n.get(["axisLabel","show"]));if(a&&!o.scale.isBlank()){var r=n.getModel("axisLabel"),s=r.get("margin"),l=o.getViewLabels(),c=(Object(d["L"])(i.labelRotate,r.get("rotate"))||0)*Vo/180,u=Go.innerTextLayout(i.rotation,c,i.labelDirection),h=n.getCategories&&n.getCategories(!0),p=[],f=Go.isLabelSilent(n),g=n.get("triggerEvent");return Object(d["j"])(l,(function(a,l){var c="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,m=a.formattedLabel,y=a.rawLabel,b=r;if(h&&h[c]){var w=h[c];Object(d["y"])(w)&&w.textStyle&&(b=new ze["a"](w.textStyle,r,n.ecModel))}var O=b.getTextColor()||n.get(["axisLine","lineStyle","color"]),M=o.dataToCoord(c),S=new v["a"]({x:M,y:i.labelOffset+i.labelDirection*s,rotation:u.rotation,silent:f,z2:10,style:Object(x["b"])(b,{text:m,align:b.getShallow("align",!0)||u.textAlign,verticalAlign:b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||u.textVerticalAlign,fill:"function"===typeof O?O("category"===o.type?y:"value"===o.type?c+"":c,l):O})});if(S.anid="label_"+c,g){var I=Go.makeAxisEventDataBase(n);I.targetType="axisLabel",I.value=y,Object(_["a"])(S).eventData=I}e.add(S),S.updateTransform(),p.push(S),t.add(S),S.decomposeTransform()})),p}}var Jo=Go;function Qo(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle(),e.fill=null):"shadow"===n&&(e=i.getAreaStyle(),e.stroke=null),e}function ta(t,e,n,i,o){var a=n.get("value"),r=na(a,e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),s=n.getModel("label"),l=w["g"](s.get("padding")||0),c=s.getFont(),u=te["e"](r,c),d=o.position,h=u.width+l[1]+l[3],p=u.height+l[0]+l[2],f=o.align;"right"===f&&(d[0]-=h),"center"===f&&(d[0]-=h/2);var g=o.verticalAlign;"bottom"===g&&(d[1]-=p),"middle"===g&&(d[1]-=p/2),ea(d,h,p,i);var m=s.get("backgroundColor");m&&"auto"!==m||(m=e.get(["axisLine","lineStyle","color"])),t.label={x:d[0],y:d[1],style:Object(x["b"])(s,{text:r,font:c,fill:s.getTextColor(),padding:l,backgroundColor:m}),z2:10}}function ea(t,e,n,i){var o=i.getWidth(),a=i.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+n,a)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function na(t,e,n,i,o){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:o.precision}),r=o.formatter;if(r){var s={value:he(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};d["j"](i,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,o=e&&e.getDataParams(i);o&&s.seriesData.push(o)})),d["z"](r)?a=r.replace("{value}",a):d["u"](r)&&(a=r(s))}return a}function ia(t,e,n){var i=Ro["b"]();return Ro["f"](i,i,n.rotation),Ro["h"](i,i,n.position),Re["applyTransform"]([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function oa(t,e,n,i,o,a){var r=Jo.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=o.get(["label","margin"]),ta(e,i,o,a,{position:ia(i.axis,t,n),align:r.textAlign,verticalAlign:r.textVerticalAlign})}function aa(t,e,n){return n=n||0,{x1:t[n],y1:t[1-n],x2:e[n],y2:e[1-n]}}function ra(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}}function sa(t,e,n){n=n||{};var i=t.coordinateSystem,o=e.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,l=r?"onZero":s,c=o.dim,u=i.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],p={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,g="x"===c?[h[2]-f,h[3]+f]:[h[0]-f,h[1]+f];if(r){var m=r.toGlobalCoord(r.dataToCoord(0));g[p.onZero]=Math.max(Math.min(m,g[1]),g[0])}a.position=["y"===c?g[p[l]]:h[0],"x"===c?g[p[l]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[s],a.labelOffset=r?g[p[s]]-g[p.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),d["L"](n.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var y=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===l?-y:y,a.z2=1,a}function la(t){return"cartesian2d"===t.get("coordinateSystem")}function ca(t){var e={xAxisModel:null,yAxisModel:null};return d["j"](e,(function(n,i){var o=i.replace(/Model$/,""),a=t.getReferringComponents(o,D["b"]).models[0];e[i]=a})),e}var ua=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.makeElOption=function(t,e,n,i,o){var a=n.axis,r=a.grid,s=i.get("type"),l=da(r,a).getOtherAxis(a).getGlobalExtent(),c=a.toGlobalCoord(a.dataToCoord(e,!0));if(s&&"none"!==s){var u=Qo(i),d=ha[s](a,c,l);d.style=u,t.graphicKey=d.type,t.pointer=d}var h=sa(r.model,n);oa(e,t,h,n,i,o)},e.prototype.getHandleTransform=function(t,e,n){var i=sa(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var o=ia(e.axis,t,i);return{x:o[0],y:o[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var o=n.axis,a=o.grid,r=o.getGlobalExtent(!0),s=da(a,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,c=[t.x,t.y];c[l]+=e[l],c[l]=Math.min(r[1],c[l]),c[l]=Math.max(r[0],c[l]);var u=(s[1]+s[0])/2,d=[u,u];d[l]=c[l];var h=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:d,tooltipOption:h[l]}},e}(Eo);function da(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var ha={line:function(t,e,n){var i=aa([e,n[0]],[e,n[1]],pa(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:ra([e-i/2,n[0]],[i,o],pa(t))}}};function pa(t){return"x"===t.dim?0:1}var fa=ua,ga=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="axisPointer",e.defaultOption={show:"auto",zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(c["a"]),ma=ga,va=Object(D["m"])(),ya=d["j"];function _a(t,e,n){if(!$e["a"].node){var i=e.getZr();va(i).records||(va(i).records={}),xa(i,e);var o=va(i).records[t]||(va(i).records[t]={});o.handler=n}}function xa(t,e){function n(n,i){t.on(n,(function(n){var o=Ma(e);ya(va(t).records,(function(t){t&&i(t,n,o.dispatchAction)})),ba(o.pendings,e)}))}va(t).initialized||(va(t).initialized=!0,n("click",d["h"](Oa,"click")),n("mousemove",d["h"](Oa,"mousemove")),n("globalout",wa))}function ba(t,e){var n,i=t.showTip.length,o=t.hideTip.length;i?n=t.showTip[i-1]:o&&(n=t.hideTip[o-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function wa(t,e,n){t.handler("leave",null,n)}function Oa(t,e,n,i){e.handler(t,n,i)}function Ma(t){var e={showTip:[],hideTip:[]},n=function(i){var o=e[i.type];o?o.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}function Sa(t,e){if(!$e["a"].node){var n=e.getZr(),i=(va(n).records||{})[t];i&&(va(n).records[t]=null)}}var Ia=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.render=function(t,e,n){var i=e.getComponent("tooltip"),o=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";_a("axisPointer",n,(function(t,e,n){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){Sa("axisPointer",e)},e.prototype.dispose=function(t,e){Sa("axisPointer",e)},e.type="axisPointer",e}(s["a"]),ja=Ia;function Ca(t,e){var n,i=[],o=t.seriesIndex;if(null==o||!(n=e.getSeriesByIndex(o)))return{point:[]};var a=n.getData(),r=D["s"](a,t);if(null==r||r<0||d["r"](r))return{point:[]};var s=a.getItemGraphicEl(r),l=n.coordinateSystem;if(n.getTooltipPosition)i=n.getTooltipPosition(r)||[];else if(l&&l.dataToPoint)if(t.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),h=u.dim,p=c.dim,f="x"===h||"radius"===h?1:0,g=a.mapDimension(p),m=[];m[f]=a.get(g,r),m[1-f]=a.get(a.getCalculationInfo("stackResultDimension"),r),i=l.dataToPoint(m)||[]}else i=l.dataToPoint(a.getValues(d["E"](l.dimensions,(function(t){return a.mapDimension(t)})),r))||[];else if(s){var v=s.getBoundingRect().clone();v.applyTransform(s.transform),i=[v.x+v.width/2,v.y+v.height/2]}return{point:i,el:s}}var Aa=Object(D["m"])();function ka(t,e,n){var i=t.currTrigger,o=[t.x,t.y],a=t,r=t.dispatchAction||Object(d["c"])(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Va(o)&&(o=Ca({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=Va(o),c=a.axesInfo,u=s.axesInfo,h="leave"===i||Va(o),p={},f={},g={list:[],map:{}},m={showPointer:Object(d["h"])(La,f),showTooltip:Object(d["h"])(Pa,g)};Object(d["j"])(s.coordSysMap,(function(t,e){var n=l||t.containPoint(o);Object(d["j"])(s.coordSysAxesInfo[e],(function(t,e){var i=t.axis,a=za(c,t);if(!h&&n&&(!c||a)){var r=a&&a.value;null!=r||l||(r=i.pointToData(o)),null!=r&&Ta(t,r,m,!1,p)}}))}));var v={};return Object(d["j"])(u,(function(t,e){var n=t.linkGroup;n&&!f[e]&&Object(d["j"])(n.axesInfo,(function(e,i){var o=f[i];if(e!==t&&o){var a=o.value;n.mapper&&(a=t.axis.scale.parse(n.mapper(a,Ba(e),Ba(t)))),v[t.key]=a}}))})),Object(d["j"])(v,(function(t,e){Ta(u[e],t,m,!0,p)})),Ea(f,u,p),Ra(g,o,t,r),Na(u,r,n),p}}function Ta(t,e,n,i,o){var a=t.axis;if(!a.scale.isBlank()&&a.containData(e))if(t.involveSeries){var r=Da(e,t),s=r.payloadBatch,l=r.snapToValue;s[0]&&null==o.seriesIndex&&Object(d["l"])(o,s[0]),!i&&t.snap&&a.containData(l)&&null!=l&&(e=l),n.showPointer(t,e,s),n.showTooltip(t,r,l)}else n.showPointer(t,e)}function Da(t,e){var n=e.axis,i=n.dim,o=t,a=[],r=Number.MAX_VALUE,s=-1;return Object(d["j"])(e.seriesModels,(function(e,l){var c,u,h=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var p=e.getAxisTooltipData(h,t,n);u=p.dataIndices,c=p.nestestValue}else{if(u=e.getData().indicesOfNearest(h[0],t,"category"===n.type?.5:null),!u.length)return;c=e.getData().get(h[0],u[0])}if(null!=c&&isFinite(c)){var f=t-c,g=Math.abs(f);g<=r&&((g<r||f>=0&&s<0)&&(r=g,s=f,o=c,a.length=0),Object(d["j"])(u,(function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:a,snapToValue:o}}function La(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function Pa(t,e,n,i){var o=n.payloadBatch,a=e.axis,r=a.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,c=bo(l),u=t.map[c];u||(u=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:r.componentIndex,axisType:r.type,axisId:r.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:o.slice()})}}function Ea(t,e,n){var i=n.axesInfo=[];Object(d["j"])(e,(function(e,n){var o=e.axisPointerModel.option,a=t[n];a?(!e.useHandle&&(o.status="show"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})}))}function Ra(t,e,n,i){if(!Va(e)&&t.list.length){var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}else i({type:"hideTip"})}function Na(t,e,n){var i=n.getZr(),o="axisPointerLastHighlights",a=Aa(i)[o]||{},r=Aa(i)[o]={};Object(d["j"])(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&Object(d["j"])(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;r[e]=t}))}));var s=[],l=[];Object(d["j"])(a,(function(t,e){!r[e]&&l.push(t)})),Object(d["j"])(r,(function(t,e){!a[e]&&s.push(t)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}function za(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function Ba(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function Va(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Ga(t){Mo.registerAxisPointerClass("CartesianAxisPointer",fa),t.registerComponentModel(ma),t.registerComponentView(ja),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!Object(d["r"])(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=uo(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ka)}var Ha=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(c["a"]),Wa=Ha,Fa=n("41ef"),Za=n("65ed");function Ya(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function Xa(t){if($e["a"].domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}var Ua=Xa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$a=Xa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function qa(t,e){if(!t)return e;e=Object(w["h"])(e,!0);var n=t.indexOf(e);return t=-1===n?e:"-"+t.slice(0,n)+"-"+e,t.toLowerCase()}function Ka(t,e){var n=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return n?e?n[e]:n:null}var Ja=n("217c"),Qa=qa($a,"transition"),tr=qa(Ua,"transform"),er="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+($e["a"].transform3dSupported?"will-change:transform;":"");function nr(t){return t="left"===t?"right":"right"===t?"left":"top"===t?"bottom":"top",t}function ir(t,e,n){if(!Object(d["z"])(n)||"inside"===n)return"";e=Object(w["b"])(e);var i=nr(n),o=i+":-6px;",a=tr+":";Object(d["p"])(["left","right"],i)>-1?(o+="top:50%",a+="translateY(-50%) rotate("+("left"===i?-225:-45)+"deg)"):(o+="left:50%",a+="translateX(-50%) rotate("+("top"===i?225:45)+"deg)");var r=e+" solid 1px;",s=["position:absolute;width:10px;height:10px;",o+";"+a+";","border-bottom:"+r,"border-right:"+r,"background-color:"+t+";","box-shadow:8px 8px 16px -3px #000;"];return'<div style="'+s.join("")+'"></div>'}function or(t,e){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+n,o="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+n,o+=$e["a"].transformSupported?","+tr+i:",left"+i+",top"+i),Qa+":"+o}function ar(t,e,n){var i=t.toFixed(0)+"px",o=e.toFixed(0)+"px";if(!$e["a"].transformSupported)return n?"top:"+o+";left:"+i+";":[["top",o],["left",i]];var a=$e["a"].transform3dSupported,r="translate"+(a?"3d":"")+"("+i+","+o+(a?",0":"")+")";return n?"top:0;left:0;"+tr+":"+r+";":[["top",0],["left",0],[Ua,r]]}function rr(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var o=t.get("textShadowColor"),a=t.get("textShadowBlur")||0,r=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return o&&a&&e.push("text-shadow:"+r+"px "+s+"px "+a+"px "+o),Object(d["j"])(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}function sr(t,e,n){var i=[],o=t.get("transitionDuration"),a=t.get("backgroundColor"),r=t.get("shadowBlur"),s=t.get("shadowColor"),l=t.get("shadowOffsetX"),c=t.get("shadowOffsetY"),u=t.getModel("textStyle"),h=Object(Ja["d"])(t,"html"),p=l+"px "+c+"px "+r+"px "+s;return i.push("box-shadow:"+p),e&&o&&i.push(or(o,n)),a&&($e["a"].canvasSupported?i.push("background-color:"+a):(i.push("background-color:#"+Object(Fa["f"])(a)),i.push("filter:alpha(opacity=70)"))),Object(d["j"])(["width","color","radius"],(function(e){var n="border-"+e,o=Object(w["h"])(n),a=t.get(o);null!=a&&i.push(n+":"+a+("color"===e?"":"px"))})),i.push(rr(u)),null!=h&&i.push("padding:"+Object(w["g"])(h).join("px ")+"px"),i.join(";")+";"}function lr(t,e,n,i,o){var a=e&&e.painter;if(n){var r=a&&a.getViewportRoot();r&&Object(Za["c"])(t,r,document.body,i,o)}else{t[0]=i,t[1]=o;var s=a&&a.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var cr=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,$e["a"].wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=e.getZr(),a=this._appendToBody=n&&n.appendToBody;lr(this._styleCoord,o,a,e.getWidth()/2,e.getHeight()/2),a?document.body.appendChild(i):t.appendChild(i),this._container=t;var r=this;i.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!r._enterable){var e=o.handler,n=o.painter.getViewportRoot();Object(on["e"])(n,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){r._inContent=!1,r._enterable&&r._show&&r.hideLater(r._hideDelay)}}return t.prototype.update=function(t){var e=this._container,n=Ka(e,"position"),i=e.style;"absolute"!==i.position&&"absolute"!==n&&(i.position="relative");var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,o=this._styleCoord;n.innerHTML?i.cssText=er+sr(t,!this._firstShow,this._longHide)+ar(o[0],o[1],!0)+"border-color:"+Object(w["b"])(e)+";"+(t.get("extraCssText")||"")+";pointer-event:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,o){if(null!=t){var a=this.el;if(Object(d["z"])(o)&&"item"===n.get("trigger")&&!Ya(n)&&(t+=ir(n.get("backgroundColor"),i,o)),Object(d["z"])(t))a.innerHTML=t;else if(t){a.innerHTML="",Object(d["r"])(t)||(t=[t]);for(var r=0;r<t.length;r++)Object(d["t"])(t[r])&&t[r].parentNode!==a&&a.appendChild(t[r])}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.clientWidth,t.clientHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(lr(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style,o=ar(n[0],n[1]);Object(d["j"])(o,(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",$e["a"].transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(Object(d["c"])(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t.prototype.getOuterSize=function(){var t=this.el.clientWidth,e=this.el.clientHeight,n=Ka(this.el);return n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)),{width:t,height:e}},t}(),ur=cr,dr=n("edae"),hr=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),gr(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,o){d["y"](t)&&Object(dr["c"])(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new v["a"]({style:{rich:e.richTextStyles,text:t,lineHeight:22,backgroundColor:n.get("backgroundColor"),borderRadius:n.get("borderRadius"),borderWidth:1,borderColor:i,shadowColor:n.get("shadowColor"),shadowBlur:n.get("shadowBlur"),shadowOffsetX:n.get("shadowOffsetX"),shadowOffsetY:n.get("shadowOffsetY"),textShadowColor:a.get("textShadowColor"),textShadowBlur:a.get("textShadowBlur")||0,textShadowOffsetX:a.get("textShadowOffsetX")||0,textShadowOffsetY:a.get("textShadowOffsetY")||0,fill:n.get(["textStyle","color"]),padding:Object(Ja["d"])(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),this._zr.add(this.el);var r=this;this.el.on("mouseover",(function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0})),this.el.on("mouseout",(function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=fr(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;gr(i,this._zr,t,e),t=i[0],e=i[1];var o=n.style,a=pr(o.borderWidth||0),r=fr(o);n.x=t+a+r.left,n.y=e+a+r.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(d["c"](this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.getOuterSize=function(){var t=this.getSize();return{width:t[0],height:t[1]}},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function pr(t){return Math.max(0,t)}function fr(t){var e=pr(t.shadowBlur||0),n=pr(t.shadowOffsetX||0),i=pr(t.shadowOffsetY||0);return{left:pr(e-n),right:pr(e+n),top:pr(e-i),bottom:pr(e+i)}}function gr(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var mr=hr,vr=n("38a2"),yr=n("fadd"),_r=d["c"],xr=d["j"],br=W["m"],wr=new y["a"]({shape:{x:-1,y:-1,width:2,height:2}}),Or=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.init=function(t,e){if(!$e["a"].node){var n=t.getComponent("tooltip"),i=n.get("renderMode");this._renderMode=Object(D["h"])(i),this._tooltipContent="richText"===this._renderMode?new mr(e):new ur(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!$e["a"].node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,e=t.get("triggerOn");_a("itemTooltip",this._api,_r((function(t,n,i){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(n,i):"leave"===t&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!$e["a"].node){var o=Sr(i,n);this._ticket="";var a=i.dataByCoordSys,r=kr(i,e,n);if(r){var s=r.el.getBoundingRect().clone();s.applyTransform(r.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:r.el,position:i.position,positionDefault:"bottom"},o)}else if(i.tooltip&&null!=i.x&&null!=i.y){var l=wr;l.x=i.x,l.y=i.y,l.update(),Object(_["a"])(l).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:l},o)}else if(a)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:a,tooltipOption:i.tooltipOption},o);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var c=Ca(i,e),u=c.point[0],d=c.point[1];null!=u&&null!=d&&this._tryShow({offsetX:u,offsetY:d,target:c.el,position:i.position,positionDefault:"bottom"},o)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},o))}},e.prototype.manuallyHideTip=function(t,e,n,i){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Sr(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var o=i.seriesIndex,a=i.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=e.getSeriesByIndex(o);if(s){var l=s.getData(),c=Mr([l.getItemModel(a),s,(s.coordinateSystem||{}).model],this._tooltipModel);if("axis"===c.get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:i.position}),!0}}},e.prototype._tryShow=function(t,e){var n=t.target,i=this._tooltipModel;if(i){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(n){var a,r;this._lastDataByCoordSys=null,Object(yr["a"])(n,(function(t){return null!=Object(_["a"])(t).dataIndex?(a=t,!0):null!=Object(_["a"])(t).tooltipConfig?(r=t,!0):void 0}),!0),a?this._showSeriesItemTooltip(t,a,e):r?this._showComponentItemTooltip(t,r,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=d["c"](e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,o=[e.offsetX,e.offsetY],a=Mr([e.tooltipOption],i),r=this._renderMode,s=[],l=Object(Ja["c"])("section",{blocks:[],noHeader:!0}),c=[],u=new Ja["a"];xr(t,(function(t){xr(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value;if(e&&null!=i){var o=na(i,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),a=Object(Ja["c"])("section",{header:o,noHeader:!d["Q"](o),sortBlocks:!0,blocks:[]});l.blocks.push(a),d["j"](t.seriesDataIndices,(function(l){var d=n.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,p=d.getDataParams(h);p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=he(e.axis,{value:i}),p.axisValueLabel=o,p.marker=u.makeTooltipMarker("item",w["b"](p.color),r);var f=Object(vr["b"])(d.formatTooltip(h,!0,null));f.markupFragment&&a.blocks.push(f.markupFragment),f.markupText&&c.push(f.markupText),s.push(p)}))}}))})),l.blocks.reverse(),c.reverse();var h=e.position,p=a.get("order"),f=Object(Ja["b"])(l,u,r,p,n.get("useUTC"),a.get("textStyle"));f&&c.unshift(f);var g="richText"===r?"\n\n":"<br/>",m=c.join(g);this._showOrMove(a,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(a,h,o[0],o[1],this._tooltipContent,s):this._showTooltipContent(a,m,s,Math.random()+"",o[0],o[1],h,null,u)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=this._ecModel,o=Object(_["a"])(e),a=o.seriesIndex,r=i.getSeriesByIndex(a),s=o.dataModel||r,l=o.dataIndex,c=o.dataType,u=s.getData(c),d=this._renderMode,h=t.positionDefault,p=Mr([u.getItemModel(l),s,r&&(r.coordinateSystem||{}).model],this._tooltipModel,h?{position:h}:null),f=p.get("trigger");if(null==f||"item"===f){var g=s.getDataParams(l,c),m=new Ja["a"];g.marker=m.makeTooltipMarker("item",w["b"](g.color),d);var v=Object(vr["b"])(s.formatTooltip(l,!1,c)),y=p.get("order"),x=v.markupFragment?Object(Ja["b"])(v.markupFragment,m,d,y,i.get("useUTC"),p.get("textStyle")):v.markupText,b="item_"+s.name+"_"+l;this._showOrMove(p,(function(){this._showTooltipContent(p,x,g,b,t.offsetX,t.offsetY,t.position,t.target,m)})),n({type:"showTip",dataIndexInside:l,dataIndex:u.getRawIndex(l),seriesIndex:a,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=Object(_["a"])(e),o=i.tooltipConfig,a=o.option||{};if(d["z"](a)){var r=a;a={content:r,formatter:r}}var s=[a],l=this._ecModel.getComponent(i.componentMainType,i.componentIndex);l&&s.push(l),s.push({formatter:a.content});var c=t.positionDefault,u=Mr(s,this._tooltipModel,c?{position:c}:null),h=u.get("content"),p=Math.random()+"",f=new Ja["a"];this._showOrMove(u,(function(){var n=d["d"](u.get("formatterParams")||{});this._showTooltipContent(u,h,n,p,t.offsetX,t.offsetY,t.position,e,f)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,o,a,r,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var c=this._tooltipContent,u=t.get("formatter");r=r||t.get("position");var h=e,p=this._getNearestPoint([o,a],n,t.get("trigger"),t.get("borderColor")),f=p.color;if(u&&d["z"](u)){var g=t.ecModel.get("useUTC"),m=d["r"](n)?n[0]:n,v=m&&m.axisType&&m.axisType.indexOf("time")>=0;h=u,v&&(h=Object(kt["h"])(m.axisValue,h,g)),h=w["d"](h,n,!0)}else if(d["u"](u)){var y=_r((function(e,i){e===this._ticket&&(c.setContent(i,l,t,f,r),this._updatePosition(t,r,o,a,c,n,s))}),this);this._ticket=i,h=u(n,i,y)}c.setContent(h,l,t,f,r),c.show(t,f),this._updatePosition(t,r,o,a,c,n,s)}},e.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||d["r"](e)?{color:i||("html"===this._renderMode?"#fff":"none")}:d["r"](e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var c=o.getSize(),u=t.get("align"),h=t.get("verticalAlign"),p=r&&r.getBoundingRect().clone();if(r&&p.applyTransform(r.transform),d["u"](e)&&(e=e([n,i],a,o.el,p,{viewSize:[s,l],contentSize:c.slice()})),d["r"](e))n=br(e[0],s),i=br(e[1],l);else if(d["y"](e)){var f=e;f.width=c[0],f.height=c[1];var g=b["d"](f,{width:s,height:l});n=g.x,i=g.y,u=null,h=null}else if(d["z"](e)&&r){var m=Cr(e,p,c);n=m[0],i=m[1]}else{m=Ir(n,i,o,s,l,u?null:20,h?null:20);n=m[0],i=m[1]}if(u&&(n-=Ar(u)?c[0]/2:"right"===u?c[0]:0),h&&(i-=Ar(h)?c[1]/2:"bottom"===h?c[1]:0),Ya(t)){m=jr(n,i,o,s,l);n=m[0],i=m[1]}o.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&xr(e,(function(e,i){var o=e.dataByAxis||[],a=t[i]||{},r=a.dataByAxis||[];n=n&&o.length===r.length,n&&xr(o,(function(t,e){var i=r[e]||{},o=t.seriesDataIndices||[],a=i.seriesDataIndices||[];n=n&&t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&o.length===a.length,n&&xr(o,(function(t,e){var i=a[e];n=n&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){$e["a"].node||(this._tooltipContent.dispose(),Sa("itemTooltip",e))},e.type="tooltip",e}(s["a"]);function Mr(t,e,n){var i,o=e.ecModel;n?(i=new ze["a"](n,o,o),i=new ze["a"](e.option,i,o)):i=e;for(var a=t.length-1;a>=0;a--){var r=t[a];r&&(r instanceof ze["a"]&&(r=r.get("tooltip",!0)),d["z"](r)&&(r={formatter:r}),r&&(i=new ze["a"](r,i,o)))}return i}function Sr(t,e){return t.dispatchAction||d["c"](e.dispatchAction,e)}function Ir(t,e,n,i,o,a,r){var s=n.getOuterSize(),l=s.width,c=s.height;return null!=a&&(t+l+a+2>i?t-=l+a:t+=a),null!=r&&(e+c+r>o?e-=c+r:e+=r),[t,e]}function jr(t,e,n,i,o){var a=n.getOuterSize(),r=a.width,s=a.height;return t=Math.min(t+r,i)-r,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Cr(t,e,n){var i=n[0],o=n[1],a=10,r=5,s=0,l=0,c=e.width,u=e.height;switch(t){case"inside":s=e.x+c/2-i/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-i/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-i/2,l=e.y+u+a;break;case"left":s=e.x-i-a-r,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a+r,l=e.y+u/2-o/2}return[s,l]}function Ar(t){return"center"===t||"middle"===t}function kr(t,e,n){var i=Object(D["r"])(t).queryOptionMap,o=i.keys()[0];if(o&&"series"!==o){var a=Object(D["t"])(e,o,i.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}),r=a.models[0];if(r){var s,l=n.getViewOfComponentModel(r);return l.group.traverse((function(e){var n=Object(_["a"])(e).tooltipConfig;if(n&&n.name===t.name)return s=e,!0})),s?{componentMainType:o,componentIndex:r.componentIndex,el:s}:void 0}}}var Tr=Or;function Dr(t){g(Ga),t.registerComponentModel(Wa),t.registerComponentView(Tr),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))}var Lr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(c["a"]),Pr=Lr,Er=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},t.prototype.getCoordSysModel=function(){},t}(),Rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",D["b"]).models[0]},e.type="cartesian2dAxis",e}(c["a"]);d["H"](Rr,Er);var Nr={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},zr=d["F"]({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Nr),Br=d["F"]({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Nr),Vr=d["F"]({scale:!0,splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Br),Gr=d["i"]({scale:!0,logBase:10},Br),Hr={category:zr,value:Br,time:Vr,log:Gr},Wr={value:1,category:1,time:1,log:1};function Fr(t,e,n,i){Object(d["j"])(Wr,(function(o,a){var r=Object(d["F"])(Object(d["F"])({},Hr[a],!0),i,!0),s=function(t){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=t.apply(this,n)||this;return o.type=e+"Axis."+a,o}return Object(m["a"])(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=Object(b["b"])(this),i=n?Object(b["c"])(t):{},o=e.getTheme();Object(d["F"])(t,o.get(a+"Axis")),Object(d["F"])(t,this.getDefaultOption()),t.type=Zr(t),n&&Object(b["e"])(t,i,n)},n.prototype.optionUpdated=function(){var t=this.option;"category"===t.type&&(this.__ordinalMeta=J.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+a,n.defaultOption=r,n}(n);t.registerComponentModel(s)})),t.registerSubTypeDefaulter(e+"Axis",Zr)}function Zr(t){return t.type||(t.data?"category":"value")}var Yr=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return d["E"](this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),d["m"](this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}(),Xr=Yr,Ur=["x","y"];function $r(t){return"interval"===t.type||"time"===t.type}var qr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Ur,e}return Object(m["a"])(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if($r(t)&&$r(e)){var n=t.getExtent(),i=e.getExtent(),o=this.dataToPoint([n[0],i[0]]),a=this.dataToPoint([n[1],i[1]]),r=n[1]-n[0],s=i[1]-i[0];if(r&&s){var l=(a[0]-o[0])/r,c=(a[1]-o[1])/s,u=o[0]-n[0]*l,d=o[1]-i[0]*c,h=this._transform=[l,0,0,c,u,d];this._invTransform=Object(Ro["d"])([],h)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],o=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=o&&isFinite(o))return Object(Bo["b"])(n,t,this._transform);var a=this.getAxis("x"),r=this.getAxis("y");return n[0]=a.toGlobalCoord(a.dataToCoord(i,e)),n[1]=r.toGlobalCoord(r.dataToCoord(o,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,o=n.getExtent(),a=i.getExtent(),r=n.parse(t[0]),s=i.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(o[0],o[1]),r),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),s),Math.max(a[0],a[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return Object(Bo["b"])(n,t,this._invTransform);var i=this.getAxis("x"),o=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=o.coordToData(o.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),o=Math.max(t[0],t[1])-n,a=Math.max(e[0],e[1])-i;return new At["a"](n,i,o,a)},e}(Xr),Kr=qr,Jr=Object(D["m"])();function Qr(t){return"category"===t.type?es(t):os(t)}function ts(t,e){return"category"===t.type?is(t,e):{ticks:d["E"](t.scale.getTicks(),(function(t){return t.value}))}}function es(t){var e=t.getLabelModel(),n=ns(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function ns(t,e){var n,i,o=as(t,"labels"),a=ge(e),r=rs(o,a);return r||(d["u"](a)?n=hs(t,a):(i="auto"===a?ls(t):a,n=ds(t,i)),ss(o,a,{labels:n,labelCategoryInterval:i}))}function is(t,e){var n,i,o=as(t,"ticks"),a=ge(e),r=rs(o,a);if(r)return r;if(e.get("show")&&!t.scale.isBlank()||(n=[]),d["u"](a))n=hs(t,a,!0);else if("auto"===a){var s=ns(t,t.getLabelModel());i=s.labelCategoryInterval,n=d["E"](s.labels,(function(t){return t.tickValue}))}else i=a,n=ds(t,i,!0);return ss(o,a,{ticks:n,tickCategoryInterval:i})}function os(t){var e=t.scale.getTicks(),n=de(t);return{labels:d["E"](e,(function(e,i){return{formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}function as(t,e){return Jr(t)[e]||(Jr(t)[e]=[])}function rs(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function ss(t,e,n){return t.push({key:e,value:n}),n}function ls(t){var e=Jr(t).autoInterval;return null!=e?e:Jr(t).autoInterval=t.calculateCategoryInterval()}function cs(t){var e=us(t),n=de(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,a=o.getExtent(),r=o.count();if(a[1]-a[0]<1)return 0;var s=1;r>40&&(s=Math.max(1,Math.floor(r/40)));for(var l=a[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),h=0,p=0;l<=a[1];l+=s){var f=0,g=0,m=te["e"](n({value:l}),e.font,"center","top");f=1.3*m.width,g=1.3*m.height,h=Math.max(h,f,7),p=Math.max(p,g,7)}var v=h/u,y=p/d;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(v,y))),x=Jr(t.model),b=t.getExtent(),w=x.lastAutoInterval,O=x.lastTickCount;return null!=w&&null!=O&&Math.abs(w-_)<=1&&Math.abs(O-r)<=1&&w>_&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?_=w:(x.lastTickCount=r,x.lastAutoInterval=_,x.axisExtent0=b[0],x.axisExtent1=b[1]),_}function us(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function ds(t,e,n){var i=de(t),o=t.scale,a=o.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),c=a[0],u=o.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=me(t),h=r.get("showMinLabel")||d,p=r.get("showMaxLabel")||d;h&&c!==a[0]&&g(a[0]);for(var f=c;f<=a[1];f+=l)g(f);function g(t){var e={value:t};s.push(n?t:{formattedLabel:i(e),rawLabel:o.getLabel(e),tickValue:t})}return p&&f-l!==a[1]&&g(a[1]),s}function hs(t,e,n){var i=t.scale,o=de(t),a=[];return d["j"](i.getTicks(),(function(t){var r=i.getLabel(t),s=t.value;e(t.value,r)&&a.push(n?s:{formattedLabel:o(t),rawLabel:r,tickValue:s})})),a}var ps=[0,1],fs=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return Object(W["d"])(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&(n=n.slice(),gs(n,i.count())),Object(W["i"])(t,ps,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&(n=n.slice(),gs(n,i.count()));var o=Object(W["i"])(t,n,ps,e);return this.scale.scale(o)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){t=t||{};var e=t.tickModel||this.getTickModel(),n=ts(this,e),i=n.ticks,o=Object(d["E"])(i,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this),a=e.get("alignWithLabel");return ms(this,o,a,t.clamp),o},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick"),e=t.get("splitNumber");e>0&&e<100||(e=5);var n=this.scale.getMinorTicks(e),i=Object(d["E"])(n,(function(t){return Object(d["E"])(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return i},t.prototype.getViewLabels=function(){return Qr(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return cs(this)},t}();function gs(t,e){var n=t[1]-t[0],i=e,o=n/i/2;t[0]+=o,t[1]-=o}function ms(t,e,n,i){var o=e.length;if(t.onBand&&!n&&o){var a,r,s=t.getExtent();if(1===o)e[0].coord=s[0],a=e[1]={coord:s[0]};else{var l=e[o-1].tickValue-e[0].tickValue,c=(e[o-1].coord-e[0].coord)/l;Object(d["j"])(e,(function(t){t.coord-=c/2}));var u=t.scale.getExtent();r=1+u[1]-e[o-1].tickValue,a={coord:e[o-1].coord+c*r},e.push(a)}var h=s[0]>s[1];p(e[0].coord,s[0])&&(i?e[0].coord=s[0]:e.shift()),i&&p(s[0],e[0].coord)&&e.unshift({coord:s[0]}),p(s[1],a.coord)&&(i?a.coord=s[1]:e.pop()),i&&p(a.coord,s[1])&&e.push({coord:s[1]})}function p(t,e){return t=Object(W["p"])(t),e=Object(W["p"])(e),h?t>e:t<e}}var vs=fs,ys=function(t){function e(e,n,i,o,a){var r=t.call(this,e,n,i)||this;return r.index=0,r.type=o||"value",r.position=a||"bottom",r}return Object(m["a"])(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(vs),_s=ys,xs=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Ur,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),Object(d["j"])(n.x,(function(t){le(t.scale,t.model)})),Object(d["j"])(n.y,(function(t){le(t.scale,t.model)}));var i={};Object(d["j"])(n.x,(function(t){ws(n,"y",t,i)})),Object(d["j"])(n.y,(function(t){ws(n,"x",t,i)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),o=!n&&t.get("containLabel"),a=Object(b["d"])(i,{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;function s(){Object(d["j"])(r,(function(t){var e=t.isHorizontal(),n=e?[0,a.width]:[0,a.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),Ms(t,e?a.x:a.y)}))}s(),o&&(Object(d["j"])(r,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=pe(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);a[n]-=e[n]+i,"top"===t.position?a.y+=e.height+i:"left"===t.position&&(a.x+=e.width+i)}}})),s()),Object(d["j"])(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}Object(d["y"])(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,o=t.xAxisModel||i&&i.getReferringComponents("xAxis",D["b"]).models[0],a=t.yAxisModel||i&&i.getReferringComponents("yAxis",D["b"]).models[0],r=t.gridModel,s=this._coordsList;if(i)e=i.coordinateSystem,Object(d["p"])(s,e)<0&&(e=null);else if(o&&a)e=this.getCartesian(o.componentIndex,a.componentIndex);else if(o)n=this.getAxis("x",o.componentIndex);else if(a)n=this.getAxis("y",a.componentIndex);else if(r){var l=r.coordinateSystem;l===this&&(e=this._coordsList[0])}return{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,o=this,a={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",l("x"),this),e.eachComponent("yAxis",l("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function l(e){return function(n,i){if(bs(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var c=new _s(e,ce(n),[0,0],n.get("type"),l),u="category"===c.type;c.onBand=u&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=o,c.index=i,o._axesList.push(c),r[e][i]=c,s[e]++}}}this._axesMap=r,Object(d["j"])(r.x,(function(e,n){Object(d["j"])(r.y,(function(o,a){var r="x"+n+"y"+a,s=new Kr(r);s.master=i,s.model=t,i._coordsMap[r]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(o)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){Object(d["j"])(ve(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}Object(d["j"])(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if(la(t)){var i=ca(t),o=i.xAxisModel,a=i.yAxisModel;if(!bs(o,e)||!bs(a,e))return;var r=this.getCartesian(o.componentIndex,a.componentIndex),s=t.getData(),l=r.getAxis("x"),c=r.getAxis("y");"list"===s.type&&(n(s,l),n(s,c))}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return Object(d["j"])(this.getCartesians(),(function(i){var o=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),a=i.getOtherAxis(o);Object(d["p"])(e,o)<0&&e.push(o),Object(d["p"])(n,a)<0&&n.push(a)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent("grid",(function(o,a){var r=new t(o,e,n);r.name="grid_"+a,r.resize(o,n,!0),o.coordinateSystem=r,i.push(r)})),e.eachSeries((function(t){if(la(t)){var e=ca(t),n=e.xAxisModel,i=e.yAxisModel,o=n.getCoordSysModel();0;var a=o.coordinateSystem;t.coordinateSystem=a.getCartesian(n.componentIndex,i.componentIndex)}})),i},t.dimensions=Ur,t}();function bs(t,e){return t.getCoordSysModel()===e}function ws(t,e,n,i){n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=t[e],r=n.model,s=r.get(["axisLine","onZero"]),l=r.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)Os(a[l])&&(o=a[l]);else for(var c in a)if(a.hasOwnProperty(c)&&Os(a[c])&&!i[u(a[c])]){o=a[c];break}o&&(i[u(o)]=!0)}function u(t){return t.dim+"_"+t.index}}function Os(t){return t&&"category"!==t.type&&"time"!==t.type&&ue(t)}function Ms(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}var Ss=xs,Is=Object(D["m"])();function js(t,e,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitArea"),r=a.getModel("areaStyle"),s=r.get("color"),l=i.coordinateSystem.getRect(),c=o.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,h=Is(t).splitAreaColors,p=d["f"](),f=0;if(h)for(var g=0;g<c.length;g++){var m=h.get(c[g].tickValue);if(null!=m){f=(m+(u-1)*g)%u;break}}var v=o.toGlobalCoord(c[0].coord),_=r.getAreaStyle();s=d["r"](s)?s:[s];for(g=1;g<c.length;g++){var x=o.toGlobalCoord(c[g].coord),b=void 0,w=void 0,O=void 0,M=void 0;o.isHorizontal()?(b=v,w=l.y,O=x-b,M=l.height,v=b+O):(b=l.x,w=v,O=l.width,M=x-w,v=w+M);var S=c[g-1].tickValue;null!=S&&p.set(S,f),e.add(new y["a"]({anid:null!=S?"area_"+S:null,shape:{x:b,y:w,width:O,height:M},style:d["i"]({fill:s[f]},_),autoBatch:!0,silent:!0})),f=(f+1)%u}Is(t).splitAreaColors=p}}}function Cs(t){Is(t).splitAreaColors=null}var As=["axisLine","axisTickLabel","axisName"],ks=["splitArea","splitLine","minorSplitLine"],Ts=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return Object(m["a"])(e,t),e.prototype.render=function(e,n,i,o){this.group.removeAll();var a=this._axisGroup;if(this._axisGroup=new kn["a"],this.group.add(this._axisGroup),e.get("show")){var r=e.getCoordSysModel(),s=sa(r,e),l=new Jo(e,d["l"]({handleAutoShown:function(t){for(var n=r.coordinateSystem.getCartesians(),i=0;i<n.length;i++){var o=n[i].getOtherAxis(e.axis).type;if("value"===o||"log"===o)return!0}return!1}},s));d["j"](As,l.add,l),this._axisGroup.add(l.getGroup()),d["j"](ks,(function(t){e.get([t,"show"])&&Ds[t](this,this._axisGroup,e,r)}),this),Re["groupTransition"](a,this._axisGroup,e),t.prototype.render.call(this,e,n,i,o)}},e.prototype.remove=function(){Cs(this)},e.type="cartesianAxis",e}(Mo),Ds={splitLine:function(t,e,n,i){var o=n.axis;if(!o.scale.isBlank()){var a=n.getModel("splitLine"),r=a.getModel("lineStyle"),s=r.get("color");s=d["r"](s)?s:[s];for(var l=i.coordinateSystem.getRect(),c=o.isHorizontal(),u=0,h=o.getTicksCoords({tickModel:a}),p=[],f=[],g=r.getLineStyle(),m=0;m<h.length;m++){var v=o.toGlobalCoord(h[m].coord);c?(p[0]=v,p[1]=l.y,f[0]=v,f[1]=l.y+l.height):(p[0]=l.x,p[1]=v,f[0]=l.x+l.width,f[1]=v);var y=u++%s.length,_=h[m].tickValue;e.add(new No["a"]({anid:null!=_?"line_"+h[m].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:f[0],y2:f[1]},style:d["i"]({stroke:s[y]},g),silent:!0}))}}},minorSplitLine:function(t,e,n,i){var o=n.axis,a=n.getModel("minorSplitLine"),r=a.getModel("lineStyle"),s=i.coordinateSystem.getRect(),l=o.isHorizontal(),c=o.getMinorTicksCoords();if(c.length)for(var u=[],d=[],h=r.getLineStyle(),p=0;p<c.length;p++)for(var f=0;f<c[p].length;f++){var g=o.toGlobalCoord(c[p][f].coord);l?(u[0]=g,u[1]=s.y,d[0]=g,d[1]=s.y+s.height):(u[0]=s.x,u[1]=g,d[0]=s.x+s.width,d[1]=g),e.add(new No["a"]({anid:"minor_line_"+c[p][f].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:h,silent:!0}))}},splitArea:function(t,e,n,i){js(t,e,n,i)}},Ls=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="xAxis",e}(Ts),Ps=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=Ls.type,e}return Object(m["a"])(e,t),e.type="yAxis",e}(Ts),Es=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return Object(m["a"])(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new y["a"]({shape:t.coordinateSystem.getRect(),style:Object(d["i"])({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(s["a"]),Rs={offset:0};function Ns(t){t.registerComponentView(Es),t.registerComponentModel(Pr),t.registerCoordinateSystem("cartesian2d",Ss),Fr(t,"x",Rr,Rs),Fr(t,"y",Rr,Rs),t.registerComponentView(Ls),t.registerComponentView(Ps),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function zs(t){g(Ns),g(Ga)}var Bs=function(t,e){return"all"===e?{type:"all",title:t.getLocale(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocale(["legend","selector","inverse"])}:void 0},Vs=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return Object(m["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),d["r"](e)&&d["j"](e,(function(t,i){d["z"](t)&&(t={type:t}),e[i]=d["F"](t,Bs(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(i){var o,a=i.name;if(n.push(a),i.legendVisualProvider){var r=i.legendVisualProvider,s=r.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(s)),s.length?e=e.concat(s):o=!0}else o=!0;o&&Object(D["l"])(i)&&e.push(i.name)})),this._availableNames=n;var i=this.get("data")||e,o=d["E"](i,(function(t){return"string"!==typeof t&&"number"!==typeof t||(t={name:t}),new ze["a"](t,this,this.ecModel)}),this);this._data=o},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected,n=this.get("selectedMode");if("single"===n){var i=this._data;d["j"](i,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;d["j"](t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;d["j"](t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&d["p"](this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",decal:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit",shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(c["a"]),Gs=Vs,Hs=n("3901"),Ws=n("551f"),Fs=d["h"],Zs=d["j"],Ys=kn["a"],Xs=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return Object(m["a"])(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new Ys),this.group.add(this._selectorGroup=new Ys),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),a=t.get("orient");o&&"auto"!==o||(o="right"===t.get("left")&&"vertical"===a?"right":"left");var r=t.get("selector",!0),s=t.get("selectorPosition",!0);!r||s&&"auto"!==s||(s="horizontal"===a?"end":"start"),this.renderInner(o,t,e,n,r,a,s);var l=t.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},u=t.get("padding"),h=b["d"](l,c,u),p=this.layoutInner(t,o,h,i,r,s),f=b["d"](d["i"]({width:p.width,height:p.height},l),c,u);this.group.x=f.x-p.x,this.group.y=f.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Fe(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,o,a,r){var s=this.getContentGroup(),l=d["f"](),c=e.get("selectedMode"),u=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&u.push(t.id)})),Zs(e.getData(),(function(o,a){var r=o.get("name");if(!this.newlineDisabled&&(""===r||"\n"===r)){var d=new Ys;return d.newline=!0,void s.add(d)}var h=n.getSeriesByName(r)[0];if(!l.get(r)){if(h){var p=h.getData(),f=p.getVisual("legendLineStyle")||{},g=p.getVisual("legendIcon"),m=p.getVisual("style"),v=this._createItem(h,r,a,o,e,t,f,m,g,c);v.on("click",Fs(qs,r,null,i,u)).on("mouseover",Fs(Js,h.name,null,i,u)).on("mouseout",Fs(Qs,h.name,null,i,u)),l.set(r,!0)}else n.eachRawSeries((function(n){if(!l.get(r)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(r))return;var d=s.indexOfName(r),h=s.getItemVisual(d,"style"),p=s.getItemVisual(d,"legendIcon"),f=Object(Fa["d"])(h.fill);f&&0===f[3]&&(f[3]=.2,h.fill=Object(Fa["e"])(f,"rgba"));var g=this._createItem(n,r,a,o,e,t,{},h,p,c);g.on("click",Fs(qs,null,r,i,u)).on("mouseover",Fs(Js,null,r,i,u)).on("mouseout",Fs(Qs,null,r,i,u)),l.set(r,!0)}}),this);0}}),this),o&&this._createSelector(o,e,i,a,r)},e.prototype._createSelector=function(t,e,n,i,o){var a=this.getSelectorGroup();Zs(t,(function(t){var i=t.type,o=new v["a"]({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});a.add(o);var r=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);Object(x["f"])(o,{normal:r,emphasis:s},{defaultText:t.title}),Object(Ne["m"])(o)}))},e.prototype._createItem=function(t,e,n,i,o,a,r,s,l,c){var u=t.visualDrawType,d=o.get("itemWidth"),h=o.get("itemHeight"),p=o.isSelected(e),f=i.get("symbolRotate"),g=i.get("icon");l=g||l||"roundRect";var m=o.getModel("lineStyle"),_=Us(l,i,m,r,s,u,p),b=new Ys,w=i.getModel("textStyle");if("function"!==typeof t.getLegendIcon||g&&"inherit"!==g){var O="inherit"===g&&t.getData().getVisual("symbol")?"inherit"===f?t.getData().getVisual("symbolRotate"):f:0;b.add($s({itemWidth:d,itemHeight:h,icon:l,iconRotate:O,itemStyle:_.itemStyle,lineStyle:_.lineStyle}))}else b.add(t.getLegendIcon({itemWidth:d,itemHeight:h,icon:l,iconRotate:f,itemStyle:_.itemStyle,lineStyle:_.lineStyle}));var M="left"===a?d+5:-5,S=a,I=o.get("formatter"),j=e;"string"===typeof I&&I?j=I.replace("{name}",null!=e?e:""):"function"===typeof I&&(j=I(e));var C=i.get("inactiveColor");b.add(new v["a"]({style:Object(x["b"])(w,{text:j,x:M,y:h/2,fill:p?w.getTextColor():C,align:S,verticalAlign:"middle"})}));var A=new y["a"]({shape:b.getBoundingRect(),invisible:!0}),k=i.getModel("tooltip");return k.get("show")&&Re["setTooltipConfig"]({el:A,componentModel:o,itemName:e,itemTooltipOption:k.option}),b.add(A),b.eachChild((function(t){t.silent=!0})),A.silent=!c,this.getContentGroup().add(b),Object(Ne["m"])(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(t,e,n,i,o,a){var r=this.getContentGroup(),s=this.getSelectorGroup();b["a"](t.get("orient"),r,t.get("itemGap"),n.width,n.height);var l=r.getBoundingRect(),c=[-l.x,-l.y];if(s.markRedraw(),r.markRedraw(),o){b["a"]("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),d=[-u.x,-u.y],h=t.get("selectorButtonGap",!0),p=t.getOrient().index,f=0===p?"width":"height",g=0===p?"height":"width",m=0===p?"y":"x";"end"===a?d[p]+=l[f]+h:c[p]+=u[f]+h,d[1-p]+=l[g]/2-u[g]/2,s.x=d[0],s.y=d[1],r.x=c[0],r.y=c[1];var v={x:0,y:0};return v[f]=l[f]+h+u[f],v[g]=Math.max(l[g],u[g]),v[m]=Math.min(0,u[m]+d[1-p]),v}return r.x=c[0],r.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(s["a"]);function Us(t,e,n,i,o,a,r){for(var s=e.getModel("itemStyle"),l=Ws["a"].concat([["decal"]]),c={},u=0;u<l.length;++u){var d=l[u][l[u].length-1],h=l[u][0],p=s.getShallow(d);if("inherit"===p)switch(h){case"fill":c.fill=o[a];break;case"stroke":c.stroke=o[0===t.lastIndexOf("empty",0)?"fill":"stroke"];break;case"opacity":c.opacity=("fill"===a?o:i).opacity;break;default:c[h]=o[h]}else"auto"===p&&"lineWidth"===h?c.lineWidth=o.lineWidth>0?2:0:c[h]=p}var f=e.getModel("lineStyle"),g=Hs["a"].concat([["inactiveColor"],["inactiveWidth"]]),m={};for(u=0;u<g.length;++u){d=g[u][1],h=g[u][0],p=f.getShallow(d);"inherit"===p?m[h]=i[h]:"auto"===p&&"lineWidth"===h?m.lineWidth=i.lineWidth>0?2:0:m[h]=p}if("auto"===c.fill&&(c.fill=o.fill),"auto"===c.stroke&&(c.stroke=o.fill),"auto"===m.stroke&&(m.stroke=o.fill),!r){var v=e.get("inactiveBorderWidth"),y=c[t.indexOf("empty")>-1?"fill":"stroke"];c.lineWidth="auto"===v?o.lineWidth>0&&y?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),m.stroke=n.get("inactiveColor"),m.lineWidth=n.get("inactiveWidth")}return{itemStyle:c,lineStyle:m}}function $s(t){var e=t.icon||"roundRect",n=Object(zo["a"])(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return n.setStyle(t.itemStyle),n.rotation=(t.iconRotate||0)*Math.PI/180,n.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function qs(t,e,n,i){Qs(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Js(t,e,n,i)}function Ks(t){var e,n=t.getZr().storage.getDisplayList(),i=0,o=n.length;while(i<o&&!(e=n[i].states.emphasis))i++;return e&&e.hoverLayer}function Js(t,e,n,i){Ks(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function Qs(t,e,n,i){Ks(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}var tl=Xs;function el(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function nl(t,e,n){var i,o={},a="toggleSelected"===t;return n.eachComponent("legend",(function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var r=n.getData();Object(d["j"])(r,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&i:o[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}function il(t){t.registerAction("legendToggleSelect","legendselectchanged",Object(d["h"])(nl,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",Object(d["h"])(nl,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",Object(d["h"])(nl,"inverseSelect")),t.registerAction("legendSelect","legendselected",Object(d["h"])(nl,"select")),t.registerAction("legendUnSelect","legendunselected",Object(d["h"])(nl,"unSelect"))}function ol(t){t.registerComponentModel(Gs),t.registerComponentView(tl),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,el),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),il(t)}var al=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var o=Object(b["c"])(e);t.prototype.init.call(this,e,n,i),rl(this,e,o)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),rl(this,this.option,e)},e.type="legend.scroll",e.defaultOption=Object(Ze["d"])(Gs.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Gs);function rl(t,e,n){var i=t.getOrient(),o=[1,1];o[i.index]=0,Object(b["e"])(e,n,{type:"box",ignoreSize:!!o})}var sl=al,ll=kn["a"],cl=["width","height"],ul=["x","y"],dl=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return Object(m["a"])(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new ll),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ll)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,o,a,r,s){var l=this;t.prototype.renderInner.call(this,e,n,i,o,a,r,s);var c=this._controllerGroup,u=n.get("pageIconSize",!0),h=d["r"](u)?u:[u,u];f("pagePrev",0);var p=n.getModel("pageTextStyle");function f(t,e){var i=t+"DataIndex",a=Re["createIcon"](n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:d["c"](l._pageGo,l,i,n,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});a.name=t,c.add(a)}c.add(new v["a"]({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),f("pageNext",1)},e.prototype.layoutInner=function(t,e,n,i,o,a){var r=this.getSelectorGroup(),s=t.getOrient().index,l=cl[s],c=ul[s],u=cl[1-s],h=ul[1-s];o&&b["a"]("horizontal",r,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),f=r.getBoundingRect(),g=[-f.x,-f.y],m=d["d"](n);o&&(m[l]=n[l]-f[l]-p);var v=this._layoutContentAndController(t,i,m,s,l,u,h,c);if(o){if("end"===a)g[s]+=v[l]+p;else{var y=f[l]+p;g[s]-=y,v[c]-=y}v[l]+=f[l]+p,g[1-s]+=v[h]+v[u]/2-f[u]/2,v[u]=Math.max(v[u],f[u]),v[h]=Math.min(v[h],f[h]+g[1-s]),r.x=g[0],r.y=g[1],r.markRedraw()}return v},e.prototype._layoutContentAndController=function(t,e,n,i,o,a,r,s){var l=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;b["a"](t.get("orient"),l,t.get("itemGap"),i?n.width:null,i?null:n.height),b["a"]("horizontal",u,t.get("pageButtonItemGap",!0));var h=l.getBoundingRect(),p=u.getBoundingRect(),f=this._showController=h[o]>n[o],g=[-h.x,-h.y];e||(g[i]=l[s]);var m=[0,0],v=[-p.x,-p.y],_=d["M"](t.get("pageButtonGap",!0),t.get("itemGap",!0));if(f){var x=t.get("pageButtonPosition",!0);"end"===x?v[i]+=n[o]-p[o]:m[i]+=p[o]+_}v[1-i]+=h[a]/2-p[a]/2,l.setPosition(g),c.setPosition(m),u.setPosition(v);var w={x:0,y:0};if(w[o]=f?n[o]:h[o],w[a]=Math.max(h[a],p[a]),w[r]=Math.min(0,p[r]+v[1-i]),c.__rectSize=n[o],f){var O={x:0,y:0};O[o]=Math.max(n[o]-p[o]-_,0),O[a]=w[a],c.setClipPath(new y["a"]({shape:O})),c.__rectSize=O[o]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var M=this._getPageInfo(t);return null!=M.pageIndex&&Re["updateProps"](l,{x:M.contentPosition[0],y:M.contentPosition[1]},f?t:null),this._updatePageInfoView(t,M),w},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;d["j"](["pagePrev","pageNext"],(function(i){var o=i+"DataIndex",a=null!=e[o],r=n.childOfName(i);r&&(r.setStyle("fill",a?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=a?"pointer":"default")}));var i=n.childOfName("pageText"),o=t.get("pageFormatter"),a=e.pageIndex,r=null!=a?a+1:0,s=e.pageCount;i&&o&&i.setStyle("text",d["z"](o)?o.replace("{current}",null==r?"":r+"").replace("{total}",null==s?"":s+""):o({current:r,total:s}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,o=t.getOrient().index,a=cl[o],r=ul[o],s=this._findTargetItemIndex(e),l=n.children(),c=l[s],u=l.length,d=u?1:0,h={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return h;var p=y(c);h.contentPosition[o]=-p.s;for(var f=s+1,g=p,m=p,v=null;f<=u;++f)v=y(l[f]),(!v&&m.e>g.s+i||v&&!_(v,g.s))&&(g=m.i>g.i?m:v,g&&(null==h.pageNextDataIndex&&(h.pageNextDataIndex=g.i),++h.pageCount)),m=v;for(f=s-1,g=p,m=p,v=null;f>=-1;--f)v=y(l[f]),v&&_(m,v.s)||!(g.i<m.i)||(m=g,null==h.pagePrevDataIndex&&(h.pagePrevDataIndex=g.i),++h.pageCount,++h.pageIndex),g=v;return h;function y(t){if(t){var e=t.getBoundingRect(),n=e[r]+t[r];return{s:n,e:n+e[a],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var e,n,i=this.getContentGroup();return i.eachChild((function(i,o){var a=i.__legendDataIndex;null==n&&null!=a&&(n=o),a===t&&(e=o)})),null!=e?e:n},e.type="legend.scroll",e}(tl),hl=dl;function pl(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}function fl(t){g(ol),t.registerComponentModel(sl),t.registerComponentView(hl),pl(t)}function gl(t){g(ol),g(fl)}var ml=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="dataZoom.inside",e.defaultOption=Object(Ze["d"])(R.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(R),vl=ml,yl=function(t){function e(e){var n=t.call(this)||this;n._zr=e;var i=Object(d["c"])(n._mousedownHandler,n),o=Object(d["c"])(n._mousemoveHandler,n),a=Object(d["c"])(n._mouseupHandler,n),r=Object(d["c"])(n._mousewheelHandler,n),s=Object(d["c"])(n._pinchHandler,n);return n.enable=function(t,n){this.disable(),this._opt=Object(d["i"])(Object(d["d"])(n)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(e.on("mousedown",i),e.on("mousemove",o),e.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(e.on("mousewheel",r),e.on("pinch",s))},n.disable=function(){e.off("mousedown",i),e.off("mousemove",o),e.off("mouseup",a),e.off("mousewheel",r),e.off("pinch",s)},n}return Object(m["a"])(e,t),e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!(on["d"](t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(this._dragging&&bl("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Rn(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,i=this._x,o=this._y,a=e-i,r=n-o;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&on["g"](t.event),xl(this,"pan","moveOnMouseMove",t,{dx:a,dy:r,oldX:i,oldY:o,newX:e,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){on["d"](t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var e=bl("zoomOnMouseWheel",t,this._opt),n=bl("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,o=Math.abs(i),a=t.offsetX,r=t.offsetY;if(0!==i&&(e||n)){if(e){var s=o>3?1.4:o>1?1.2:1.1,l=i>0?s:1/s;_l(this,"zoom","zoomOnMouseWheel",t,{scale:l,originX:a,originY:r,isAvailableBehavior:null})}if(n){var c=Math.abs(i),u=(i>0?1:-1)*(c>3?.4:c>1?.15:.05);_l(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:u,originX:a,originY:r,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!Rn(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;_l(this,"zoom",null,t,{scale:e,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(An["a"]);function _l(t,e,n,i,o){t.pointerChecker&&t.pointerChecker(i,o.originX,o.originY)&&(on["g"](i.event),xl(t,e,n,i,o))}function xl(t,e,n,i,o){o.isAvailableBehavior=Object(d["c"])(bl,null,n,i),t.trigger(e,o)}function bl(t,e,n){var i=n[t];return!t||i&&(!Object(d["z"])(i)||e.event[i+"Key"])}var wl=yl,Ol=Object(D["m"])();function Ml(t,e,n){Ol(t).coordSysRecordMap.each((function(t){var i=t.dataZoomInfoMap.get(e.uid);i&&(i.getRange=n)}))}function Sl(t,e){for(var n=Ol(t).coordSysRecordMap,i=n.keys(),o=0;o<i.length;o++){var a=i[o],r=n.get(a),s=r.dataZoomInfoMap;if(s){var l=e.uid,c=s.get(l);c&&(s.removeKey(l),s.keys().length||Il(n,r))}}}function Il(t,e){if(e){t.removeKey(e.model.uid);var n=e.controller;n&&n.dispose()}}function jl(t,e){var n={model:e,containsPoint:Object(d["h"])(Al,e),dispatchAction:Object(d["h"])(Cl,t),dataZoomInfoMap:null,controller:null},i=n.controller=new wl(t.getZr());return Object(d["j"])(["pan","zoom","scrollMove"],(function(t){i.on(t,(function(e){var i=[];n.dataZoomInfoMap.each((function(o){if(e.isAvailableBehavior(o.model.option)){var a=(o.getRange||{})[t],r=a&&a(o.dzReferCoordSysInfo,n.model.mainType,n.controller,e);!o.model.get("disabled",!0)&&r&&i.push({dataZoomId:o.model.id,start:r[0],end:r[1]})}})),i.length&&n.dispatchAction(i)}))})),n}function Cl(t,e){t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function Al(t,e,n,i){return t.coordinateSystem.containPoint([n,i])}function kl(t){var e,n="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return t.each((function(t){var a=t.model,r=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");i[n+r]>i[n+e]&&(e=r),o=o&&a.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function Tl(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,e){var n=Ol(e),i=n.coordSysRecordMap||(n.coordSysRecordMap=Object(d["f"])());i.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){var n=T(t);Object(d["j"])(n.infoList,(function(n){var o=n.model.uid,a=i.get(o)||i.set(o,jl(e,n.model)),r=a.dataZoomInfoMap||(a.dataZoomInfoMap=Object(d["f"])());r.set(t.uid,{dzReferCoordSysInfo:n,model:t,getRange:null})}))})),i.each((function(t){var e,n=t.controller,o=t.dataZoomInfoMap;if(o){var a=o.keys()[0];null!=a&&(e=o.get(a))}if(e){var r=kl(o);n.enable(r.controlType,r.opt),n.setPointerChecker(t.containsPoint),So["b"](t,"dispatchAction",e.model.get("throttle",!0),"fixRate")}else Il(i,t)}))}))}var Dl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return Object(m["a"])(e,t),e.prototype.render=function(e,n,i){t.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),Ml(i,e,{pan:Object(d["c"])(Ll.pan,this),zoom:Object(d["c"])(Ll.zoom,this),scrollMove:Object(d["c"])(Ll.scrollMove,this)}))},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){Sl(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(V),Ll={zoom:function(t,e,n,i){var o=this.range,a=o.slice(),r=t.axisModels[0];if(r){var s=El[e](null,[i.originX,i.originY],r,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/i.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return F(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:Pl((function(t,e,n,i,o,a){var r=El[i]([a.oldX,a.oldY],[a.newX,a.newY],e,o,n);return r.signal*(t[1]-t[0])*r.pixel/r.pixelLength})),scrollMove:Pl((function(t,e,n,i,o,a){var r=El[i]([0,0],[a.scrollDelta,a.scrollDelta],e,o,n);return r.signal*(t[1]-t[0])*a.scrollDelta}))};function Pl(t){return function(e,n,i,o){var a=this.range,r=a.slice(),s=e.axisModels[0];if(s){var l=t(r,s,e,n,i,o);return F(l,r,[0,100],"all"),this.range=r,a[0]!==r[0]||a[1]!==r[1]?r:void 0}}}var El={grid:function(t,e,n,i,o){var a=n.axis,r={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(r.pixel=e[0]-t[0],r.pixelLength=s.width,r.pixelStart=s.x,r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=s.height,r.pixelStart=s.y,r.signal=a.inverse?-1:1),r},polar:function(t,e,n,i,o){var a=n.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=c[1]-c[0],r.pixelStart=c[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,n,i,o){var a=n.axis,r=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===a.orient?(s.pixel=e[0]-t[0],s.pixelLength=r.width,s.pixelStart=r.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=r.height,s.pixelStart=r.y,s.signal=a.inverse?-1:1),s}},Rl=Dl;function Nl(t){Ce(t),t.registerComponentModel(vl),t.registerComponentView(Rl),Tl(t)}var zl=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Object(Ze["d"])(R.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(R),Bl=zl,Vl=n("dce8"),Gl=y["a"],Hl=7,Wl=1,Fl=30,Zl=7,Yl="horizontal",Xl="vertical",Ul=5,$l=["line","bar","candlestick","scatter"],ql={easing:"cubicOut",duration:100},Kl=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._displayables={},n}return Object(m["a"])(e,t),e.prototype.init=function(t,e){this.api=e,this._onBrush=Object(d["c"])(this._onBrush,this),this._onBrushEnd=Object(d["c"])(this._onBrushEnd,this)},e.prototype.render=function(e,n,i,o){if(t.prototype.render.apply(this,arguments),So["b"](this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show")){if(e.noTarget())return this._clear(),void this.group.removeAll();o&&"dataZoom"===o.type&&o.from===this.uid||this._buildView(),this._updateView()}else this.group.removeAll()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){So["a"](this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var e=this._displayables.sliderGroup=new kn["a"];this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},e.prototype._resetLocation=function(){var t=this.dataZoomModel,e=this.api,n=t.get("brushSelect"),i=n?Zl:0,o=this._findCoordRect(),a={width:e.getWidth(),height:e.getHeight()},r=this._orient===Yl?{right:a.width-o.x-o.width,top:a.height-Fl-Hl-i,width:o.width,height:Fl}:{right:Hl,top:o.y,width:Fl,height:o.height},s=b["c"](t.option);Object(d["j"])(["right","top","width","height"],(function(t){"ph"===s[t]&&(s[t]=r[t])}));var l=b["d"](s,a);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===Xl&&this._size.reverse()},e.prototype._positionGroup=function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),o=i&&i.get("inverse"),a=this._displayables.sliderGroup,r=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(n!==Yl||o?n===Yl&&o?{scaleY:r?1:-1,scaleX:-1}:n!==Xl||o?{scaleY:r?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:r?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:r?1:-1,scaleX:1});var s=t.getBoundingRect([a]);t.x=e.x-s.x,t.y=e.y-s.y,t.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.sliderGroup,i=t.get("brushSelect");n.add(new Gl({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new Gl({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:Object(d["c"])(this._onClickPanel,this)}),a=this.api.getZr();i?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",a.on("mousemove",this._onBrush),a.on("mouseup",this._onBrushEnd)):(a.off("mousemove",this._onBrush),a.off("mouseup",this._onBrushEnd)),n.add(o)},e.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var e=this._size,n=t.series,i=n.getRawData(),o=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=o){var a=i.getDataExtent(o),r=.3*(a[1]-a[0]);a=[a[0]-r,a[1]+r];var s,l=[0,e[1]],c=[0,e[0]],u=[[e[0],0],[0,0]],d=[],h=c[1]/(i.count()-1),p=0,f=Math.round(i.count()/e[0]);i.each([o],(function(t,e){if(f>0&&e%f)p+=h;else{var n=null==t||isNaN(t)||""===t,i=n?0:Object(W["i"])(t,a,l,!0);n&&!s&&e?(u.push([u[u.length-1][0],0]),d.push([d[d.length-1][0],0])):!n&&s&&(u.push([p,0]),d.push([p,0])),u.push([p,i]),d.push([p,i]),p+=h,s=n}}));for(var g=this.dataZoomModel,m=0;m<3;m++){var v=y(1===m);this._displayables.sliderGroup.add(v),this._displayables.dataShadowSegs.push(v)}}}function y(t){var e=g.getModel(t?"selectedDataBackground":"dataBackground"),n=new kn["a"],i=new Dn["a"]({shape:{points:u},segmentIgnoreThreshold:1,style:e.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),o=new Tn["a"]({shape:{points:d},segmentIgnoreThreshold:1,style:e.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return n.add(i),n.add(o),n}},e.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,i=this.ecModel;return t.eachTargetAxis((function(o,a){var r=t.getAxisProxy(o,a).getTargetSeriesModels();Object(d["j"])(r,(function(t){if(!n&&!(!0!==e&&Object(d["p"])($l,t.get("type"))<0)){var r,s=i.getComponent(A(o),a).axis,l=Jl(o),c=t.coordinateSystem;null!=l&&c.getOtherAxis&&(r=c.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:o,otherDim:l,otherAxisInverse:r}}}),this)}),this),n}},e.prototype._renderHandle=function(){var t=this.group,e=this._displayables,n=e.handles=[null,null],i=e.handleLabels=[null,null],o=this._displayables.sliderGroup,a=this._size,r=this.dataZoomModel,s=this.api,l=r.get("borderRadius")||0,c=r.get("brushSelect"),u=e.filler=new Gl({silent:c,style:{fill:r.get("fillerColor")},textConfig:{position:"inside"}});o.add(u),o.add(new Gl({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:l},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:Wl,fill:"rgba(0,0,0,0)"}})),Object(d["j"])([0,1],(function(e){var a=r.get("handleIcon");!zo["b"][a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var s=Object(zo["a"])(a,-1,0,2,2,null,!0);s.attr({cursor:Ql(this._orient),draggable:!0,drift:Object(d["c"])(this._onDragMove,this,e),ondragend:Object(d["c"])(this._onDragEnd,this),onmouseover:Object(d["c"])(this._showDataInfo,this,!0),onmouseout:Object(d["c"])(this._showDataInfo,this,!1),z2:5});var l=s.getBoundingRect(),c=r.get("handleSize");this._handleHeight=Object(W["m"])(c,this._size[1]),this._handleWidth=l.width/l.height*this._handleHeight,s.setStyle(r.getModel("handleStyle").getItemStyle()),s.style.strokeNoScale=!0,s.rectHover=!0,s.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),Object(Ne["m"])(s);var u=r.get("handleColor");null!=u&&(s.style.fill=u),o.add(n[e]=s);var h=r.getModel("textStyle");t.add(i[e]=new v["a"]({silent:!0,invisible:!0,style:Object(x["b"])(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=u;if(c){var p=Object(W["m"])(r.get("moveHandleSize"),a[1]),f=e.moveHandle=new y["a"]({style:r.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:p}}),g=.8*p,m=e.moveHandleIcon=Object(zo["a"])(r.get("moveHandleIcon"),-g/2,-g/2,g,g,"#fff",!0);m.silent=!0,m.y=a[1]+p/2-.5,f.ensureState("emphasis").style=r.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var _=Math.min(a[1]/2,Math.max(p,10));h=e.moveZone=new y["a"]({invisible:!0,shape:{y:a[1]-_,height:p+_}}),h.on("mouseover",(function(){s.enterEmphasis(f)})).on("mouseout",(function(){s.leaveEmphasis(f)})),o.add(f),o.add(m),o.add(h)}h.attr({draggable:!0,cursor:Ql(this._orient),drift:Object(d["c"])(this._onDragMove,this,"all"),ondragstart:Object(d["c"])(this._showDataInfo,this,!0),ondragend:Object(d["c"])(this._onDragEnd,this),onmouseover:Object(d["c"])(this._showDataInfo,this,!0),onmouseout:Object(d["c"])(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[Object(W["i"])(t[0],[0,100],e,!0),Object(W["i"])(t[1],[0,100],e,!0)]},e.prototype._updateInterval=function(t,e){var n=this.dataZoomModel,i=this._handleEnds,o=this._getViewExtent(),a=n.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];F(e,i,o,n.get("zoomLock")?"all":t,null!=a.minSpan?Object(W["i"])(a.minSpan,r,o,!0):null,null!=a.maxSpan?Object(W["i"])(a.maxSpan,r,o,!0):null);var s=this._range,l=this._range=Object(W["b"])([Object(W["i"])(i[0],o,r,!0),Object(W["i"])(i[1],o,r,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},e.prototype._updateView=function(t){var e=this._displayables,n=this._handleEnds,i=Object(W["b"])(n.slice()),o=this._size;Object(d["j"])([0,1],(function(t){var i=e.handles[t],a=this._handleHeight;i.attr({scaleX:a/2,scaleY:a/2,x:n[t]+(t?-1:1),y:o[1]/2-a/2})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:o[1]});var a={x:i[0],width:i[1]-i[0]};e.moveHandle&&(e.moveHandle.setShape(a),e.moveZone.setShape(a),e.moveZone.getBoundingRect(),e.moveHandleIcon&&e.moveHandleIcon.attr("x",a.x+a.width/2));for(var r=e.dataShadowSegs,s=[0,i[0],i[1],o[0]],l=0;l<r.length;l++){var c=r[l],u=c.getClipPath();u||(u=new y["a"],c.setClipPath(u)),u.setShape({x:s[l],y:0,width:s[l+1]-s[l],height:o[1]})}this._updateDataInfo(t)},e.prototype._updateDataInfo=function(t){var e=this.dataZoomModel,n=this._displayables,i=n.handleLabels,o=this._orient,a=["",""];if(e.get("showDetail")){var r=e.findRepresentativeAxisProxy();if(r){var s=r.getAxisModel().axis,l=this._range,c=t?r.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:r.getDataValueWindow();a=[this._formatLabel(c[0],s),this._formatLabel(c[1],s)]}}var u=Object(W["b"])(this._handleEnds.slice());function d(t){var e=Re["getTransform"](n.handles[t].parent,this.group),r=Re["transformDirection"](0===t?"right":"left",e),s=this._handleWidth/2+Ul,l=Re["applyTransform"]([u[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],verticalAlign:o===Yl?"middle":r,align:o===Yl?r:"center",text:a[t]})}d.call(this,0),d.call(this,1)},e.prototype._formatLabel=function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),o=n.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return Object(d["u"])(i)?i(t,a):Object(d["z"])(i)?i.replace("{value}",a):a},e.prototype._showDataInfo=function(t){t=this._dragging||t;var e=this._displayables,n=e.handleLabels;n[0].attr("invisible",!t),n[1].attr("invisible",!t),e.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},e.prototype._onDragMove=function(t,e,n,i){this._dragging=!0,on["g"](i.event);var o=this._displayables.sliderGroup.getLocalTransform(),a=Re["applyTransform"]([e,n],o,!0),r=this._updateInterval(t,a[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var t=this.dataZoomModel.get("realtime");!t&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(t){var e=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var i=this._handleEnds,o=(i[0]+i[1])/2,a=this._updateInterval("all",n[0]-o);this._updateView(),a&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(t){var e=t.offsetX,n=t.offsetY;this._brushStart=new Vl["a"](e,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(t){if(this._brushing){var e=this._displayables.brushRect;if(this._brushing=!1,e){e.attr("ignore",!0);var n=e.shape,i=+new Date;if(!(i-this._brushStartTime<200&&Math.abs(n.width)<5)){var o=this._getViewExtent(),a=[0,100];this._range=Object(W["b"])([Object(W["i"])(n.x,o,a,!0),Object(W["i"])(n.x+n.width,o,a,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(t){this._brushing&&(on["g"](t.event),this._updateBrushRect(t.offsetX,t.offsetY))},e.prototype._updateBrushRect=function(t,e){var n=this._displayables,i=this.dataZoomModel,o=n.brushRect;o||(o=n.brushRect=new Gl({silent:!0,style:i.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(o)),o.attr("ignore",!1);var a=this._brushStart,r=this._displayables.sliderGroup,s=r.transformCoordToLocal(t,e),l=r.transformCoordToLocal(a.x,a.y),c=this._size;s[0]=Math.max(Math.min(c[0],s[0]),0),o.setShape({x:l[0],y:0,width:s[0]-l[0],height:c[1]})},e.prototype._dispatchZoomAction=function(t){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?ql:null,start:e[0],end:e[1]})},e.prototype._findCoordRect=function(){var t,e=T(this.dataZoomModel).infoList;if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}if(!t){var i=this.api.getWidth(),o=this.api.getHeight();t={x:.2*i,y:.2*o,width:.6*i,height:.6*o}}return t},e.type="dataZoom.slider",e}(V);function Jl(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function Ql(t){return"vertical"===t?"ns-resize":"ew-resize"}var tc=Kl;function ec(t){t.registerComponentModel(Bl),t.registerComponentView(tc),Ce(t)}function nc(t){g(Nl),g(ec)}function ic(t,e){if(!t)return!1;for(var n=Object(d["r"])(t)?t:[t],i=0;i<n.length;i++)if(n[i]&&n[i][e])return!0;return!1}function oc(t){Object(D["e"])(t,"label",["show"])}var ac=Object(D["m"])(),rc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.createdBySelf=!1,n}return Object(m["a"])(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),this._mergeOption(t,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if($e["a"].node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},e.prototype.mergeOption=function(t,e){this._mergeOption(t,e,!1,!1)},e.prototype._mergeOption=function(t,e,n,i){var o=this.mainType;n||e.eachSeries((function(t){var n=t.get(this.mainType,!0),a=ac(t)[o];n&&n.data?(a?a._mergeOption(n,e,!0):(i&&oc(n),d["j"](n.data,(function(t){t instanceof Array?(oc(t[0]),oc(t[1])):oc(t)})),a=this.createMarkerModelFromSeries(n,this,e),d["l"](a,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.__hostSeries=t),ac(t)[o]=a):ac(t)[o]=null}),this)},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),o=this.getRawValue(t),a=i.getName(t);return Object(Ja["c"])("section",{header:this.name,blocks:[Object(Ja["c"])("nameValue",{name:a,value:o,noName:!a,noValue:null==o})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(t){this._data=t},e.getMarkerModelFromSeries=function(t,e){return ac(t)[e]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(c["a"]);d["H"](rc,vr["a"].prototype);var sc=rc,lc=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.createMarkerModelFromSeries=function(t,n,i){return new e(t,n,i)},e.type="markArea",e.defaultOption={zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(sc),cc=lc,uc=n("2b17"),dc=n("07fd");function hc(t){var e={},n=e.encode={},i=Object(d["f"])(),o=[],a=[],r=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};Object(d["j"])(t.dimensions,(function(e){var s=t.getDimensionInfo(e),l=s.coordDim;if(l){0;var c=s.coordDimIndex;pc(n,l)[c]=e,s.isExtraCoord||(i.set(l,1),gc(s.type)&&(o[0]=e),pc(r.encode,l)[c]=s.index),s.defaultTooltip&&a.push(e)}dc["i"].each((function(t,e){var i=pc(n,e),o=s.otherDims[e];null!=o&&!1!==o&&(i[o]=s.name)}))}));var s=[],l={};i.each((function(t,e){var i=n[e];l[e]=i[0],s=s.concat(i)})),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var c=n.label;c&&c.length&&(o=c.slice());var u=n.tooltip;return u&&u.length?a=u.slice():a.length||(a=o.slice()),n.defaultedLabel=o,n.defaultedTooltip=a,e}function pc(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function fc(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function gc(t){return!("ordinal"===t||"time"===t)}var mc,vc,yc,_c,xc,bc,wc,Oc,Mc,Sc,Ic,jc,Cc,Ac,kc=function(){function t(t){this.otherDims={},null!=t&&d["l"](this,t)}return t}(),Tc=kc,Dc=n("b7d9"),Lc=n("ec6f"),Pc=Math.floor,Ec=d["y"],Rc=d["E"],Nc="undefined",zc=-1,Bc="e\0\0",Vc={float:typeof Float64Array===Nc?Array:Float64Array,int:typeof Int32Array===Nc?Array:Int32Array,ordinal:Array,number:Array,time:Array},Gc=typeof Uint32Array===Nc?Array:Uint32Array,Hc=typeof Int32Array===Nc?Array:Int32Array,Wc=typeof Uint16Array===Nc?Array:Uint16Array,Fc=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Zc=["_extent","_approximateExtent","_rawExtent"],Yc=function(){function t(t,e){this.type="list",this._count=0,this._rawCount=0,this._storage={},this._storageArr=[],this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._rawExtent={},this._extent={},this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!0,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"],this.getRawIndex=xc,t=t||["x","y"];for(var n={},i=[],o={},a=0;a<t.length;a++){var r=t[a],s=d["z"](r)?new Tc({name:r}):r instanceof Tc?r:new Tc(r),l=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=l,s.coordDimIndex=0);var c=s.otherDims=s.otherDims||{};i.push(l),n[l]=s,s.index=a,s.createInvertedIndices&&(o[l]=[]),0===c.itemName&&(this._nameDimIdx=a,this._nameOrdinalMeta=s.ordinalMeta),0===c.itemId&&(this._idDimIdx=a,this._idOrdinalMeta=s.ordinalMeta)}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this._dimensionsSummary=hc(this),this._invertedIndicesMap=o,this.userOutput=this._dimensionsSummary.userOutput}return t.prototype.getDimension=function(t){return"number"!==typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},t.prototype.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},t.prototype.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},t.prototype.mapDimensionsAll=function(t){var e=this._dimensionsSummary,n=e.encode[t];return(n||[]).slice()},t.prototype.initData=function(t,e,n){var i=Object(Lc["e"])(t)||d["s"](t),o=i?new uc["a"](t,this.dimensions.length):t;this._rawData=o;var a=o.getSource().sourceFormat;this._storage={},this._indices=null,this._dontMakeIdFromName=null!=this._idDimIdx||a===dc["g"]||!!o.fillStorage,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=mc[a],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=mc.arrayRows,this._rawExtent={},this._initDataFromProvider(0,o.count()),o.pure&&(this.hasItemOption=!1)},t.prototype.getProvider=function(){return this._rawData},t.prototype.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=n),this._initDataFromProvider(n,i,!0)},t.prototype.appendValues=function(t,e){for(var n=this._storage,i=this.dimensions,o=i.length,a=this._rawExtent,r=this.count(),s=r+Math.max(t.length,e?e.length:0),l=0;l<o;l++){var c=i[l];a[c]||(a[c]=jc()),_c(n,this._dimensionInfos[c],s,!0)}for(var u=Rc(i,(function(t){return a[t]})),d=this._storageArr=Rc(i,(function(t){return n[t]})),h=[],p=r;p<s;p++){for(var f=p-r,g=0;g<o;g++){c=i[g];var m=this._dimValueGetterArrayRows(t[f]||h,c,f,g);d[g][p]=m;var v=u[g];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}e&&(this._nameList[p]=e[f],this._dontMakeIdFromName||Mc(this,p))}this._rawCount=this._count=s,this._extent={},vc(this)},t.prototype._initDataFromProvider=function(t,e,n){if(!(t>=e)){for(var i=this._rawData,o=this._storage,a=this.dimensions,r=a.length,s=this._dimensionInfos,l=this._nameList,c=this._idList,u=this._rawExtent,d=i.getSource().sourceFormat,h=d===dc["f"],p=0;p<r;p++){var f=a[p];u[f]||(u[f]=jc()),_c(o,s[f],e,n)}var g=this._storageArr=Rc(a,(function(t){return o[t]})),m=Rc(a,(function(t){return u[t]}));if(i.fillStorage)i.fillStorage(t,e,g,m);else for(var v=[],y=t;y<e;y++){v=i.getItem(y,v);for(var _=0;_<r;_++){f=a[_];var x=g[_],b=this._dimValueGetter(v,f,y,_);x[y]=b;var w=m[_];b<w[0]&&(w[0]=b),b>w[1]&&(w[1]=b)}if(h&&!i.pure&&v){var O=v.name;null==l[y]&&null!=O&&(l[y]=Object(D["d"])(O,null));var M=v.id;null==c[y]&&null!=M&&(c[y]=Object(D["d"])(M,null))}this._dontMakeIdFromName||Mc(this,y)}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},vc(this)}},t.prototype.count=function(){return this._count},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var o=0;o<i;o++)t[o]=e[o]}else t=new n(e.buffer,0,i)}else{n=yc(this);t=new n(this.count());for(o=0;o<t.length;o++)t[o]=o}return t},t.prototype.getByDimIdx=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storageArr[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];return n?n[e]:NaN},t.prototype.getValues=function(t,e){var n=[];d["r"](t)||(e=t,t=this.dimensions);for(var i=0,o=t.length;i<o;i++)n.push(this.get(t[i],e));return n},t.prototype.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},t.prototype.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=jc();if(!e)return n;var i,o=this.count(),a=!this._indices;if(a)return this._rawExtent[t].slice();if(i=this._extent[t],i)return i.slice();i=n;for(var r=i[0],s=i[1],l=0;l<o;l++){var c=this.getRawIndex(l),u=e[c];u<r&&(r=u),u>s&&(s=u)}return i=[r,s],this._extent[t]=i,i},t.prototype.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){Ec(t)?d["l"](this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getSum=function(t){var e=this._storage[t],n=0;if(e)for(var i=0,o=this.count();i<o;i++){var a=this.get(t,i);isNaN(a)||(n+=a)}return n},t.prototype.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];var i=n[e];return null==i||isNaN(i)?zc:i},t.prototype.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;var i=0,o=this._count-1;while(i<=o){var a=(i+o)/2|0;if(e[a]<t)i=a+1;else{if(!(e[a]>t))return a;o=a-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var i=this._storage,o=i[t],a=[];if(!o)return a;null==n&&(n=1/0);for(var r=1/0,s=-1,l=0,c=0,u=this.count();c<u;c++){var d=this.getRawIndex(c),h=e-o[d],p=Math.abs(h);p<=n&&((p<r||p===r&&h>=0&&s<0)&&(r=p,s=h,l=0),h===s&&(a[l++]=c))}return a.length=l,a},t.prototype.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=Oc(this,this._nameDimIdx,this._nameOrdinalMeta,e)),null==n&&(n=""),n},t.prototype.getId=function(t){return wc(this,this.getRawIndex(t))},t.prototype.each=function(t,e,n,i){var o=this;if(this._count){"function"===typeof t&&(i=n,n=e,e=t,t=[]);var a=n||i||this,r=Rc(Sc(t),this.getDimension,this);0;for(var s=r.length,l=Rc(r,(function(t){return o._dimensionInfos[t].index})),c=this._storageArr,u=0,d=this.count();u<d;u++){var h=this.getRawIndex(u);switch(s){case 0:e.call(a,u);break;case 1:e.call(a,c[l[0]][h],u);break;case 2:e.call(a,c[l[0]][h],c[l[1]][h],u);break;default:for(var p=0,f=[];p<s;p++)f[p]=c[l[p]][h];f[p]=u,e.apply(a,f)}}}},t.prototype.filterSelf=function(t,e,n,i){var o=this;if(this._count){"function"===typeof t&&(i=n,n=e,e=t,t=[]);var a=n||i||this,r=Rc(Sc(t),this.getDimension,this);0;for(var s=this.count(),l=yc(this),c=new l(s),u=[],d=r.length,h=0,p=Rc(r,(function(t){return o._dimensionInfos[t].index})),f=p[0],g=this._storageArr,m=0;m<s;m++){var v=void 0,y=this.getRawIndex(m);if(0===d)v=e.call(a,m);else if(1===d){var _=g[f][y];v=e.call(a,_,m)}else{for(var x=0;x<d;x++)u[x]=g[p[x]][y];u[x]=m,v=e.apply(a,u)}v&&(c[h++]=y)}return h<s&&(this._indices=c),this._count=h,this._extent={},this.getRawIndex=this._indices?bc:xc,this}},t.prototype.selectRange=function(t){var e=this,n=this._count;if(n){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(o);0;var a=i.length;if(a){var r=this.count(),s=yc(this),l=new s(r),c=0,u=i[0],d=Rc(i,(function(t){return e._dimensionInfos[t].index})),h=t[u][0],p=t[u][1],f=this._storageArr,g=!1;if(!this._indices){var m=0;if(1===a){for(var v=f[d[0]],y=0;y<n;y++){var _=v[y];(_>=h&&_<=p||isNaN(_))&&(l[c++]=m),m++}g=!0}else if(2===a){v=f[d[0]];var x=f[d[1]],b=t[i[1]][0],w=t[i[1]][1];for(y=0;y<n;y++){_=v[y];var O=x[y];(_>=h&&_<=p||isNaN(_))&&(O>=b&&O<=w||isNaN(O))&&(l[c++]=m),m++}g=!0}}if(!g)if(1===a)for(y=0;y<r;y++){var M=this.getRawIndex(y);_=f[d[0]][M];(_>=h&&_<=p||isNaN(_))&&(l[c++]=M)}else for(y=0;y<r;y++){for(var S=!0,I=(M=this.getRawIndex(y),0);I<a;I++){var j=i[I];_=f[d[I]][M];(_<t[j][0]||_>t[j][1])&&(S=!1)}S&&(l[c++]=this.getRawIndex(y))}return c<r&&(this._indices=l),this._count=c,this._extent={},this.getRawIndex=this._indices?bc:xc,this}}},t.prototype.mapArray=function(t,e,n,i){"function"===typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;var o=[];return this.each(t,(function(){o.push(e&&e.apply(this,arguments))}),n),o},t.prototype.map=function(t,e,n,i){var o=n||i||this,a=Rc(Sc(t),this.getDimension,this);var r=Ic(this,a),s=r._storage;r._indices=this._indices,r.getRawIndex=r._indices?bc:xc;for(var l=[],c=a.length,u=this.count(),d=[],h=r._rawExtent,p=0;p<u;p++){for(var f=0;f<c;f++)d[f]=this.get(a[f],p);d[c]=p;var g=e&&e.apply(o,d);if(null!=g){"object"!==typeof g&&(l[0]=g,g=l);for(var m=this.getRawIndex(p),v=0;v<g.length;v++){var y=a[v],_=g[v],x=h[y],b=s[y];b&&(b[m]=_),_<x[0]&&(x[0]=_),_>x[1]&&(x[1]=_)}}}return r},t.prototype.downSample=function(t,e,n,i){for(var o=Ic(this,[t]),a=o._storage,r=[],s=Pc(1/e),l=a[t],c=this.count(),u=o._rawExtent[t],d=new(yc(this))(c),h=0,p=0;p<c;p+=s){s>c-p&&(s=c-p,r.length=s);for(var f=0;f<s;f++){var g=this.getRawIndex(p+f);r[f]=l[g]}var m=n(r),v=this.getRawIndex(Math.min(p+i(r,m)||0,c-1));l[v]=m,m<u[0]&&(u[0]=m),m>u[1]&&(u[1]=m),d[h++]=v}return o._count=h,o._indices=d,o.getRawIndex=bc,o},t.prototype.lttbDownSample=function(t,e){var n,i,o,a=Ic(this,[]),r=a._storage,s=r[t],l=this.count(),c=new(yc(this))(l),u=0,d=Pc(1/e),h=this.getRawIndex(0);c[u++]=h;for(var p=1;p<l-1;p+=d){for(var f=Math.min(p+d,l-1),g=Math.min(p+2*d,l),m=(g+f)/2,v=0,y=f;y<g;y++){var _=this.getRawIndex(y),x=s[_];isNaN(x)||(v+=x)}v/=g-f;var b=p,w=Math.min(p+d,l),O=p-1,M=s[h];n=-1,o=b;for(y=b;y<w;y++){_=this.getRawIndex(y),x=s[_];isNaN(x)||(i=Math.abs((O-m)*(x-M)-(O-y)*(v-M)),i>n&&(n=i,o=_))}c[u++]=o,h=o}return c[u++]=this.getRawIndex(l-1),a._count=u,a._indices=c,a.getRawIndex=bc,a},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new ze["a"](n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new He(t?t.getIndices():[],this.getIndices(),(function(e){return wc(t,e)}),(function(t){return wc(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},Ec(t)?d["l"](this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return null==i?this.getVisual(e):i},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var o=i[e];return null==o&&(o=this.getVisual(e),d["r"](o)?o=o.slice():Ec(o)&&(o=d["l"]({},o)),i[e]=o),o},t.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Ec(e)?d["l"](i,e):i[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){if(Ec(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?d["l"](this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel;if(e){var i=Object(_["a"])(e);i.dataIndex=t,i.dataType=this.dataType,i.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(Cc,e)}this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){d["j"](this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},t.prototype.cloneShallow=function(e){if(!e){var n=Rc(this.dimensions,this.getDimensionInfo,this);e=new t(n,this.hostModel)}if(e._storage=this._storage,e._storageArr=this._storageArr,Ac(e,this),this._indices){var i=this._indices.constructor;if(i===Array){var o=this._indices.length;e._indices=new i(o);for(var a=0;a<o;a++)e._indices[a]=this._indices[a]}else e._indices=new i(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?bc:xc,e},t.prototype.wrapMethod=function(t,e){var n=this[t];"function"===typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(d["P"](arguments)))})},t.internalField=function(){function e(t,e,n,i){return Object(Dc["b"])(t[i],this._dimensionInfos[e])}function n(t){var e=t.constructor;return e===Array?t.slice():new e(t)}mc={arrayRows:e,objectRows:function(t,e,n,i){return Object(Dc["b"])(t[e],this._dimensionInfos[e])},keyedColumns:e,original:function(t,e,n,i){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Object(D["k"])(t)&&(this.hasItemOption=!0),Object(Dc["b"])(o instanceof Array?o[i]:o,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}},vc=function(t){var e=t._invertedIndicesMap;d["j"](e,(function(n,i){var o=t._dimensionInfos[i],a=o.ordinalMeta;if(a){n=e[i]=new Hc(a.categories.length);for(var r=0;r<n.length;r++)n[r]=zc;for(r=0;r<t._count;r++)n[t.get(i,r)]=r}}))},Oc=function(t,e,n,i){var o,a=t._storageArr[e];return a&&(o=a[i],n&&n.categories.length&&(o=n.categories[o])),Object(D["d"])(o,null)},yc=function(t){return t._rawCount>65535?Gc:Wc},_c=function(t,e,n,i){var o=Vc[e.type],a=e.name;if(i){var r=t[a],s=r&&r.length;if(s!==n){for(var l=new o(n),c=0;c<s;c++)l[c]=r[c];t[a]=l}}else t[a]=new o(n)},xc=function(t){return t},bc=function(t){return t<this._count&&t>=0?this._indices[t]:-1},wc=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=Oc(t,t._idDimIdx,t._idOrdinalMeta,e)),null==n&&(n=Bc+e),n},Sc=function(t){return d["r"](t)||(t=null!=t?[t]:[]),t},function(t,e){for(var n=0;n<e.length;n++)t._dimensionInfos[e[n]]||console.error("Unkown dimension "+e[n])},Ic=function(e,i){var o=e.dimensions,a=new t(Rc(o,e.getDimensionInfo,e),e.hostModel);Ac(a,e);for(var r=a._storage={},s=e._storage,l=a._storageArr=[],c=0;c<o.length;c++){var u=o[c];s[u]&&(d["p"](i,u)>=0?(r[u]=n(s[u]),a._rawExtent[u]=jc(),a._extent[u]=null):r[u]=s[u],l.push(r[u]))}return a},jc=function(){return[1/0,-1/0]},Cc=function(t){var e=Object(_["a"])(t),n=Object(_["a"])(this);e.seriesIndex=n.seriesIndex,e.dataIndex=n.dataIndex,e.dataType=n.dataType},Ac=function(t,e){d["j"](Fc.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,d["j"](Zc,(function(n){t[n]=d["d"](e[n])})),t._calculationInfo=d["l"]({},e._calculationInfo)},Mc=function(t,e){var n=t._nameList,i=t._idList,o=t._nameDimIdx,a=t._idDimIdx,r=n[e],s=i[e];if(null==r&&null!=o&&(n[e]=r=Oc(t,o,t._nameOrdinalMeta,e)),null==s&&null!=a&&(i[e]=s=Oc(t,a,t._idOrdinalMeta,e)),null==s&&null!=r){var l=t._nameRepeatCount,c=l[r]=(l[r]||0)+1;s=r,c>1&&(s+="__ec__"+c),i[e]=s}}}(),t}(),Xc=Yc;function Uc(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function $c(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function qc(t,e,n,i,o,a){var r=[],s=pt(e,i),l=s?e.getCalculationInfo("stackResultDimension"):i,c=nu(e,l,t),u=e.indicesOfNearest(l,c)[0];r[o]=e.get(n,u),r[a]=e.get(l,u);var d=e.get(i,u),h=W["e"](e.get(i,u));return h=Math.min(h,20),h>=0&&(r[a]=+r[a].toFixed(h)),[r,d]}var Kc={min:Object(d["h"])(qc,"min"),max:Object(d["h"])(qc,"max"),average:Object(d["h"])(qc,"average"),median:Object(d["h"])(qc,"median")};function Jc(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&!$c(e)&&!Object(d["r"])(e.coord)&&i){var o=i.dimensions,a=Qc(e,n,i,t);if(e=Object(d["d"])(e),e.type&&Kc[e.type]&&a.baseAxis&&a.valueAxis){var r=Object(d["p"])(o,a.baseAxis.dim),s=Object(d["p"])(o,a.valueAxis.dim),l=Kc[e.type](n,a.baseDataDim,a.valueDataDim,r,s);e.coord=l[0],e.value=l[1]}else{for(var c=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],u=0;u<2;u++)Kc[c[u]]&&(c[u]=nu(n,n.mapDimension(o[u]),c[u]));e.coord=c}}return e}function Qc(t,e,n,i){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=n.getAxis(tu(i,o.valueDataDim)),o.baseAxis=n.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=i.getBaseAxis(),o.valueAxis=n.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function tu(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var o=0;o<i.length;o++){var a=n.getDimensionInfo(i[o]);if(a.name===e)return a.coordDim}}function eu(t,e){return!(t&&t.containData&&e.coord&&!Uc(e))||t.containData(e.coord)}function nu(t,e,n){if("average"===n){var i=0,o=0;return t.each(e,(function(t,e){isNaN(t)||(i+=t,o++)})),i/o}return"median"===n?t.getMedian(e):t.getDataExtent(e)["max"===n?1:0]}var iu=Object(D["m"])(),ou=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.init=function(){this.markerGroupMap=Object(d["f"])()},e.prototype.render=function(t,e,n){var i=this,o=this.markerGroupMap;o.each((function(t){iu(t).keep=!1})),e.eachSeries((function(t){var o=sc.getMarkerModelFromSeries(t,i.type);o&&i.renderSeries(t,o,e,n)})),o.each((function(t){!iu(t).keep&&i.group.remove(t.group)}))},e.prototype.markKeep=function(t){iu(t).keep=!0},e.prototype.blurSeries=function(t){var e=this;Object(d["j"])(t,(function(t){var n=sc.getMarkerModelFromSeries(t,e.type);if(n){var i=n.getData();i.eachItemGraphicEl((function(t){t&&Object(Ne["n"])(t)}))}}))},e.type="marker",e}(s["a"]),au=ou;function ru(t,e){return t.type===e}var su=n("0924"),lu=Object(D["m"])(),cu=function(t,e,n,i){var o=Jc(t,i[0]),a=Jc(t,i[1]),r=o.coord,s=a.coord;r[0]=Object(d["L"])(r[0],-1/0),r[1]=Object(d["L"])(r[1],-1/0),s[0]=Object(d["L"])(s[0],1/0),s[1]=Object(d["L"])(s[1],1/0);var l=Object(d["G"])([{},o,a]);return l.coord=[o.coord,a.coord],l.x0=o.x,l.y0=o.y,l.x1=a.x,l.y1=a.y,l};function uu(t){return!isNaN(t)&&!isFinite(t)}function du(t,e,n,i){var o=1-t;return uu(e[o])&&uu(n[o])}function hu(t,e){var n=e.coord[0],i=e.coord[1];return!!(ru(t,"cartesian2d")&&n&&i&&(du(1,n,i,t)||du(0,n,i,t)))||(eu(t,{coord:n,x:e.x0,y:e.y0})||eu(t,{coord:i,x:e.x1,y:e.y1}))}function pu(t,e,n,i,o){var a,r=i.coordinateSystem,s=t.getItemModel(e),l=W["m"](s.get(n[0]),o.getWidth()),c=W["m"](s.get(n[1]),o.getHeight());if(isNaN(l)||isNaN(c)){if(i.getMarkerPosition)a=i.getMarkerPosition(t.getValues(n,e));else{var u=t.get(n[0],e),d=t.get(n[1],e),h=[u,d];r.clampData&&r.clampData(h,h),a=r.dataToPoint(h,!0)}if(ru(r,"cartesian2d")){var p=r.getAxis("x"),f=r.getAxis("y");u=t.get(n[0],e),d=t.get(n[1],e);uu(u)?a[0]=p.toGlobalCoord(p.getExtent()["x0"===n[0]?0:1]):uu(d)&&(a[1]=f.toGlobalCoord(f.getExtent()["y0"===n[1]?0:1]))}isNaN(l)||(a[0]=l),isNaN(c)||(a[1]=c)}else a=[l,c];return a}var fu=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],gu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.updateTransform=function(t,e,n){e.eachSeries((function(t){var e=sc.getMarkerModelFromSeries(t,"markArea");if(e){var i=e.getData();i.each((function(e){var o=Object(d["E"])(fu,(function(o){return pu(i,e,o,t,n)}));i.setItemLayout(e,o);var a=i.getItemGraphicEl(e);a.setShape("points",o)}))}}),this)},e.prototype.renderSeries=function(t,e,n,i){var o=t.coordinateSystem,a=t.id,r=t.getData(),s=this.markerGroupMap,l=s.get(a)||s.set(a,{group:new kn["a"]});this.group.add(l.group),this.markKeep(l);var c=mu(o,t,e);e.setData(c),c.each((function(e){var n=Object(d["E"])(fu,(function(n){return pu(c,e,n,t,i)})),a=o.getAxis("x").scale,s=o.getAxis("y").scale,l=a.getExtent(),u=s.getExtent(),h=[a.parse(c.get("x0",e)),a.parse(c.get("x1",e))],p=[s.parse(c.get("y0",e)),s.parse(c.get("y1",e))];W["b"](h),W["b"](p);var f=!(l[0]>h[1]||l[1]<h[0]||u[0]>p[1]||u[1]<p[0]),g=!f;c.setItemLayout(e,{points:n,allClipped:g});var m=c.getItemModel(e).getModel("itemStyle").getItemStyle(),v=Object(su["b"])(r,"color");m.fill||(m.fill=v,"string"===typeof m.fill&&(m.fill=Fa["c"](m.fill,.4))),m.stroke||(m.stroke=v),c.setItemVisual(e,"style",m)})),c.diff(lu(l).data).add((function(t){var e=c.getItemLayout(t);if(!e.allClipped){var n=new Dn["a"]({shape:{points:e.points}});c.setItemGraphicEl(t,n),l.group.add(n)}})).update((function(t,n){var i=lu(l).data.getItemGraphicEl(n),o=c.getItemLayout(t);o.allClipped?i&&l.group.remove(i):(i?Re["updateProps"](i,{shape:{points:o.points}},e,t):i=new Dn["a"]({shape:{points:o.points}}),c.setItemGraphicEl(t,i),l.group.add(i))})).remove((function(t){var e=lu(l).data.getItemGraphicEl(t);l.group.remove(e)})).execute(),c.eachItemGraphicEl((function(t,n){var i=c.getItemModel(n),o=c.getItemVisual(n,"style");t.useStyle(c.getItemVisual(n,"style")),Object(x["f"])(t,Object(x["d"])(i),{labelFetcher:e,labelDataIndex:n,defaultText:c.getName(n)||"",inheritColor:"string"===typeof o.fill?Fa["c"](o.fill,1):"#000"}),Object(Ne["D"])(t,i),Object(Ne["m"])(t),Object(_["a"])(t).dataModel=e})),lu(l).data=c,l.group.silent=e.get("silent")||t.get("silent")},e.type="markArea",e}(au);function mu(t,e,n){var i,o,a=["x0","y0","x1","y1"];t?(i=Object(d["E"])(t&&t.dimensions,(function(t){var n=e.getData(),i=n.getDimensionInfo(n.mapDimension(t))||{};return Object(d["i"])({name:t},i)})),o=new Xc(Object(d["E"])(a,(function(t,e){return{name:t,type:i[e%2].type}})),n)):(i=[{name:"value",type:"float"}],o=new Xc(i,n));var r=Object(d["E"])(n.get("data"),Object(d["h"])(cu,e,t,n));t&&(r=Object(d["m"])(r,Object(d["h"])(hu,t)));var s=t?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value};return o.initData(r,null,s),o.hasItemOption=!0,o}var vu=gu;function yu(t){t.registerComponentModel(cc),t.registerComponentView(vu),t.registerPreprocessor((function(t){ic(t.series,"markArea")&&(t.markArea=t.markArea||{})}))}var _u=n("0f99");function xu(t,e,n){Object(Lc["e"])(e)||(e=Object(Lc["c"])(e)),n=n||{},t=(t||[]).slice();for(var i=(n.dimsDef||[]).slice(),o=Object(d["f"])(),a=Object(d["f"])(),r=[],s=bu(e,t,i,n.dimCount),l=0;l<s;l++){var c=i[l],u=i[l]=Object(d["l"])({},Object(d["y"])(c)?c:{name:c}),h=u.name,p=r[l]=new Tc;null!=h&&null==o.get(h)&&(p.name=p.displayName=h,o.set(h,l)),null!=u.type&&(p.type=u.type),null!=u.displayName&&(p.displayName=u.displayName)}var f=n.encodeDef;!f&&n.encodeDefaulter&&(f=n.encodeDefaulter(e,s));var g=Object(d["f"])(f);g.each((function(t,e){var n=Object(D["p"])(t).slice();if(1===n.length&&!Object(d["z"])(n[0])&&n[0]<0)g.set(e,!1);else{var i=g.set(e,[]);Object(d["j"])(n,(function(t,n){var a=Object(d["z"])(t)?o.get(t):t;null!=a&&a<s&&(i[n]=a,v(r[a],e,n))}))}}));var m=0;function v(t,e,n){null!=dc["i"].get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,a.set(e,!0))}Object(d["j"])(t,(function(t){var e,n,i,o;if(Object(d["z"])(t))e=t,o={};else{o=t,e=o.name;var a=o.ordinalMeta;o.ordinalMeta=null,o=Object(d["d"])(o),o.ordinalMeta=a,n=o.dimsDef,i=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var s=g.get(e);if(!1!==s){if(s=Object(D["p"])(s),!s.length)for(var l=0;l<(n&&n.length||1);l++){while(m<r.length&&null!=r[m].coordDim)m++;m<r.length&&s.push(m++)}Object(d["j"])(s,(function(t,a){var s=r[t];if(v(Object(d["i"])(s,o),e,a),null==s.name&&n){var l=n[a];!Object(d["y"])(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}i&&Object(d["i"])(s.otherDims,i)}))}}));var y=n.generateCoord,_=n.generateCoordCount,x=null!=_;_=y?_||1:0;for(var b=y||"value",w=0;w<s;w++){p=r[w]=r[w]||new Tc;var O=p.coordDim;null==O&&(p.coordDim=wu(b,a,x),p.coordDimIndex=0,(!y||_<=0)&&(p.isExtraCoord=!0),_--),null==p.name&&(p.name=wu(p.coordDim,o,!1)),null!=p.type||Object(_u["b"])(e,w)!==_u["a"].Must&&(!p.isExtraCoord||null==p.otherDims.itemName&&null==p.otherDims.seriesName)||(p.type="ordinal")}return r}function bu(t,e,n,i){var o=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return Object(d["j"])(e,(function(t){var e;Object(d["y"])(t)&&(e=t.dimsDef)&&(o=Math.max(o,e.length))})),o}function wu(t,e,n){if(n||null!=e.get(t)){var i=0;while(null!=e.get(t+i))i++;t+=i}return e.set(t,!0),t}var Ou=xu;function Mu(t,e){return e=e||{},Ou(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}var Su=n("1f39"),Iu=function(){function t(t){this.coordSysDims=[],this.axisMap=Object(d["f"])(),this.categoryAxisMap=Object(d["f"])(),this.coordSysName=t}return t}();function ju(t){var e=t.get("coordinateSystem"),n=new Iu(e),i=Cu[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}var Cu={cartesian2d:function(t,e,n,i){var o=t.getReferringComponents("xAxis",D["b"]).models[0],a=t.getReferringComponents("yAxis",D["b"]).models[0];e.coordSysDims=["x","y"],n.set("x",o),n.set("y",a),Au(o)&&(i.set("x",o),e.firstCategoryDimIndex=0),Au(a)&&(i.set("y",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var o=t.getReferringComponents("singleAxis",D["b"]).models[0];e.coordSysDims=["single"],n.set("single",o),Au(o)&&(i.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var o=t.getReferringComponents("polar",D["b"]).models[0],a=o.findAxisModel("radiusAxis"),r=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",a),n.set("angle",r),Au(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),Au(r)&&(i.set("angle",r),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,i){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),r=e.coordSysDims=a.dimensions.slice();Object(d["j"])(a.parallelAxisIndex,(function(t,a){var s=o.getComponent("parallelAxis",t),l=r[a];n.set(l,s),Au(s)&&(i.set(l,s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=a))}))}};function Au(t){return"category"===t.get("type")}function ku(t,e,n){n=n||{},Object(Lc["e"])(t)||(t=Object(Lc["c"])(t));var i,o=e.get("coordinateSystem"),a=Su["a"].get(o),r=ju(e);r&&r.coordSysDims&&(i=d["E"](r.coordSysDims,(function(t){var e={name:t},n=r.axisMap.get(t);if(n){var i=n.get("type");e.type=fc(i)}return e}))),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]);var s,l,c=n.useEncodeDefaulter,u=Mu(t,{coordDimensions:i,generateCoord:n.generateCoord,encodeDefaulter:d["u"](c)?c:c?d["h"](_u["c"],i,e):null});r&&d["j"](u,(function(t,e){var i=t.coordDim,o=r.categoryAxisMap.get(i);o&&(null==s&&(s=e),t.ordinalMeta=o.getOrdinalMeta(),n.createInvertedIndices&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(l=!0)})),l||null==s||(u[s].otherDims.itemName=0);var h=ht(e,u),p=new Xc(u,e);p.setCalculationInfo(h);var f=null!=s&&Tu(t)?function(t,e,n,i){return i===s?n:this.defaultDimValueGetter(t,e,n,i)}:null;return p.hasItemOption=!1,p.initData(t,null,f),p}function Tu(t){if(t.sourceFormat===dc["f"]){var e=Du(t.data||[]);return null!=e&&!d["r"](Object(D["g"])(e))}}function Du(t){var e=0;while(e<t.length&&null==t[e])e++;return t[e]}var Lu=ku,Pu=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(m["a"])(e,t),e.prototype.getInitialData=function(t){return Lu(this.getSource(),this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(t){var e=new kn["a"],n=Object(zo["a"])("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);e.add(n),n.setStyle(t.lineStyle);var i=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),a="none"===i?"circle":i,r=.8*t.itemHeight,s=Object(zo["a"])(a,(t.itemWidth-r)/2,(t.itemHeight-r)/2,r,r,t.itemStyle.fill);e.add(s),s.setStyle(t.itemStyle);var l="inherit"===t.iconRotate?o:t.iconRotate||0;return s.rotation=l*Math.PI/180,s.setOrigin([t.itemWidth/2,t.itemHeight/2]),a.indexOf("empty")>-1&&(s.style.stroke=s.style.fill,s.style.fill="#fff",s.style.lineWidth=2),e},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={zlevel:0,z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0,lineStyle:{width:"bolder"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0},e}(u["a"]),Eu=Pu;function Ru(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var o=Object(uc["e"])(t,e,n[0]);return null!=o?o+"":null}if(i){for(var a=[],r=0;r<n.length;r++)a.push(Object(uc["e"])(t,e,n[r]));return a.join(" ")}}function Nu(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!Object(d["r"])(e))return e+"";for(var i=[],o=0;o<n.length;o++){var a=t.getDimensionInfo(n[o]);a&&i.push(e[a.index])}return i.join(" ")}var zu=n("0da8"),Bu=function(t){function e(e,n,i,o){var a=t.call(this)||this;return a.updateData(e,n,i,o),a}return Object(m["a"])(e,t),e.prototype._createSymbol=function(t,e,n,i,o){this.removeAll();var a=Object(zo["a"])(t,-1,-1,2,2,null,o);a.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),a.drift=Vu,this._symbolType=t,this.add(a)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){Object(Ne["o"])(this.childAt(0))},e.prototype.downplay=function(){Object(Ne["z"])(this.childAt(0))},e.prototype.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},e.prototype.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},e.prototype.updateData=function(t,n,i,o){this.silent=!1;var a=t.getItemVisual(n,"symbol")||"circle",r=t.hostModel,s=e.getSymbolSize(t,n),l=a!==this._symbolType,c=o&&o.disableAnimation;if(l){var u=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(a,t,n,s,u)}else{var d=this.childAt(0);d.silent=!1;var h={scaleX:s[0]/2,scaleY:s[1]/2};c?d.attr(h):Re["updateProps"](d,h,r,n)}if(this._updateCommon(t,n,s,i,o),l){d=this.childAt(0);if(!c){h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}};d.scaleX=d.scaleY=0,d.style.opacity=0,Re["initProps"](d,h,r,n)}}c&&this.childAt(0).stopAnimation("remove"),this._seriesModel=r},e.prototype._updateCommon=function(t,e,n,i,o){var a,r,s,l,c,u,h,p,f=this.childAt(0),g=t.hostModel;if(i&&(a=i.emphasisItemStyle,r=i.blurItemStyle,s=i.selectItemStyle,l=i.focus,c=i.blurScope,u=i.labelStatesModels,h=i.hoverScale,p=i.cursorStyle),!i||t.hasItemOption){var m=i&&i.itemModel?i.itemModel:t.getItemModel(e),v=m.getModel("emphasis");a=v.getModel("itemStyle").getItemStyle(),s=m.getModel(["select","itemStyle"]).getItemStyle(),r=m.getModel(["blur","itemStyle"]).getItemStyle(),l=v.get("focus"),c=v.get("blurScope"),u=Object(x["d"])(m),h=v.getShallow("scale"),p=m.getShallow("cursor")}var y=t.getItemVisual(e,"symbolRotate");f.attr("rotation",(y||0)*Math.PI/180||0);var _=t.getItemVisual(e,"symbolOffset")||0;_&&(Object(d["r"])(_)||(_=[_,_]),f.x=Object(W["m"])(_[0],n[0]),f.y=Object(W["m"])(Object(d["M"])(_[1],_[0])||0,n[1])),p&&f.attr("cursor",p);var b=t.getItemVisual(e,"style"),w=b.fill;if(f instanceof zu["a"]){var O=f.style;f.useStyle(Object(d["l"])({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},b))}else f.__isEmptyBrush?f.useStyle(Object(d["l"])({},b)):f.useStyle(b),f.style.decal=null,f.setColor(w,o&&o.symbolInnerColor),f.style.strokeNoScale=!0;var M=t.getItemVisual(e,"liftZ"),S=this._z2;null!=M?null==S&&(this._z2=f.z2,f.z2+=M):null!=S&&(f.z2=S,this._z2=null);var I=o&&o.useNameLabel;function j(e){return I?t.getName(e):Ru(t,e)}Object(x["f"])(f,u,{labelFetcher:g,labelDataIndex:e,defaultText:j,inheritColor:w,defaultOpacity:b.opacity}),this._sizeX=n[0]/2,this._sizeY=n[1]/2;var C=f.ensureState("emphasis");if(C.style=a,f.ensureState("select").style=s,f.ensureState("blur").style=r,h){var A=Math.max(1.1,3/this._sizeY);C.scaleX=this._sizeX*A,C.scaleY=this._sizeY*A}this.setSymbolScale(1),Object(Ne["m"])(this,l,c)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,e){var n=this.childAt(0),i=this._seriesModel,o=Object(_["a"])(this).dataIndex,a=e&&e.animation;if(this.silent=n.silent=!0,e&&e.fadeLabel){var r=n.getTextContent();r&&Re["removeElement"](r,{style:{opacity:0}},i,{dataIndex:o,removeOpt:a,cb:function(){n.removeTextContent()}})}else n.removeTextContent();Re["removeElement"](n,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:o,cb:t,removeOpt:a})},e.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return Object(d["r"])(n)?n.slice():[+n,+n]},e}(kn["a"]);function Vu(t,e){this.parent.drift(t,e)}var Gu=Bu;function Hu(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(n))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function Wu(t){return null==t||Object(d["y"])(t)||(t={isIgnore:t}),t||{}}function Fu(t){var e=t.hostModel,n=e.getModel("emphasis");return{emphasisItemStyle:n.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:n.get("focus"),blurScope:n.get("blurScope"),hoverScale:n.get("scale"),labelStatesModels:Object(x["d"])(e),cursorStyle:e.get("cursor")}}var Zu=function(){function t(t){this.group=new kn["a"],this._SymbolCtor=t||Gu}return t.prototype.updateData=function(t,e){e=Wu(e);var n=this.group,i=t.hostModel,o=this._data,a=this._SymbolCtor,r=e.disableAnimation,s=Fu(t),l={disableAnimation:r},c=e.getSymbolPoint||function(e){return t.getItemLayout(e)};o||n.removeAll(),t.diff(o).add((function(i){var o=c(i);if(Hu(t,o,i,e)){var r=new a(t,i,s,l);r.setPosition(o),t.setItemGraphicEl(i,r),n.add(r)}})).update((function(u,d){var h=o.getItemGraphicEl(d),p=c(u);if(Hu(t,p,u,e)){if(h){h.updateData(t,u,s,l);var f={x:p[0],y:p[1]};r?h.attr(f):Re["updateProps"](h,f,i)}else h=new a(t,u),h.setPosition(p);n.add(h),t.setItemGraphicEl(u,h)}else n.remove(h)})).remove((function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}))})).execute(),this._getSymbolPoint=c,this._data=t},t.prototype.isPersistent=function(){return!0},t.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl((function(e,n){var i=t._getSymbolPoint(n);e.setPosition(i),e.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Fu(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e,n){function i(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}n=Wu(n);for(var o=t.start;o<t.end;o++){var a=e.getItemLayout(o);if(Hu(e,a,o,n)){var r=new this._SymbolCtor(e,o,this._seriesScope);r.traverse(i),r.setPosition(a),this.group.add(r),e.setItemGraphicEl(o,r)}}},t.prototype.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()},t}(),Yu=Zu;function Xu(t,e,n){var i=t.getBaseAxis(),o=t.getOtherAxis(i),a=Uu(o,n),r=i.dim,s=o.dim,l=e.mapDimension(s),c=e.mapDimension(r),u="x"===s||"radius"===s?1:0,h=Object(d["E"])(t.dimensions,(function(t){return e.mapDimension(t)})),p=!1,f=e.getCalculationInfo("stackResultDimension");return pt(e,h[0])&&(p=!0,h[0]=f),pt(e,h[1])&&(p=!0,h[1]=f),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:r,stacked:!!p,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Uu(t,e){var n=0,i=t.scale.getExtent();return"start"===e?n=i[0]:"end"===e?n=i[1]:i[0]>0?n=i[0]:i[1]<0&&(n=i[1]),n}function $u(t,e,n,i){var o=NaN;t.stacked&&(o=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(o)&&(o=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=n.get(t.baseDim,i),r[1-a]=o,e.dataToPoint(r)}var qu="undefined"!==typeof Float32Array,Ku=qu?Float32Array:Array;function Ju(t){return Object(d["r"])(t)?qu?new Float32Array(t):t:new Ku(t)}function Qu(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}function td(t,e,n,i,o,a,r,s){for(var l=Qu(t,e),c=[],u=[],d=[],h=[],p=[],f=[],g=[],m=Xu(o,e,r),v=t.getLayout("points")||[],y=e.getLayout("points")||[],_=0;_<l.length;_++){var x=l[_],b=!0,w=void 0,O=void 0;switch(x.cmd){case"=":w=2*x.idx,O=2*x.idx1;var M=v[w],S=v[w+1],I=y[O],j=y[O+1];(isNaN(M)||isNaN(S))&&(M=I,S=j),c.push(M,S),u.push(I,j),d.push(n[w],n[w+1]),h.push(i[O],i[O+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var C=x.idx,A=m.dataDimsForPoint,k=o.dataToPoint([e.get(A[0],C),e.get(A[1],C)]);O=2*C,c.push(k[0],k[1]),u.push(y[O],y[O+1]);var T=$u(m,o,e,C);d.push(T[0],T[1]),h.push(i[O],i[O+1]),g.push(e.getRawIndex(C));break;case"-":b=!1}b&&(p.push(x),f.push(f.length))}f.sort((function(t,e){return g[t]-g[e]}));var D=c.length,L=Ju(D),P=Ju(D),E=Ju(D),R=Ju(D),N=[];for(_=0;_<f.length;_++){var z=f[_],B=2*_,V=2*z;L[B]=c[V],L[B+1]=c[V+1],P[B]=u[V],P[B+1]=u[V+1],E[B]=d[V],E[B+1]=d[V+1],R[B]=h[V],R[B+1]=h[V+1],N[_]=p[z]}return{current:L,next:P,stackedOnCurrent:E,stackedOnNext:R,status:N}}var ed=n("48a9"),nd=n("cbe5"),id=n("20c8"),od=n("4a3f"),ad=Math.min,rd=Math.max;function sd(t,e){return isNaN(t)||isNaN(e)}function ld(t,e,n,i,o,a,r,s,l){for(var c,u,d,h,p,f,g=n,m=0;m<i;m++){var v=e[2*g],y=e[2*g+1];if(g>=o||g<0)break;if(sd(v,y)){if(l){g+=a;continue}break}if(g===n)t[a>0?"moveTo":"lineTo"](v,y),d=v,h=y;else{var _=v-c,x=y-u;if(_*_+x*x<.5){g+=a;continue}if(r>0){var b=g+a,w=e[2*b],O=e[2*b+1],M=m+1;if(l)while(sd(w,O)&&M<i)M++,b+=a,w=e[2*b],O=e[2*b+1];var S=.5,I=0,j=0,C=void 0,A=void 0;if(M>=i||sd(w,O))p=v,f=y;else{I=w-c,j=O-u;var k=v-c,T=w-v,D=y-u,L=O-y,P=void 0,E=void 0;"x"===s?(P=Math.abs(k),E=Math.abs(T),p=v-P*r,f=y,C=v+P*r,A=y):"y"===s?(P=Math.abs(D),E=Math.abs(L),p=v,f=y-P*r,C=v,A=y+P*r):(P=Math.sqrt(k*k+D*D),E=Math.sqrt(T*T+L*L),S=E/(E+P),p=v-I*r*(1-S),f=y-j*r*(1-S),C=v+I*r*S,A=y+j*r*S,C=ad(C,rd(w,v)),A=ad(A,rd(O,y)),C=rd(C,ad(w,v)),A=rd(A,ad(O,y)),I=C-v,j=A-y,p=v-I*P/E,f=y-j*P/E,p=ad(p,rd(c,v)),f=ad(f,rd(u,y)),p=rd(p,ad(c,v)),f=rd(f,ad(u,y)),I=v-p,j=y-f,C=v+I*E/P,A=y+j*E/P)}t.bezierCurveTo(d,h,p,f,v,y),d=C,h=A}else t.lineTo(v,y)}c=v,u=y,g+=a}return m}var cd=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),ud=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polyline",n}return Object(m["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new cd},e.prototype.buildPath=function(t,e){var n=e.points,i=0,o=n.length/2;if(e.connectNulls){for(;o>0;o--)if(!sd(n[2*o-2],n[2*o-1]))break;for(;i<o;i++)if(!sd(n[2*i],n[2*i+1]))break}while(i<o)i+=ld(t,n,i,o,o,1,e.smooth,e.smoothMonotone,e.connectNulls)+1},e.prototype.getPointOn=function(t,e){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n,i,o=this.path,a=o.data,r=id["a"].CMD,s="x"===e,l=[],c=0;c<a.length;){var u=a[c++],d=void 0,h=void 0,p=void 0,f=void 0,g=void 0,m=void 0,v=void 0;switch(u){case r.M:n=a[c++],i=a[c++];break;case r.L:if(d=a[c++],h=a[c++],v=s?(t-n)/(d-n):(t-i)/(h-i),v<=1&&v>=0){var y=s?(h-i)*v+i:(d-n)*v+n;return s?[t,y]:[y,t]}n=d,i=h;break;case r.C:d=a[c++],h=a[c++],p=a[c++],f=a[c++],g=a[c++],m=a[c++];var _=s?Object(od["f"])(n,d,p,g,t,l):Object(od["f"])(i,h,f,m,t,l);if(_>0)for(var x=0;x<_;x++){var b=l[x];if(b<=1&&b>=0){y=s?Object(od["a"])(i,h,f,m,b):Object(od["a"])(n,d,p,g,b);return s?[t,y]:[y,t]}}n=g,i=m;break}}},e}(nd["b"]),dd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e}(cd),hd=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-polygon",n}return Object(m["a"])(e,t),e.prototype.getDefaultShape=function(){return new dd},e.prototype.buildPath=function(t,e){var n=e.points,i=e.stackedOnPoints,o=0,a=n.length/2,r=e.smoothMonotone;if(e.connectNulls){for(;a>0;a--)if(!sd(n[2*a-2],n[2*a-1]))break;for(;o<a;o++)if(!sd(n[2*o],n[2*o+1]))break}while(o<a){var s=ld(t,n,o,a,a,1,e.smooth,r,e.connectNulls);ld(t,i,o+s-1,s,a,-1,e.stackedOnSmooth,r,e.connectNulls),o+=s+1,t.closePath()}},e}(nd["b"]),pd=n("4aa2");function fd(t,e,n,i,o){var a=t.getArea(),r=a.x,s=a.y,l=a.width,c=a.height,u=n.get(["lineStyle","width"])||2;r-=u/2,s-=u/2,l+=u,c+=u,r=Math.floor(r),l=Math.round(l);var d=new y["a"]({shape:{x:r,y:s,width:l,height:c}});if(e){var h=t.getBaseAxis(),p=h.isHorizontal(),f=h.inverse;p?(f&&(d.shape.x+=l),d.shape.width=0):(f||(d.shape.y+=c),d.shape.height=0);var g="function"===typeof o?function(t){o(t,d)}:null;Re["initProps"](d,{shape:{width:l,height:c,x:r,y:s}},n,null,i,g)}return d}function gd(t,e,n){var i=t.getArea(),o=Object(W["p"])(i.r0,1),a=Object(W["p"])(i.r,1),r=new pd["a"]({shape:{cx:Object(W["p"])(t.cx,1),cy:Object(W["p"])(t.cy,1),r0:o,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var s="angle"===t.getBaseAxis().dim;s?r.shape.endAngle=i.startAngle:r.shape.r=o,Re["initProps"](r,{shape:{endAngle:i.endAngle,r:a}},n)}return r}function md(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return;return!0}}function vd(t){for(var e=1/0,n=1/0,i=-1/0,o=-1/0,a=0;a<t.length;){var r=t[a++],s=t[a++];isNaN(r)||(e=Math.min(r,e),i=Math.max(r,i)),isNaN(s)||(n=Math.min(s,n),o=Math.max(s,o))}return[[e,n],[i,o]]}function yd(t,e){var n=vd(t),i=n[0],o=n[1],a=vd(e),r=a[0],s=a[1];return Math.max(Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]),Math.abs(o[0]-s[0]),Math.abs(o[1]-s[1]))}function _d(t){return"number"===typeof t?t:t?.5:0}function xd(t,e,n){if(!n.valueDim)return[];for(var i=e.count(),o=Ju(2*i),a=0;a<i;a++){var r=$u(n,t,e,a);o[2*a]=r[0],o[2*a+1]=r[1]}return o}function bd(t,e,n){for(var i=e.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,a=[],r=0,s=[],l=[],c=[];r<t.length-2;r+=2)switch(c[0]=t[r+2],c[1]=t[r+3],l[0]=t[r],l[1]=t[r+1],a.push(l[0],l[1]),n){case"end":s[o]=c[o],s[1-o]=l[1-o],a.push(s[0],s[1]);break;case"middle":var u=(l[o]+c[o])/2,d=[];s[o]=d[o]=u,s[1-o]=l[1-o],d[1-o]=c[1-o],a.push(s[0],s[1]),a.push(d[0],d[1]);break;default:s[o]=l[o],s[1-o]=c[1-o],a.push(s[0],s[1])}return a.push(t[r++],t[r++]),a}function wd(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,o,a=n.length-1;a>=0;a--){var r=n[a].dimension,s=t.dimensions[r],l=t.getDimensionInfo(s);if(i=l&&l.coordDim,"x"===i||"y"===i){o=n[a];break}}if(o){var c=e.getAxis(i),u=d["E"](o.stops,(function(t){return{offset:0,coord:c.toGlobalCoord(c.dataToCoord(t.value,!0)),color:t.color}})),h=u.length,p=o.outerColors.slice();h&&u[0].coord>u[h-1].coord&&(u.reverse(),p.reverse());var f=10,g=u[0].coord-f,m=u[h-1].coord+f,v=m-g;if(v<.001)return"transparent";d["j"](u,(function(t){t.offset=(t.coord-g)/v})),u.push({offset:h?u[h-1].offset:.5,color:p[1]||"transparent"}),u.unshift({offset:h?u[0].offset:.5,color:p[0]||"transparent"});var y=new ed["a"](0,0,0,0,u,!0);return y[i]=g,y[i+"2"]=m,y}}}function Od(t,e,n){var i=t.get("showAllSymbol"),o="auto"===i;if(!i||o){var a=n.getAxesByScale("ordinal")[0];if(a&&(!o||!Md(a,e))){var r=e.mapDimension(a.dim),s={};return d["j"](a.getViewLabels(),(function(t){var e=a.scale.getRawOrdinalNumber(t.tickValue);s[e]=1})),function(t){return!s.hasOwnProperty(e.get(r,t))}}}}function Md(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*Gu.getSymbolSize(e,r)[t.isHorizontal()?1:0]>i)return!1;return!0}function Sd(t,e){return isNaN(t)||isNaN(e)}function Id(t){for(var e=t.length/2;e>0;e--)if(!Sd(t[2*e-2],t[2*e-1]))break;return e-1}function jd(t,e){return[t[2*e],t[2*e+1]]}function Cd(t,e,n){for(var i,o,a=t.length/2,r="x"===n?0:1,s=0,l=-1,c=0;c<a;c++)if(o=t[2*c+r],!isNaN(o)&&!isNaN(t[2*c+1-r]))if(0!==c){if(i<=e&&o>=e||i>=e&&o<=e){l=c;break}s=c,i=o}else i=o;return{range:[s,l],t:(e-i)/(o-i)}}function Ad(t,e,n,i){if(ru(e,"cartesian2d")){var o=i.getModel("endLabel"),a=o.get("show"),r=o.get("valueAnimation"),s=i.getData(),l={lastFrameIndex:0},c=a?function(n,i){t._endLabelOnDuring(n,i,s,l,r,o,e)}:null,u=e.getBaseAxis().isHorizontal(),d=fd(e,n,i,(function(){var e=t._endLabel;e&&n&&null!=l.originalX&&e.attr({x:l.originalX,y:l.originalY})}),c);if(!i.get("clip",!0)){var h=d.shape,p=Math.max(h.width,h.height);u?(h.y-=p,h.height+=2*p):(h.x-=p,h.width+=2*p)}return c&&c(1,d),d}return gd(e,n,i)}function kd(t,e){var n=e.getBaseAxis(),i=n.isHorizontal(),o=n.inverse,a=i?o?"right":"left":"center",r=i?"middle":o?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||r}}}var Td=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(m["a"])(e,t),e.prototype.init=function(){var t=new kn["a"],e=new Yu;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},e.prototype.render=function(t,e,n){var i=this,o=t.coordinateSystem,a=this.group,r=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),c=r.getLayout("points")||[],u="polar"===o.type,h=this._coordSys,p=this._symbolDraw,f=this._polyline,g=this._polygon,m=this._lineGroup,v=t.get("animation"),y=!l.isEmpty(),x=l.get("origin"),b=Xu(o,r,x),O=y&&xd(o,r,b),M=t.get("showSymbol"),S=M&&!u&&Od(t,r,o),I=this._data;I&&I.eachItemGraphicEl((function(t,e){t.__temp&&(a.remove(t),I.setItemGraphicEl(e,null))})),M||p.remove(),a.add(m);var j,C=!u&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(j=o.getArea(),null!=j.width?(j.x-=.1,j.y-=.1,j.width+=.2,j.height+=.2):j.r0&&(j.r0-=.5,j.r+=.5)),this._clipShapeForSymbol=j;var A=wd(r,o)||r.getVisual("style")[r.getVisual("drawType")];f&&h.type===o.type&&C===this._step?(y&&!g?g=this._newPolygon(c,O):g&&!y&&(m.remove(g),g=this._polygon=null),u||this._initOrUpdateEndLabel(t,o,Object(w["b"])(A)),m.setClipPath(Ad(this,o,!1,t)),M&&p.updateData(r,{isIgnore:S,clipShape:j,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),md(this._stackedOnPoints,O)&&md(this._points,c)||(v?this._doUpdateAnimation(r,O,o,n,C,x):(C&&(c=bd(c,o,C),O&&(O=bd(O,o,C))),f.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:O})))):(M&&p.updateData(r,{isIgnore:S,clipShape:j,disableAnimation:!0,getSymbolPoint:function(t){return[c[2*t],c[2*t+1]]}}),v&&this._initSymbolLabelAnimation(r,o,j),C&&(c=bd(c,o,C),O&&(O=bd(O,o,C))),f=this._newPolyline(c),y&&(g=this._newPolygon(c,O)),u||this._initOrUpdateEndLabel(t,o,Object(w["b"])(A)),m.setClipPath(Ad(this,o,!0,t)));var k=t.get(["emphasis","focus"]),T=t.get(["emphasis","blurScope"]);if(f.useStyle(d["i"](s.getLineStyle(),{fill:"none",stroke:A,lineJoin:"bevel"})),Object(Ne["D"])(f,t,"lineStyle"),f.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])){var D=f.getState("emphasis").style;D.lineWidth=+f.style.lineWidth+1}Object(_["a"])(f).seriesIndex=t.seriesIndex,Object(Ne["m"])(f,k,T);var L=_d(t.get("smooth")),P=t.get("smoothMonotone"),E=t.get("connectNulls");if(f.setShape({smooth:L,smoothMonotone:P,connectNulls:E}),g){var R=r.getCalculationInfo("stackedOnSeries"),N=0;g.useStyle(d["i"](l.getAreaStyle(),{fill:A,opacity:.7,lineJoin:"bevel",decal:r.getVisual("style").decal})),R&&(N=_d(R.get("smooth"))),g.setShape({smooth:L,stackedOnSmooth:N,smoothMonotone:P,connectNulls:E}),Object(Ne["D"])(g,t,"areaStyle"),Object(_["a"])(g).seriesIndex=t.seriesIndex,Object(Ne["m"])(g,k,T)}var z=function(t){i._changePolyState(t)};r.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=z)})),this._polyline.onHoverStateChange=z,this._data=r,this._coordSys=o,this._stackedOnPoints=O,this._points=c,this._step=C,this._valueOrigin=x},e.prototype.dispose=function(){},e.prototype.highlight=function(t,e,n,i){var o=t.getData(),a=D["s"](o,i);if(this._changePolyState("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var r=o.getLayout("points"),s=o.getItemGraphicEl(a);if(!s){var c=r[2*a],u=r[2*a+1];if(isNaN(c)||isNaN(u))return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,u))return;var d=t.get("zlevel"),h=t.get("z");s=new Gu(o,a),s.x=c,s.y=u,s.setZ(d,h);var p=s.getSymbolPath().getTextContent();p&&(p.zlevel=d,p.z=h,p.z2=this._polyline.z2+1),s.__temp=!0,o.setItemGraphicEl(a,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else l["a"].prototype.highlight.call(this,t,e,n,i)},e.prototype.downplay=function(t,e,n,i){var o=t.getData(),a=D["s"](o,i);if(this._changePolyState("normal"),null!=a&&a>=0){var r=o.getItemGraphicEl(a);r&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay())}else l["a"].prototype.downplay.call(this,t,e,n,i)},e.prototype._changePolyState=function(t){var e=this._polygon;Object(Ne["C"])(this._polyline,t),e&&Object(Ne["C"])(e,t)},e.prototype._newPolyline=function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new ud({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(e),this._polyline=e,e},e.prototype._newPolygon=function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new hd({shape:{points:t,stackedOnPoints:e},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(t,e,n){var i,o,a=e.getBaseAxis(),r=a.inverse;"cartesian2d"===e.type?(i=a.isHorizontal(),o=!1):"polar"===e.type&&(i="angle"===a.dim,o=!0);var s=t.hostModel,l=s.get("animationDuration");"function"===typeof l&&(l=l(null));var c=s.get("animationDelay")||0,u="function"===typeof c?c(null):c;t.eachItemGraphicEl((function(t,a){var s=t;if(s){var d=[t.x,t.y],h=void 0,p=void 0,f=void 0;if(n)if(o){var g=n,m=e.pointToCoord(d);i?(h=g.startAngle,p=g.endAngle,f=-m[1]/180*Math.PI):(h=g.r0,p=g.r,f=m[0])}else{var v=n;i?(h=v.x,p=v.x+v.width,f=t.x):(h=v.y+v.height,p=v.y,f=t.y)}var y=p===h?0:(f-h)/(p-h);r&&(y=1-y);var _="function"===typeof c?c(a):l*y+u,x=s.getSymbolPath(),b=x.getTextContent();s.attr({scaleX:0,scaleY:0}),s.animateTo({scaleX:1,scaleY:1},{duration:200,delay:_}),b&&b.animateFrom({style:{opacity:0}},{duration:300,delay:_}),x.disableLabelAnimation=!0}}))},e.prototype._initOrUpdateEndLabel=function(t,e,n){var i=t.getModel("endLabel");if(i.get("show")){var o=t.getData(),a=this._polyline,r=this._endLabel;r||(r=this._endLabel=new v["a"]({z2:200}),r.ignoreClip=!0,a.setTextContent(this._endLabel),a.disableLabelAnimation=!0);var s=Id(o.getLayout("points"));s>=0&&(Object(x["f"])(a,Object(x["d"])(t,"endLabel"),{inheritColor:n,labelFetcher:t,labelDataIndex:s,defaultText:function(t,e,n){return null!=n?Nu(o,n):Ru(o,t)},enableTextSetter:!0},kd(i,e)),a.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(t,e,n,i,o,a,r){var s=this._endLabel,l=this._polyline;if(s){t<1&&null==i.originalX&&(i.originalX=s.x,i.originalY=s.y);var c=n.getLayout("points"),u=n.hostModel,d=u.get("connectNulls"),h=a.get("precision"),p=a.get("distance")||0,f=r.getBaseAxis(),g=f.isHorizontal(),m=f.inverse,v=e.shape,y=m?g?v.x:v.y+v.height:g?v.x+v.width:v.y,_=(g?p:0)*(m?-1:1),b=(g?0:-p)*(m?-1:1),w=g?"x":"y",O=Cd(c,y,w),M=O.range,S=M[1]-M[0],I=void 0;if(S>=1){if(S>1&&!d){var j=jd(c,M[0]);s.attr({x:j[0]+_,y:j[1]+b}),o&&(I=u.getRawValue(M[0]))}else{j=l.getPointOn(y,w);j&&s.attr({x:j[0]+_,y:j[1]+b});var C=u.getRawValue(M[0]),A=u.getRawValue(M[1]);o&&(I=D["i"](n,h,C,A,O.t))}i.lastFrameIndex=M[0]}else{var k=1===t||i.lastFrameIndex>0?M[0]:0;j=jd(c,k);o&&(I=u.getRawValue(k)),s.attr({x:j[0]+_,y:j[1]+b})}o&&Object(x["e"])(s).setLabelText(I)}},e.prototype._doUpdateAnimation=function(t,e,n,i,o,a){var r=this._polyline,s=this._polygon,l=t.hostModel,c=td(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,a),u=c.current,d=c.stackedOnCurrent,h=c.next,p=c.stackedOnNext;if(o&&(u=bd(c.current,n,o),d=bd(c.stackedOnCurrent,n,o),h=bd(c.next,n,o),p=bd(c.stackedOnNext,n,o)),yd(u,h)>3e3||s&&yd(d,p)>3e3)return r.setShape({points:h}),void(s&&s.setShape({points:h,stackedOnPoints:p}));r.shape.__points=c.current,r.shape.points=u;var f={shape:{points:h}};c.current!==u&&(f.shape.__points=c.next),r.stopAnimation(),Re["updateProps"](r,f,l),s&&(s.setShape({points:u,stackedOnPoints:d}),s.stopAnimation(),Re["updateProps"](s,{shape:{stackedOnPoints:p}},l),r.shape.points!==s.shape.points&&(s.shape.points=r.shape.points));for(var g=[],m=c.status,v=0;v<m.length;v++){var y=m[v].cmd;if("="===y){var _=t.getItemGraphicEl(m[v].idx1);_&&g.push({el:_,ptIdx:v})}}r.animators&&r.animators.length&&r.animators[0].during((function(){s&&s.dirtyShape();for(var t=r.shape.__points,e=0;e<g.length;e++){var n=g[e].el,i=2*g[e].ptIdx;n.x=t[i],n.y=t[i+1],n.markRedraw()}}))},e.prototype.remove=function(t){var e=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl((function(t,i){t.__temp&&(e.remove(t),n.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(l["a"]),Dd=Td;function Ld(t,e){return{seriesType:t,plan:Object(gt["a"])(),reset:function(t){var n=t.getData(),i=t.coordinateSystem,o=t.pipelineContext,a=e||o.large;if(i){var r=Object(d["E"])(i.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),s=r.length,l=n.getCalculationInfo("stackResultDimension");pt(n,r[0])&&(r[0]=l),pt(n,r[1])&&(r[1]=l);var c=n.getDimensionInfo(r[0]),u=n.getDimensionInfo(r[1]),h=c&&c.index,p=u&&u.index;return s&&{progress:function(t,e){for(var n=t.end-t.start,o=a&&Ju(n*s),r=[],l=[],c=t.start,u=0;c<t.end;c++){var d=void 0;if(1===s){var f=e.getByDimIdx(h,c);d=i.dataToPoint(f,null,l)}else r[0]=e.getByDimIdx(h,c),r[1]=e.getByDimIdx(p,c),d=i.dataToPoint(r,null,l);a?(o[u++]=d[0],o[u++]=d[1]):e.setItemLayout(c,d.slice())}a&&e.setLayout("points",o)}}}}}}var Pd={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Ed=function(t){return Math.round(t.length/2)};function Rd(t){return{seriesType:t,reset:function(t,e,n){var i=t.getData(),o=t.get("sampling"),a=t.coordinateSystem,r=i.count();if(r>10&&"cartesian2d"===a.type&&o){var s=a.getBaseAxis(),l=a.getOtherAxis(s),c=s.getExtent(),u=n.getDevicePixelRatio(),d=Math.abs(c[1]-c[0])*(u||1),h=Math.round(r/d);if(h>1){"lttb"===o&&t.setData(i.lttbDownSample(i.mapDimension(l.dim),1/h));var p=void 0;"string"===typeof o?p=Pd[o]:"function"===typeof o&&(p=o),p&&t.setData(i.downSample(i.mapDimension(l.dim),1/h,p,Ed))}}}}}function Nd(t){t.registerChartView(Dd),t.registerSeriesModel(Eu),t.registerLayout(Ld("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",n)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,Rd("line"))}function zd(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getGraph(),o=i.data,a=n.mapArray(n.getName);o.filterSelf((function(t){var n=o.getItemModel(t),i=n.getShallow("category");if(null!=i){"number"===typeof i&&(i=a[i]);for(var r=0;r<e.length;r++)if(!e[r].isSelected(i))return!1}return!0}))}))}function Bd(t){var e={};t.eachSeriesByType("graph",(function(t){var n=t.getCategoriesData(),i=t.getData(),o={};n.each((function(i){var a=n.getName(i);o["ec-"+a]=i;var r=n.getItemModel(i),s=r.getModel("itemStyle").getItemStyle();s.fill||(s.fill=t.getColorFromPalette(a,e)),n.setItemVisual(i,"style",s);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++){var u=r.getShallow(l[c],!0);null!=u&&n.setItemVisual(i,l[c],u)}})),n.count()&&i.each((function(t){var e=i.getItemModel(t),a=e.getShallow("category");if(null!=a){"string"===typeof a&&(a=o["ec-"+a]);var r=n.getItemVisual(a,"style"),s=i.ensureUniqueItemVisual(t,"style");Object(d["l"])(s,r);for(var l=["symbol","symbolSize","symbolKeepAspect"],c=0;c<l.length;c++)i.setItemVisual(t,l[c],n.getItemVisual(a,l[c]))}}))}))}function Vd(t){return t instanceof Array||(t=[t,t]),t}function Gd(t){t.eachSeriesByType("graph",(function(t){var e=t.getGraph(),n=t.getEdgeData(),i=Vd(t.get("edgeSymbol")),o=Vd(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",o&&o[0]),n.setVisual("toSymbolSize",o&&o[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each((function(t){var i=n.getItemModel(t),o=e.getEdgeByIndex(t),a=Vd(i.getShallow("symbol",!0)),r=Vd(i.getShallow("symbolSize",!0)),s=i.getModel("lineStyle").getLineStyle(),l=n.ensureUniqueItemVisual(t,"style");switch(Object(d["l"])(l,s),l.stroke){case"source":var c=o.node1.getVisual("style");l.stroke=c&&c.fill;break;case"target":c=o.node2.getVisual("style");l.stroke=c&&c.fill;break}a[0]&&o.setVisual("fromSymbol",a[0]),a[1]&&o.setVisual("toSymbol",a[1]),r[0]&&o.setVisual("fromSymbolSize",r[0]),r[1]&&o.setVisual("toSymbolSize",r[1])}))}))}var Hd="--\x3e",Wd=function(t){return t.get("autoCurveness")||null},Fd=function(t,e){var n=Wd(t),i=20,o=[];if("number"===typeof n)i=n;else if(d["r"](n))return void(t.__curvenessList=n);e>i&&(i=e);var a=i%2?i+2:i+3;o=[];for(var r=0;r<a;r++)o.push((r%2?r+1:r)/10*(r%2?-1:1));t.__curvenessList=o},Zd=function(t,e,n){var i=[t.id,t.dataIndex].join("."),o=[e.id,e.dataIndex].join(".");return[n.uid,i,o].join(Hd)},Yd=function(t){var e=t.split(Hd);return[e[0],e[2],e[1]].join(Hd)},Xd=function(t,e){var n=Zd(t.node1,t.node2,e);return e.__edgeMap[n]},Ud=function(t,e){var n=$d(Zd(t.node1,t.node2,e),e),i=$d(Zd(t.node2,t.node1,e),e);return n+i},$d=function(t,e){var n=e.__edgeMap;return n[t]?n[t].length:0};function qd(t){Wd(t)&&(t.__curvenessList=[],t.__edgeMap={},Fd(t))}function Kd(t,e,n,i){if(Wd(n)){var o=Zd(t,e,n),a=n.__edgeMap,r=a[Yd(o)];a[o]&&!r?a[o].isForward=!0:r&&a[o]&&(r.isForward=!0,a[o].isForward=!1),a[o]=a[o]||[],a[o].push(i)}}function Jd(t,e,n,i){var o=Wd(e),a=d["r"](o);if(!o)return null;var r=Xd(t,e);if(!r)return null;for(var s=-1,l=0;l<r.length;l++)if(r[l]===n){s=l;break}var c=Ud(t,e);Fd(e,c),t.lineStyle=t.lineStyle||{};var u=Zd(t.node1,t.node2,e),h=e.__curvenessList,p=a||c%2?0:1;if(r.isForward)return h[p+s];var f=Yd(u),g=$d(f,e),m=h[s+g+p];return i?a?o&&0===o[0]?(g+p)%2?m:-m:((g%2?0:1)+p)%2?m:-m:(g+p)%2?m:-m:h[s+g+p]}function Qd(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var n=t.getGraph();n.eachNode((function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])})),th(n,t)}}function th(t,e){t.eachEdge((function(t,n){var i=d["N"](t.getModel().get(["lineStyle","curveness"]),-Jd(t,e,n,!0),0),o=Bo["c"](t.node1.getLayout()),a=Bo["c"](t.node2.getLayout()),r=[o,a];+i&&r.push([(o[0]+a[0])/2-(o[1]-a[1])*i,(o[1]+a[1])/2-(a[0]-o[0])*i]),t.setLayout(r)}))}function eh(t,e){t.eachSeriesByType("graph",(function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),o=[];Object(d["j"])(n.dimensions,(function(t){o=o.concat(i.mapDimensionsAll(t))}));for(var a=0;a<i.count();a++){for(var r=[],s=!1,l=0;l<o.length;l++){var c=i.get(o[l],a);isNaN(c)||(s=!0),r.push(c)}s?i.setItemLayout(a,n.dataToPoint(r)):i.setItemLayout(a,[NaN,NaN])}th(i.graph,t)}else e&&"none"!==e||Qd(t)}))}function nh(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=t.option.nodeScaleRatio,i=e.scaleX,o=e.getZoom(),a=(o-1)*n+1;return a/i}function ih(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var oh=Math.PI,ah=[];function rh(t,e){var n=t.coordinateSystem;if(!n||"view"===n.type){var i=n.getBoundingRect(),o=t.getData(),a=o.graph,r=i.width/2+i.x,s=i.height/2+i.y,l=Math.min(i.width,i.height)/2,c=o.count();o.setLayout({cx:r,cy:s}),c&&(sh[e](t,a,o,l,r,s,c),a.eachEdge((function(e,n){var i,o=d["N"](e.getModel().get(["lineStyle","curveness"]),Jd(e,t,n),0),a=Bo["c"](e.node1.getLayout()),l=Bo["c"](e.node2.getLayout()),c=(a[0]+l[0])/2,u=(a[1]+l[1])/2;+o&&(o*=3,i=[r*o+c*(1-o),s*o+u*(1-o)]),e.setLayout([a,l,i])})))}}var sh={value:function(t,e,n,i,o,a,r){var s=0,l=n.getSum("value"),c=2*Math.PI/(l||r);e.eachNode((function(t){var e=t.getValue("value"),n=c*(l?e:1)/2;s+=n,t.setLayout([i*Math.cos(s)+o,i*Math.sin(s)+a]),s+=n}))},symbolSize:function(t,e,n,i,o,a,r){var s=0;ah.length=r;var l=nh(t);e.eachNode((function(t){var e=ih(t);isNaN(e)&&(e=2),e<0&&(e=0),e*=l;var n=Math.asin(e/2/i);isNaN(n)&&(n=oh/2),ah[t.dataIndex]=n,s+=2*n}));var c=(2*oh-s)/r/2,u=0;e.eachNode((function(t){var e=c+ah[t.dataIndex];u+=e,t.setLayout([i*Math.cos(u)+o,i*Math.sin(u)+a]),u+=e}))}};function lh(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&rh(t,"symbolSize")}))}var ch=Bo["o"];function uh(t,e,n){for(var i=t,o=e,a=n.rect,r=a.width,s=a.height,l=[a.x+r/2,a.y+s/2],c=null==n.gravity?.1:n.gravity,u=0;u<i.length;u++){var d=i[u];d.p||(d.p=Bo["e"](r*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),d.pp=Bo["c"](d.p),d.edges=null}var h,p,f=null==n.friction?.6:n.friction,g=f;return{warmUp:function(){g=.8*f},setFixed:function(t){i[t].fixed=!0},setUnfixed:function(t){i[t].fixed=!1},beforeStep:function(t){h=t},afterStep:function(t){p=t},step:function(t){h&&h(i,o);for(var e=[],n=i.length,a=0;a<o.length;a++){var r=o[a];if(!r.ignoreForceLayout){var s=r.n1,u=r.n2;Bo["q"](e,u.p,s.p);var d=Bo["i"](e)-r.d,f=u.w/(s.w+u.w);isNaN(f)&&(f=0),Bo["m"](e,e),!s.fixed&&ch(s.p,s.p,e,f*d*g),!u.fixed&&ch(u.p,u.p,e,-(1-f)*d*g)}}for(a=0;a<n;a++){var m=i[a];m.fixed||(Bo["q"](e,l,m.p),ch(m.p,m.p,e,c*g))}for(a=0;a<n;a++){s=i[a];for(var v=a+1;v<n;v++){u=i[v];Bo["q"](e,u.p,s.p);d=Bo["i"](e);0===d&&(Bo["p"](e,Math.random()-.5,Math.random()-.5),d=1);var y=(s.rep+u.rep)/d/d;!s.fixed&&ch(s.pp,s.pp,e,y),!u.fixed&&ch(u.pp,u.pp,e,-y)}}var _=[];for(a=0;a<n;a++){m=i[a];m.fixed||(Bo["q"](_,m.p,m.pp),ch(m.p,m.p,_,g),Bo["d"](m.pp,m.p))}g*=.992;var x=g<.01;p&&p(i,o,x),t&&t(x)}}}function dh(t){t.eachSeriesByType("graph",(function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var n=t.preservedPoints||{},i=t.getGraph(),o=i.data,a=i.edgeData,r=t.getModel("force"),s=r.get("initLayout");t.preservedPoints?o.each((function(t){var e=o.getId(t);o.setItemLayout(t,n[e]||[NaN,NaN])})):s&&"none"!==s?"circular"===s&&rh(t,"value"):Qd(t);var l=o.getDataExtent("value"),c=a.getDataExtent("value"),u=r.get("repulsion"),h=r.get("edgeLength"),p=d["r"](u)?u:[u,u],f=d["r"](h)?h:[h,h];f=[f[1],f[0]];var g=o.mapArray("value",(function(t,e){var n=o.getItemLayout(e),i=Object(W["i"])(t,l,p);return isNaN(i)&&(i=(p[0]+p[1])/2),{w:i,rep:i,fixed:o.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}})),m=a.mapArray("value",(function(e,n){var o=i.getEdgeByIndex(n),a=Object(W["i"])(e,c,f);isNaN(a)&&(a=(f[0]+f[1])/2);var r=o.getModel(),s=d["N"](o.getModel().get(["lineStyle","curveness"]),-Jd(o,t,n,!0),0);return{n1:g[o.node1.dataIndex],n2:g[o.node2.dataIndex],d:a,curveness:s,ignoreForceLayout:r.get("ignoreForceLayout")}})),v=e.getBoundingRect(),y=uh(g,m,{rect:v,gravity:r.get("gravity"),friction:r.get("friction")});y.beforeStep((function(t,e){for(var n=0,o=t.length;n<o;n++)t[n].fixed&&Bo["d"](t[n].p,i.getNodeByIndex(n).getLayout())})),y.afterStep((function(t,e,a){for(var r=0,s=t.length;r<s;r++)t[r].fixed||i.getNodeByIndex(r).setLayout(t[r].p),n[o.getId(r)]=t[r].p;for(r=0,s=e.length;r<s;r++){var l=e[r],c=i.getEdgeByIndex(r),u=l.n1.p,d=l.n2.p,h=c.getLayout();h=h?h.slice():[],h[0]=h[0]||[],h[1]=h[1]||[],Bo["d"](h[0],u),Bo["d"](h[1],d),+l.curveness&&(h[2]=[(u[0]+d[0])/2-(u[1]-d[1])*l.curveness,(u[1]+d[1])/2-(d[0]-u[0])*l.curveness]),c.setLayout(h)}})),t.forceLayout=y,t.preservedPoints=n,y.step()}else t.forceLayout=null}))}var hh=n("8582"),ph=Bo["b"],fh=function(t){function e(e){var n=t.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new hh["a"],n._rawTransformable=new hh["a"],n.name=e,n}return Object(m["a"])(e,t),e.prototype.setBoundingRect=function(t,e,n,i){return this._rect=new At["a"](t,e,n,i),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,e,n,i){this._transformTo(t,e,n,i),this._viewRect=new At["a"](t,e,n,i)},e.prototype._transformTo=function(t,e,n,i){var o=this.getBoundingRect(),a=this._rawTransformable;a.transform=o.calculateTransform(new At["a"](t,e,n,i));var r=a.parent;a.parent=null,a.decomposeTransform(),a.parent=r,this._updateTransform()},e.prototype.setCenter=function(t){t&&(this._center=t,this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),e=t.x+t.width/2,n=t.y+t.height/2;return[e,n]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),o=this.getZoom();i=Bo["b"]([],i,t),n=Bo["b"]([],n,t),e.originX=i[0],e.originY=i[1],e.x=n[0]-i[0],e.y=n[1]-i[1],e.scaleX=e.scaleY=o,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),Ro["a"](this.transform||(this.transform=[]),e.transform||Ro["b"]()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],Ro["d"](this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,e=this._roamTransformable,n=new hh["a"];return n.transform=e.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,e,n){var i=e?this._rawTransform:this.transform;return n=n||[],i?ph(n,t,i):Bo["d"](n,t)},e.prototype.pointToData=function(t){var e=this.invTransform;return e?ph([],t,e):[t[0],t[1]]},e.prototype.convertToPixel=function(t,e,n){var i=gh(e);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,e,n){var i=gh(e);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(hh["a"]);function gh(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var mh=fh,vh=n("e263");function yh(t,e,n){var i=Object(d["l"])(t.getBoxLayoutParams(),{aspect:n});return Object(b["d"])(i,{width:e.getWidth(),height:e.getHeight()})}function _h(t,e){var n=[];return t.eachSeriesByType("graph",(function(t){var i=t.get("coordinateSystem");if(!i||"view"===i){var o=t.getData(),a=o.mapArray((function(t){var e=o.getItemModel(t);return[+e.get("x"),+e.get("y")]})),r=[],s=[];vh["d"](a,r,s),s[0]-r[0]===0&&(s[0]+=1,r[0]-=1),s[1]-r[1]===0&&(s[1]+=1,r[1]-=1);var l=(s[0]-r[0])/(s[1]-r[1]),c=yh(t,e,l);isNaN(l)&&(r=[c.x,c.y],s=[c.x+c.width,c.y+c.height]);var u=s[0]-r[0],d=s[1]-r[1],h=c.width,p=c.height,f=t.coordinateSystem=new mh;f.zoomLimit=t.get("scaleLimit"),f.setBoundingRect(r[0],r[1],u,d),f.setViewRect(c.x,c.y,h,p),f.setCenter(t.get("center")),f.setZoom(t.get("zoom")),n.push(f)}})),n}var xh=n("ac0f"),bh=No["a"].prototype,wh=xh["a"].prototype,Oh=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}Object(m["a"])(e,t)})(Oh);function Mh(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var Sh=function(t){function e(e){var n=t.call(this,e)||this;return n.type="ec-line",n}return Object(m["a"])(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Oh},e.prototype.buildPath=function(t,e){Mh(e)?bh.buildPath.call(this,t,e):wh.buildPath.call(this,t,e)},e.prototype.pointAt=function(t){return Mh(this.shape)?bh.pointAt.call(this,t):wh.pointAt.call(this,t)},e.prototype.tangentAt=function(t){var e=this.shape,n=Mh(e)?[e.x2-e.x1,e.y2-e.y1]:wh.tangentAt.call(this,t);return Bo["m"](n,n)},e}(nd["b"]),Ih=Sh,jh=["fromSymbol","toSymbol"];function Ch(t){return"_"+t+"Type"}function Ah(t,e,n){var i=e.getItemVisual(n,t);if(i&&"none"!==i){var o=e.getItemVisual(n,t+"Size"),a=e.getItemVisual(n,t+"Rotate"),r=e.getItemVisual(n,t+"Offset")||0,s=e.getItemVisual(n,t+"KeepAspect"),l=Object(d["r"])(o)?o:[o,o],c=Object(d["r"])(r)?r:[r,r];c[0]=Object(W["m"])(c[0],l[0]),c[1]=Object(W["m"])(Object(d["M"])(c[1],c[0]),l[1]);var u=zo["a"](i,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,u.name=t,u}}function kh(t){var e=new Ih({name:"line",subPixelOptimize:!0});return Th(e.shape,t),e}function Th(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var n=e[2];n?(t.cpx1=n[0],t.cpy1=n[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Dh=function(t){function e(e,n,i){var o=t.call(this)||this;return o._createLine(e,n,i),o}return Object(m["a"])(e,t),e.prototype._createLine=function(t,e,n){var i=t.hostModel,o=t.getItemLayout(e),a=kh(o);a.shape.percent=0,Re["initProps"](a,{shape:{percent:1}},i,e),this.add(a),Object(d["j"])(jh,(function(n){var i=Ah(n,t,e);this.add(i),this[Ch(n)]=t.getItemVisual(e,n)}),this),this._updateCommonStl(t,e,n)},e.prototype.updateData=function(t,e,n){var i=t.hostModel,o=this.childOfName("line"),a=t.getItemLayout(e),r={shape:{}};Th(r.shape,a),Re["updateProps"](o,r,i,e),Object(d["j"])(jh,(function(n){var i=t.getItemVisual(e,n),o=Ch(n);if(this[o]!==i){this.remove(this.childOfName(n));var a=Ah(n,t,e);this.add(a)}this[o]=i}),this),this._updateCommonStl(t,e,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(t,e,n){var i=t.hostModel,o=this.childOfName("line"),a=n&&n.emphasisLineStyle,r=n&&n.blurLineStyle,s=n&&n.selectLineStyle,l=n&&n.labelStatesModels;if(!n||t.hasItemOption){var c=t.getItemModel(e);a=c.getModel(["emphasis","lineStyle"]).getLineStyle(),r=c.getModel(["blur","lineStyle"]).getLineStyle(),s=c.getModel(["select","lineStyle"]).getLineStyle(),l=Object(x["d"])(c)}var u=t.getItemVisual(e,"style"),h=u.stroke;o.useStyle(u),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=a,o.ensureState("blur").style=r,o.ensureState("select").style=s,Object(d["j"])(jh,(function(t){var e=this.childOfName(t);if(e){e.setColor(h),e.style.opacity=u.opacity;for(var n=0;n<Ne["g"].length;n++){var i=Ne["g"][n],a=o.getState(i);if(a){var r=a.style||{},s=e.ensureState(i),l=s.style||(s.style={});null!=r.stroke&&(l[e.__isEmptyBrush?"stroke":"fill"]=r.stroke),null!=r.opacity&&(l.opacity=r.opacity)}}e.markRedraw()}}),this);var p=i.getRawValue(e);Object(x["f"])(this,l,{labelDataIndex:e,labelFetcher:{getFormattedLabel:function(e,n){return i.getFormattedLabel(e,n,t.dataType)}},inheritColor:h||"#000",defaultOpacity:u.opacity,defaultText:(null==p?t.getName(e):isFinite(p)?Object(W["p"])(p):p)+""});var f=this.getTextContent();if(f){var g=l.normal;f.__align=f.style.align,f.__verticalAlign=f.style.verticalAlign,f.__position=g.get("position")||"middle";var m=g.get("distance");Object(d["r"])(m)||(m=[m,m]),f.__labelDistance=m}this.setTextConfig({position:null,local:!0,inside:!1}),Object(Ne["m"])(this)},e.prototype.highlight=function(){Object(Ne["o"])(this)},e.prototype.downplay=function(){Object(Ne["z"])(this)},e.prototype.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},e.prototype.setLinePoints=function(t){var e=this.childOfName("line");Th(e.shape,t),e.dirty()},e.prototype.beforeUpdate=function(){var t=this,e=t.childOfName("fromSymbol"),n=t.childOfName("toSymbol"),i=t.getTextContent();if(e||n||i&&!i.ignore){var o=1,a=this.parent;while(a)a.scaleX&&(o/=a.scaleX),a=a.parent;var r=t.childOfName("line");if(this.__dirty||r.__dirty){var s=r.shape.percent,l=r.pointAt(0),c=r.pointAt(s),u=Bo["q"]([],c,l);if(Bo["m"](u,u),e&&(e.setPosition(l),O(e,0),e.scaleX=e.scaleY=o*s,e.markRedraw()),n&&(n.setPosition(c),O(n,1),n.scaleX=n.scaleY=o*s,n.markRedraw()),i&&!i.ignore){i.x=i.y=0,i.originX=i.originY=0;var d=void 0,h=void 0,p=i.__labelDistance,f=p[0]*o,g=p[1]*o,m=s/2,v=r.tangentAt(m),y=[v[1],-v[0]],_=r.pointAt(m);y[1]>0&&(y[0]=-y[0],y[1]=-y[1]);var x=v[0]<0?-1:1;if("start"!==i.__position&&"end"!==i.__position){var b=-Math.atan2(v[1],v[0]);c[0]<l[0]&&(b=Math.PI+b),i.rotation=b}var w=void 0;switch(i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":w=-g,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":w=g,h="top";break;default:w=0,h="middle"}switch(i.__position){case"end":i.x=u[0]*f+c[0],i.y=u[1]*g+c[1],d=u[0]>.8?"left":u[0]<-.8?"right":"center",h=u[1]>.8?"top":u[1]<-.8?"bottom":"middle";break;case"start":i.x=-u[0]*f+l[0],i.y=-u[1]*g+l[1],d=u[0]>.8?"right":u[0]<-.8?"left":"center",h=u[1]>.8?"bottom":u[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":i.x=f*x+l[0],i.y=l[1]+w,d=v[0]<0?"right":"left",i.originX=-f*x,i.originY=-w;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":i.x=_[0],i.y=_[1]+w,d="center",i.originY=-w;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":i.x=-f*x+c[0],i.y=c[1]+w,d=v[0]>=0?"right":"left",i.originX=f*x,i.originY=-w;break}i.scaleX=i.scaleY=o,i.setStyle({verticalAlign:i.__verticalAlign||h,align:i.__align||d})}}}function O(t,e){var n=t.__specifiedRotation;if(null==n){var i=r.tangentAt(e);t.attr("rotation",(1===e?-1:1)*Math.PI/2-Math.atan2(i[1],i[0]))}else t.attr("rotation",n)}},e}(kn["a"]),Lh=Dh,Ph=function(){function t(t){this.group=new kn["a"],this._LineCtor=t||Lh}return t.prototype.isPersistent=function(){return!0},t.prototype.updateData=function(t){var e=this,n=this,i=n.group,o=n._lineData;n._lineData=t,o||i.removeAll();var a=Rh(t);t.diff(o).add((function(n){e._doAdd(t,n,a)})).update((function(n,i){e._doUpdate(o,t,i,n,a)})).remove((function(t){i.remove(o.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl((function(e,n){e.updateLayout(t,n)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=Rh(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,e){function n(t){t.isGroup||Eh(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var o=e.getItemLayout(i);if(zh(o)){var a=new this._LineCtor(e,i,this._seriesScope);a.traverse(n),this.group.add(a),e.setItemGraphicEl(i,a)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype._doAdd=function(t,e,n){var i=t.getItemLayout(e);if(zh(i)){var o=new this._LineCtor(t,e,n);t.setItemGraphicEl(e,o),this.group.add(o)}},t.prototype._doUpdate=function(t,e,n,i,o){var a=t.getItemGraphicEl(n);zh(e.getItemLayout(i))?(a?a.updateData(e,i,o):a=new this._LineCtor(e,i,o),e.setItemGraphicEl(i,a),this.group.add(a)):this.group.remove(a)},t}();function Eh(t){return t.animators&&t.animators.length>0}function Rh(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["emphasis","lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),labelStatesModels:Object(x["d"])(e)}}function Nh(t){return isNaN(t[0])||isNaN(t[1])}function zh(t){return!Nh(t[0])&&!Nh(t[1])}var Bh=Ph;function Vh(t,e,n){var i=t.target;i.x+=e,i.y+=n,i.dirty()}function Gh(t,e,n,i){var o=t.target,a=t.zoomLimit,r=t.zoom=t.zoom||1;if(r*=e,a){var s=a.min||0,l=a.max||1/0;r=Math.max(Math.min(l,r),s)}var c=r/t.zoom;t.zoom=r,o.x-=(n-o.x)*(c-1),o.y-=(i-o.y)*(c-1),o.scaleX*=c,o.scaleY*=c,o.dirty()}var Hh=[],Wh=[],Fh=[],Zh=od["h"],Yh=Bo["g"],Xh=Math.abs;function Uh(t,e,n){for(var i,o=t[0],a=t[1],r=t[2],s=1/0,l=n*n,c=.1,u=.1;u<=.9;u+=.1){Hh[0]=Zh(o[0],a[0],r[0],u),Hh[1]=Zh(o[1],a[1],r[1],u);var d=Xh(Yh(Hh,e)-l);d<s&&(s=d,i=u)}for(var h=0;h<32;h++){var p=i+c;Wh[0]=Zh(o[0],a[0],r[0],i),Wh[1]=Zh(o[1],a[1],r[1],i),Fh[0]=Zh(o[0],a[0],r[0],p),Fh[1]=Zh(o[1],a[1],r[1],p);d=Yh(Wh,e)-l;if(Xh(d)<.01)break;var f=Yh(Fh,e)-l;c/=2,d<0?f>=0?i+=c:i-=c:f>=0?i-=c:i+=c}return i}function $h(t,e){var n=[],i=od["n"],o=[[],[],[]],a=[[],[]],r=[];e/=2,t.eachEdge((function(t,s){var l=t.getLayout(),c=t.getVisual("fromSymbol"),u=t.getVisual("toSymbol");l.__original||(l.__original=[Bo["c"](l[0]),Bo["c"](l[1])],l[2]&&l.__original.push(Bo["c"](l[2])));var d=l.__original;if(null!=l[2]){if(Bo["d"](o[0],d[0]),Bo["d"](o[1],d[2]),Bo["d"](o[2],d[1]),c&&"none"!==c){var h=ih(t.node1),p=Uh(o,d[0],h*e);i(o[0][0],o[1][0],o[2][0],p,n),o[0][0]=n[3],o[1][0]=n[4],i(o[0][1],o[1][1],o[2][1],p,n),o[0][1]=n[3],o[1][1]=n[4]}if(u&&"none"!==u){h=ih(t.node2),p=Uh(o,d[1],h*e);i(o[0][0],o[1][0],o[2][0],p,n),o[1][0]=n[1],o[2][0]=n[2],i(o[0][1],o[1][1],o[2][1],p,n),o[1][1]=n[1],o[2][1]=n[2]}Bo["d"](l[0],o[0]),Bo["d"](l[1],o[2]),Bo["d"](l[2],o[1])}else{if(Bo["d"](a[0],d[0]),Bo["d"](a[1],d[1]),Bo["q"](r,a[1],a[0]),Bo["m"](r,r),c&&"none"!==c){h=ih(t.node1);Bo["o"](a[0],a[0],r,h*e)}if(u&&"none"!==u){h=ih(t.node2);Bo["o"](a[1],a[1],r,-h*e)}Bo["d"](l[0],a[0]),Bo["d"](l[1],a[1])}}))}function qh(t){return"view"===t.type}var Kh=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(m["a"])(e,t),e.prototype.init=function(t,e){var n=new Yu,i=new Bh,o=this.group;this._controller=new wl(e.getZr()),this._controllerHost={target:o},o.add(n.group),o.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},e.prototype.render=function(t,e,n){var i=this,o=t.coordinateSystem;this._model=t;var a=this._symbolDraw,r=this._lineDraw,s=this.group;if(qh(o)){var l={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?s.attr(l):Re["updateProps"](s,l,t)}$h(t.getGraph(),nh(t));var c=t.getData();a.updateData(c);var u=t.getEdgeData();r.updateData(u),this._updateNodeAndLinkScale(),this._updateController(t,e,n),clearTimeout(this._layoutTimeout);var h=t.forceLayout,p=t.get(["force","layoutAnimation"]);h&&this._startForceLayoutIteration(h,p),c.graph.eachNode((function(t){var e=t.dataIndex,n=t.getGraphicEl(),o=t.getModel();n.off("drag").off("dragend");var a=o.get("draggable");a&&n.on("drag",(function(){h&&(h.warmUp(),!i._layouting&&i._startForceLayoutIteration(h,p),h.setFixed(e),c.setItemLayout(e,[n.x,n.y]))})).on("dragend",(function(){h&&h.setUnfixed(e)})),n.setDraggable(a&&!!h);var r=o.get(["emphasis","focus"]);"adjacency"===r&&(Object(_["a"])(n).focus=t.getAdjacentDataIndices())})),c.graph.eachEdge((function(t){var e=t.getGraphicEl(),n=t.getModel().get(["emphasis","focus"]);"adjacency"===n&&(Object(_["a"])(e).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var f="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),g=c.getLayout("cx"),m=c.getLayout("cy");c.eachItemGraphicEl((function(t,e){var n=c.getItemModel(e),i=n.get(["label","rotate"])||0,o=t.getSymbolPath();if(f){var a=c.getItemLayout(e),r=Math.atan2(a[1]-m,a[0]-g);r<0&&(r=2*Math.PI+r);var s=a[0]<g;s&&(r-=Math.PI);var l=s?"left":"right";o.setTextConfig({rotation:-r,position:l,origin:"center"});var u=o.ensureState("emphasis");d["l"](u.textConfig||(u.textConfig={}),{position:l})}else o.setTextConfig({rotation:i*=Math.PI/180})})),this._firstRender=!1},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(t,e){var n=this;(function i(){t.step((function(t){n.updateLayout(n._model),(n._layouting=!t)&&(e?n._layoutTimeout=setTimeout(i,16):i())}))})()},e.prototype._updateController=function(t,e,n){var i=this,o=this._controller,a=this._controllerHost,r=this.group;o.setPointerChecker((function(e,i,o){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(i,o)&&!Ei(e,n,t)})),qh(t.coordinateSystem)?(o.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(e){Vh(a,e.dx,e.dy),n.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e.dx,dy:e.dy})})).on("zoom",(function(e){Gh(a,e.scale,e.originX,e.originY),n.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e.scale,originX:e.originX,originY:e.originY}),i._updateNodeAndLinkScale(),$h(t.getGraph(),nh(t)),i._lineDraw.updateLayout(),n.updateLabelLayout()}))):o.disable()},e.prototype._updateNodeAndLinkScale=function(){var t=this._model,e=t.getData(),n=nh(t);e.eachItemGraphicEl((function(t,e){t.setSymbolScale(n)}))},e.prototype.updateLayout=function(t){$h(t.getGraph(),nh(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(l["a"]),Jh=Kh;function Qh(t){return"_EC_"+t}var tp=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,e){t=null==t?""+e:""+t;var n=this._nodesMap;if(!n[Qh(t)]){var i=new ep(t,e);return i.hostGraph=this,this.nodes.push(i),n[Qh(t)]=i,i}},t.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},t.prototype.getNodeById=function(t){return this._nodesMap[Qh(t)]},t.prototype.addEdge=function(t,e,n){var i=this._nodesMap,o=this._edgesMap;if("number"===typeof t&&(t=this.nodes[t]),"number"===typeof e&&(e=this.nodes[e]),t instanceof ep||(t=i[Qh(t)]),e instanceof ep||(e=i[Qh(e)]),t&&e){var a=t.id+"-"+e.id,r=new np(t,e,n);return r.hostGraph=this,this._directed&&(t.outEdges.push(r),e.inEdges.push(r)),t.edges.push(r),t!==e&&e.edges.push(r),this.edges.push(r),o[a]=r,r}},t.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},t.prototype.getEdge=function(t,e){t instanceof ep&&(t=t.id),e instanceof ep&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},t.prototype.eachNode=function(t,e){for(var n=this.nodes,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&t.call(e,n[o],o)},t.prototype.eachEdge=function(t,e){for(var n=this.edges,i=n.length,o=0;o<i;o++)n[o].dataIndex>=0&&n[o].node1.dataIndex>=0&&n[o].node2.dataIndex>=0&&t.call(e,n[o],o)},t.prototype.breadthFirstTraverse=function(t,e,n,i){if(e instanceof ep||(e=this._nodesMap[Qh(e)]),e){for(var o="out"===n?"outEdges":"in"===n?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].__visited=!1;if(!t.call(i,e,null)){var r=[e];while(r.length){var s=r.shift(),l=s[o];for(a=0;a<l.length;a++){var c=l[a],u=c.node1===s?c.node2:c.node1;if(!u.__visited){if(t.call(i,u,s))return;r.push(u),u.__visited=!0}}}}}},t.prototype.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,o=0,a=n.length;o<a;o++)n[o].dataIndex=-1;for(o=0,a=t.count();o<a;o++)n[t.getRawIndex(o)].dataIndex=o;e.filterSelf((function(t){var n=i[e.getRawIndex(t)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0}));for(o=0,a=i.length;o<a;o++)i[o].dataIndex=-1;for(o=0,a=e.count();o<a;o++)i[e.getRawIndex(o)].dataIndex=o},t.prototype.clone=function(){for(var e=new t(this._directed),n=this.nodes,i=this.edges,o=0;o<n.length;o++)e.addNode(n[o].id,n[o].dataIndex);for(o=0;o<i.length;o++){var a=i[o];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},t}(),ep=function(){function t(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==e?-1:e}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.data.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var n=this.edges[e];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},t}(),np=function(){function t(t,e,n){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}return t.prototype.getModel=function(t){if(!(this.dataIndex<0)){var e=this.hostGraph,n=e.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t}();function ip(t,e){return{getValue:function(n){var i=this[t][e];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,n,i)},getVisual:function(n){return this[t][e].getItemVisual(this.dataIndex,n)},setLayout:function(n,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}d["H"](ep,ip("hostGraph","data")),d["H"](np,ip("hostGraph","edgeData"));var op=tp,ap=Object(D["m"])();function rp(t){var e=t.mainData,n=t.datas;n||(n={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,pp(e,n,t),Object(d["j"])(n,(function(n){Object(d["j"])(e.TRANSFERABLE_METHODS,(function(e){n.wrapMethod(e,Object(d["h"])(sp,t))}))})),e.wrapMethod("cloneShallow",Object(d["h"])(cp,t)),Object(d["j"])(e.CHANGABLE_METHODS,(function(n){e.wrapMethod(n,Object(d["h"])(lp,t))})),Object(d["b"])(n[e.dataType]===e)}function sp(t,e){if(hp(this)){var n=Object(d["l"])({},ap(this).datas);n[this.dataType]=e,pp(e,n,t)}else fp(e,this.dataType,ap(this).mainData,t);return e}function lp(t,e){return t.struct&&t.struct.update(),e}function cp(t,e){return Object(d["j"])(ap(e).datas,(function(n,i){n!==e&&fp(n.cloneShallow(),i,e,t)})),e}function up(t){var e=ap(this).mainData;return null==t||null==e?e:ap(e).datas[t]}function dp(){var t=ap(this).mainData;return null==t?[{data:t}]:Object(d["E"])(Object(d["C"])(ap(t).datas),(function(e){return{type:e,data:ap(t).datas[e]}}))}function hp(t){return ap(t).mainData===t}function pp(t,e,n){ap(t).datas={},Object(d["j"])(e,(function(e,i){fp(e,i,t,n)}))}function fp(t,e,n,i){ap(n).datas[e]=t,ap(t).mainData=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=up,t.getLinkedDataAll=dp}var gp=rp;function mp(t,e,n,i,o){for(var a=new op(i),r=0;r<t.length;r++)a.addNode(d["L"](t[r].id,t[r].name,r),r);var s=[],l=[],c=0;for(r=0;r<e.length;r++){var u=e[r],h=u.source,p=u.target;a.addEdge(h,p,c)&&(l.push(u),s.push(d["L"](Object(D["d"])(u.id,null),h+" > "+p)),c++)}var f,g=n.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)f=Lu(t,n);else{var m=Su["a"].get(g),v=m&&m.dimensions||[];d["p"](v,"value")<0&&v.concat(["value"]);var y=Mu(t,{coordDimensions:v});f=new Xc(y,n),f.initData(t)}var _=new Xc(["value"],n);return _.initData(l,s),o&&o(f,_),gp({mainData:f,struct:a,structAttr:"graph",datas:{node:f,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var vp=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},t.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},t.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},t}(),yp=vp,_p=n("f6d8"),xp=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return Object(m["a"])(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new yp(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeOption=function(e){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(e){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Object(D["e"])(e,"edgeLabel",["show"])},e.prototype.getInitialData=function(t,e){var n=t.edges||t.links||[],i=t.data||t.nodes||[],o=this;if(i&&n){qd(this);var a=mp(i,n,this,!0,r);return d["j"](a.edges,(function(t){Kd(t.node1,t.node2,this,t.dataIndex)}),this),a.data}function r(t,e){t.wrapMethod("getItemModel",(function(t){var e=o._categoriesModels,n=t.getShallow("category"),i=e[n];return i&&(i.parentModel=t.parentModel,t.parentModel=i),t}));var n=ze["a"].prototype.getModel;function i(t,e){var i=n.call(this,t,e);return i.resolveParentPath=a,i}function a(t){if(t&&("label"===t[0]||"label"===t[1])){var e=t.slice();return"label"===t[0]?e[0]="edgeLabel":"label"===t[1]&&(e[1]="edgeLabel"),e}return t}e.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=a,t.getModel=i,t}))}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(t,e,n){if("edge"===n){var i=this.getData(),o=this.getDataParams(t,n),a=i.graph.getEdgeByIndex(t),r=i.getName(a.node1.dataIndex),s=i.getName(a.node2.dataIndex),l=[];return null!=r&&l.push(r),null!=s&&l.push(s),Object(Ja["c"])("nameValue",{name:l.join(" > "),value:o.value,noValue:null==o.value})}var c=Object(_p["a"])({series:this,dataIndex:t,multipleSeries:e});return c},e.prototype._updateCategoriesData=function(){var t=d["E"](this.option.categories||[],(function(t){return null!=t.value?t:d["l"]({value:0},t)})),e=new Xc(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray((function(t){return e.getItemModel(t)}))},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(u["a"]),bp=xp;function wp(t,e,n){var i=t.getZoom(),o=t.getCenter(),a=e.zoom,r=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy&&(r[0]-=e.dx,r[1]-=e.dy,t.setCenter(t.pointToData(r))),null!=a){if(n){var s=n.min||0,l=n.max||1/0;a=Math.max(Math.min(i*a,l),s)/i}t.scaleX*=a,t.scaleY*=a;var c=(e.originX-t.x)*(a-1),u=(e.originY-t.y)*(a-1);t.x-=c,t.y-=u,t.updateTransform(),t.setCenter(t.pointToData(r)),t.setZoom(a*i)}return{center:t.getCenter(),zoom:t.getZoom()}}var Op={type:"graphRoam",event:"graphRoam",update:"none"};function Mp(t){t.registerChartView(Jh),t.registerSeriesModel(bp),t.registerProcessor(zd),t.registerVisual(Bd),t.registerVisual(Gd),t.registerLayout(eh),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,lh),t.registerLayout(dh),t.registerCoordinateSystem("graphView",{dimensions:mh.dimensions,create:_h}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},(function(){})),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},(function(){})),t.registerAction(Op,(function(t,e){e.eachComponent({mainType:"series",query:t},(function(e){var n=e.coordinateSystem,i=wp(n,t);e.setCenter&&e.setCenter(i.center),e.setZoom&&e.setZoom(i.zoom)}))}))}var Sp=n("2cf4"),Ip=n("21a1"),jp=n("3437"),Cp=n("5210"),Ap=n("4bc4");function kp(){return!1}function Tp(t,e,n){var i=d["e"](),o=e.getWidth(),a=e.getHeight(),r=i.style;return r&&(r.position="absolute",r.left="0",r.top="0",r.width=o+"px",r.height=a+"px",i.setAttribute("data-zr-dom-id",t)),i.width=o*n,i.height=a*n,i}var Dp=function(t){function e(e,n,i){var o,a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,i=i||Sp["e"],"string"===typeof e?o=Tp(e,n,i):d["y"](e)&&(o=e,e=o.id),a.id=e,a.dom=o;var r=o.style;return r&&(o.onselectstart=kp,r.webkitUserSelect="none",r.userSelect="none",r.webkitTapHighlightColor="rgba(0,0,0,0)",r["-webkit-touch-callout"]="none",r.padding="0",r.margin="0",r.borderWidth="0"),a.domBack=null,a.ctxBack=null,a.painter=n,a.config=null,a.dpr=i,a}return Object(Ip["a"])(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=Tp("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o,a=[],r=this.maxRepaintRectCount,s=!1,l=new At["a"](0,0,0,0);function c(t){if(t.isFinite()&&!t.isZero())if(0===a.length){var e=new At["a"](0,0,0,0);e.copy(t),a.push(e)}else{for(var n=!1,i=1/0,o=0,c=0;c<a.length;++c){var u=a[c];if(u.intersect(t)){var d=new At["a"](0,0,0,0);d.copy(u),d.union(t),a[c]=d,n=!0;break}if(s){l.copy(t),l.union(u);var h=t.width*t.height,p=u.width*u.height,f=l.width*l.height,g=f-h-p;g<i&&(i=g,o=c)}}if(s&&(a[o].union(t),n=!0),!n){e=new At["a"](0,0,0,0);e.copy(t),a.push(e)}s||(s=a.length>=r)}}for(var u=this.__startIndex;u<this.__endIndex;++u){var d=t[u];if(d){var h=d.shouldBePainted(n,i,!0,!0),p=d.__isRendered&&(d.__dirty&Ap["a"]||!h)?d.getPrevPaintRect():null;p&&c(p);var f=h&&(d.__dirty&Ap["a"]||!d.__isRendered)?d.getPaintRect():null;f&&c(f)}}for(u=this.__prevStartIndex;u<this.__prevEndIndex;++u){d=e[u],h=d.shouldBePainted(n,i,!0,!0);if(d&&(!h||!d.__zr)&&d.__isRendered){p=d.getPrevPaintRect();p&&c(p)}}do{o=!1;for(u=0;u<a.length;)if(a[u].isZero())a.splice(u,1);else{for(var g=u+1;g<a.length;)a[u].intersect(a[g])?(o=!0,a[u].union(a[g]),a.splice(g,1)):g++;u++}}while(o);return this._paintRects=a,a},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,o=i.style,a=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),i.width=t*n,i.height=e*n,a&&(a.width=t*n,a.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var i=this.dom,o=this.ctx,a=i.width,r=i.height;e=e||this.clearColor;var s=this.motionBlur&&!t,l=this.lastFrameAlpha,c=this.dpr,u=this;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,a/c,r/c));var h=this.domBack;function p(t,n,i,a){if(o.clearRect(t,n,i,a),e&&"transparent"!==e){var r=void 0;d["v"](e)?(r=e.__canvasGradient||Object(jp["a"])(o,e,{x:0,y:0,width:i,height:a}),e.__canvasGradient=r):d["w"](e)&&(r=Object(Cp["c"])(o,e,{dirty:function(){u.setUnpainted(),u.__painter.refresh()}})),o.save(),o.fillStyle=r||e,o.fillRect(t,n,i,a),o.restore()}s&&(o.save(),o.globalAlpha=l,o.drawImage(h,t,n,i,a),o.restore())}!n||s?p(0,0,a,r):n.length&&d["j"](n,(function(t){p(t.x*c,t.y*c,t.width*c,t.height*c)}))},e}(An["a"]),Lp=Dp,Pp=n("98b7"),Ep=1e5,Rp=314159,Np=.01,zp=.001;function Bp(t){return parseInt(t,10)}function Vp(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}function Gp(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}var Hp=function(){function t(t,e,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=d["l"]({},n||{}),this.dpr=n.devicePixelRatio||Sp["e"],this._singleCanvas=o,this.root=t;var a=t.style;a&&(a.webkitTapHighlightColor="transparent",a.webkitUserSelect="none",a.userSelect="none",a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var r=this._zlevelList;this._prevDisplayList=[];var s=this._layers;if(o){var l=t,c=l.width,u=l.height;null!=n.width&&(c=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,l.width=c*this.dpr,l.height=u*this.dpr,this._width=c,this._height=u;var h=new Lp(l,this,this.dpr);h.__builtin__=!0,h.initContext(),s[Rp]=h,h.zlevel=Rp,r.push(Rp),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var p=this._domRoot=Gp(this._width,this._height);t.appendChild(p)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var o=0;o<i.length;o++){var a=i[o],r=this._layers[a];if(!r.__builtin__&&r.refresh){var s=0===o?this._backgroundColor:null;r.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,o={inHover:!0,viewWidth:this._width,viewHeight:this._height},a=0;a<e;a++){var r=t[a];r.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Ep)),i||(i=n.ctx,i.save()),Object(Cp["a"])(i,r,o,a===e-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(Ep)},t.prototype.paintOne=function(t,e){Object(Cp["b"])(t,e)},t.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,n),a=o.finished,r=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),r&&this._paintHoverList(t),a)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;Object(Pp["a"])((function(){s._paintList(t,e,n,i)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(Rp).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var i=this,o=[],a=this._opts.useDirtyRect,r=0;r<this._zlevelList.length;r++){var s=this._zlevelList[r],l=this._layers[s];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||n)&&o.push(l)}for(var c=!0,u=!1,h=function(r){var s,l=o[r],d=l.ctx,h=a&&l.createRepaintRects(t,e,p._width,p._height),f=n?l.__startIndex:l.__drawIndex,g=!n&&l.incremental&&Date.now,m=g&&Date.now(),v=l.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,h);else if(f===l.__startIndex){var y=t[f];y.incremental&&y.notClear&&!n||l.clear(!1,v,h)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=l.__startIndex);var _=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(s=f;s<l.__endIndex;s++){var o=t[s];if(o.__inHover&&(u=!0),i._doPaintEl(o,l,a,e,n,s===l.__endIndex-1),g){var r=Date.now()-m;if(r>15)break}}n.prevElClipPaths&&d.restore()};if(h)if(0===h.length)s=l.__endIndex;else for(var x=p.dpr,b=0;b<h.length;++b){var w=h[b];d.save(),d.beginPath(),d.rect(w.x*x,w.y*x,w.width*x,w.height*x),d.clip(),_(w),d.restore()}else d.save(),_(),d.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(c=!1)},p=this,f=0;f<o.length;f++)h(f);return $e["a"].wxa&&d["j"](this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:c,needsRefreshHover:u}},t.prototype._doPaintEl=function(t,e,n,i,o,a){var r=e.ctx;if(n){var s=t.getPaintRect();(!i||s&&s.intersect(i))&&(Object(Cp["a"])(r,t,o,a),t.setPrevPaintRect(s))}else Object(Cp["a"])(r,t,o,a)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Rp);var n=this._layers[t];return n||(n=new Lp("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?d["F"](n,this._layerConfig[t],!0):this._layerConfig[t-Np]&&d["F"](n,this._layerConfig[t-Np],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,o=i.length,a=this._domRoot,r=null,s=-1;if(n[t])d["D"]("ZLevel "+t+" has been used already");else if(Vp(e)){if(o>0&&t>i[0]){for(s=0;s<o-1;s++)if(i[s]<t&&i[s+1]>t)break;r=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(r){var l=r.dom;l.nextSibling?a.insertBefore(e.dom,l.nextSibling):a.appendChild(e.dom)}else a.firstChild?a.insertBefore(e.dom,a.firstChild):a.appendChild(e.dom);e.__painter=this}else d["D"]("Layer of zlevel "+t+" is not valid")},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i];t.call(e,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],a=this._layers[o];a.__builtin__&&t.call(e,a,o)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var o=n[i],a=this._layers[o];a.__builtin__||t.call(e,a,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var o,a,r=null,s=0;for(a=0;a<t.length;a++){i=t[a];var l=i.zlevel,c=void 0;o!==l&&(o=l,s=0),i.incremental?(c=this.getLayer(l+zp,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(l+(s>0?Np:0),this._needsManuallyCompositing),c.__builtin__||d["D"]("ZLevel "+l+" has been used by unkown layer "+c.id),c!==r&&(c.__used=!0,c.__startIndex!==a&&(c.__dirty=!0),c.__startIndex=a,c.incremental?c.__drawIndex=-1:c.__drawIndex=a,e(a),r=c),i.__dirty&Ap["a"]&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=a))}e(a),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,d["j"](this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?d["F"](n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+Np){var a=this._layers[o];d["F"](a,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(d["p"](n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Rp).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Rp].dom;var e=new Lp("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,o=e.dom.height;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,o):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())}))}else for(var a={inHover:!1,viewWidth:this._width,viewHeight:this._height},r=this.storage.getDisplayList(!0),s=0,l=r.length;s<l;s++){var c=r[s];Object(Cp["a"])(n,c,a,s===l-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype._getSize=function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var r=this.root,s=document.defaultView.getComputedStyle(r);return(r[i]||Bp(s[n])||Bp(r.style[n]))-(Bp(s[o])||0)-(Bp(s[a])||0)|0},t.prototype.pathToImage=function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),o=t.getBoundingRect(),a=t.style,r=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,c=t.hasStroke()?a.lineWidth:0,u=Math.max(c/2,-s+r),h=Math.max(c/2,s+r),p=Math.max(c/2,-l+r),f=Math.max(c/2,l+r),g=o.width+u+h,m=o.height+p+f;n.width=g*e,n.height=m*e,i.scale(e,e),i.clearRect(0,0,g,m),i.dpr=e;var v={x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY,rotation:t.rotation,originX:t.originX,originY:t.originY};t.x=u-o.x,t.y=p-o.y,t.rotation=0,t.scaleX=1,t.scaleY=1,t.updateTransform(),t&&Object(Cp["a"])(i,t,{inHover:!1,viewWidth:this._width,viewHeight:this._height},!0);var y=new zu["a"]({style:{x:0,y:0,image:n}});return d["l"](t,v),y},t}(),Wp=Hp;function Fp(t){t.registerPainter("canvas",Wp)}var Zp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loss_and_time"},[n("el-card",{staticClass:"box-card card"},[n("v-chart",{staticClass:"chart",attrs:{option:t.data}})],1)],1)},Yp=[],Xp={name:"LossAndTime",props:["loss_and_time"],data:function(){return{}},methods:{int2List:function(t){for(var e=[],n=0;n<t;n++)e.push(n.toString());return e}},computed:{data:function(){return{title:{text:"模型指标",subtext:"每5秒自动检查更新",left:"center",align:"right"},grid:{bottom:80},toolbox:{feature:{saveAsImage:{}}},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#505765"}}},legend:{data:["模型损失","单轮训练用时"],left:10},dataZoom:[{show:!0,realtime:!0,start:0,end:100}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!1},data:this.int2List(this.loss_and_time.loss_list.length)}],yAxis:[{name:"模型损失值",type:"value",min:function(t){return t.min<0?Math.round(1.2*t.min):Math.round(.8*t.min)},max:function(t){return t.max>0?Math.round(1.2*t.max):Math.round(.8*t.max)}},{name:"训练用时(s)",min:function(t){return t.min<0?1.2*t.min:.8*t.min},max:function(t){return t.max>0?1.2*t.max:.8*t.max},type:"value"}],series:[{name:"模型损失",type:"line",lineStyle:{width:1},emphasis:{focus:"series"},markArea:{silent:!0,itemStyle:{opacity:.3}},data:this.loss_and_time.loss_list},{name:"单轮训练用时",type:"line",yAxisIndex:1,lineStyle:{width:1},emphasis:{focus:"series"},markArea:{silent:!0,itemStyle:{opacity:.3}},data:this.loss_and_time.time_list}]}}}},Up=Xp,$p=(n("20f9"),n("2877")),qp=Object($p["a"])(Up,Zp,Yp,!1,null,"c6fb09f0",null),Kp=qp.exports,Jp=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"train_and_validate"},[n("el-card",{staticClass:"box-card card"},[n("v-chart",{staticClass:"chart",attrs:{option:t.data}})],1)],1)},Qp=[],tf={name:"TrainAndValidate",props:["train_and_validate"],data:function(){return{}},methods:{},computed:{data:function(){return{title:{text:"模型指标",subtext:"每5秒自动检查更新",left:"center",align:"right"},grid:{bottom:80},toolbox:{feature:{saveAsImage:{}}},tooltip:{trigger:"axis",axisPointer:{type:"cross",animation:!1,label:{backgroundColor:"#505765"}}},legend:{data:["训练AUC","验证AUC"],left:10},dataZoom:[{show:!0,realtime:!0,start:0,end:100}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!1},data:this.train_and_validate.x_axis}],yAxis:[{name:"训练AUC",type:"value",min:function(t){return t.min<0?Math.round(1.2*t.min):Math.round(.8*t.min)},max:function(t){return t.max>0?Math.round(1.2*t.max):Math.round(.8*t.max)}},{name:"验证AUC",min:function(t){return t.min<0?Math.round(1.2*t.min):Math.round(.8*t.min)},max:function(t){return t.max>0?Math.round(1.2*t.max):Math.round(.8*t.max)},type:"value"}],series:[{name:"训练AUC",type:"line",lineStyle:{width:1},emphasis:{focus:"series"},markArea:{silent:!0,itemStyle:{opacity:.3}},data:this.train_and_validate.train_auc},{name:"验证AUC",type:"line",yAxisIndex:1,lineStyle:{width:1},emphasis:{focus:"series"},markArea:{silent:!0,itemStyle:{opacity:.3}},data:this.train_and_validate.validate_auc}]}}}},ef=tf,nf=(n("769f"),Object($p["a"])(ef,Jp,Qp,!1,null,"54264f58",null)),of=nf.exports,af=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"procedure"},[n("el-card",{staticClass:"box-card card"},[n("v-chart",{staticClass:"chart",attrs:{option:t.data}})],1)],1)},rf=[],sf={name:"Procedure",props:["procedure","task_json_dict"],data:function(){return{}},methods:{getTaskColor:function(t,e){return e<=t?"lightblue":e===t+1?"lightgreen":"lightgrey"},getTaskModules:function(){for(var t=this.procedure,e=this.task_json_dict.length,n=[],i=1;i<e;i++)n.push({name:"step."+i.toString()+" "+this.task_json_dict[i].task_type,y:0,x:100*i,itemStyle:{color:this.getTaskColor(t,i)}});return n},getModuleLinks:function(){for(var t=this.task_json_dict.length-1,e=[],n=1;n<t;n++)e.push({source:n-1,target:n});return e}},computed:{data:function(){return{title:{text:"任务调度",subtext:"蓝色-已完成，绿色-进行中，灰色-等待中",left:"center",align:"right"},tooltip:{},animationDurationUpdate:500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",symbolSize:100,label:{show:!0},edgeSymbol:["","arrow"],data:this.getTaskModules(),links:this.getModuleLinks(),lineStyle:{width:4,curveness:0}}]}}}},lf=sf,cf=(n("39b8"),Object($p["a"])(lf,af,rf,!1,null,"16af0b26",null)),uf=cf.exports;g([S,co,Dr,zs,gl,nc,yu,Nd,Mp,Fp]);var df={name:"TaskDetail",data:function(){return{task_info:{},task_json_dict:[],task_logs:[],loss_and_time:{loss_list:[],time_list:[]},train_and_validate:{train_auc:[],validate_auc:[],x_axis:[]},task_info_display_control:!1,metrics:[],metrics_task_info:[],error_msg:[],procedure:"",task_json_visible:!1,scroll_to_bottom:!0,timer:null}},components:{vueJsonEditor:a["a"],LossAndTime:Kp,Procedure:uf,TrainAndValidate:of},methods:{refreshLog:function(){var t=this;"undefined"!==typeof this.$route.query.task_id?(this.$axios.get("/board/task/"+this.$route.query.task_id+"?type=dlog&start_offset="+this.task_logs.length,{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.task_logs=t.task_logs.concat(e.data.data.log_list),t.task_info.status=e.data.data.task_status,t.scroll_to_bottom&&setTimeout(t.scrollToBottom,1e3),"finish"!==t.task_info.status&&"error"!==t.task_info.status||clearTimeout(t.timer)})).catch((function(e){console.log(e),t.$notify.error({title:"提示",message:"操作失败，可能不具备权限，请尝试注销重新登录或联系管理员"}),clearTimeout(t.timer)})),this.$axios.get("/board/task_progress/"+this.$route.query.task_id,{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.procedure=e.data.data.progress,t.loss_and_time.loss_list=e.data.data.losses,t.loss_and_time.time_list=e.data.data.times,t.metrics=e.data.data.metrics;var n=e.data.data.train_auc,i=e.data.data.validate_auc;t.train_and_validate.train_auc=[],t.train_and_validate.validate_auc=[],t.train_and_validate.x_axis=[];for(var o=0;o<n.length;o++)0!==n[o]&&0!==i[o]&&(t.train_and_validate.train_auc.push(n[o]),t.train_and_validate.validate_auc.push(i[o]),t.train_and_validate.x_axis.push(o.toString()));t.task_info_display_control=t.train_and_validate.train_auc.length>0&&t.train_and_validate.validate_auc.length>0,t.metrics_task_info=[];var a=0,r={};for(var s in t.metrics)t.metrics.hasOwnProperty(s)&&(r[s]=t.metrics[s],3===a&&(t.metrics_task_info.push(r),r={}),a=(a+1)%4);"{}"!==JSON.stringify(r)&&t.metrics_task_info.push(r),null!==e.data.data.error_msg&&(t.error_msg=e.data.data.error_msg.split("\n"))})).catch((function(e){console.log(e),t.$notify.error({title:"提示",message:"操作失败，可能不具备权限，请尝试注销重新登录或联系管理员"}),clearTimeout(t.timer)}))):clearTimeout(this.timer)},copyTaskJSON:function(){var t=this;this.$copyText(this.task_info.task_chain).then((function(){t.$notify.success({title:"提示",message:"复制成功"})})),this.task_json_visible=!1},scrollToBottom:function(){var t=this.$el.querySelector("#task_log");t.scrollTop=t.scrollHeight},changeAlias:function(){var t=this;this.$prompt("请输入备注名","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputValue:this.task_info.alias}).then((function(e){var n=e.value;null!==n?t.$axios.patch("/board/task/"+t.$route.query.task_id,{field:{alias:n}},{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.$notify.success({title:"提示",message:"修改成功"}),t.task_info.alias=n})).catch((function(e){console.log(e),t.$notify.error({title:"提示",message:"操作失败，可能不具备权限，请尝试注销重新登录或联系管理员"})})):t.$notify.error({title:"提示",message:"输入备注名不能为空"})}))},stopTask:function(){var t=this;"run"===this.task_info.status?this.$axios.patch("/board/task/"+this.$route.query.task_id,{type:"stop"},{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.$notify.success({title:"提示",message:e.data.data.message})})).catch((function(e){console.log(e),t.$notify.error({title:"提示",message:"操作失败，可能不具备权限，请尝试注销重新登录或联系管理员"}),clearTimeout(t.timer)})):this.$notify.error({title:"提示",message:"只有进行中的任务才需要终止哦"})},deleteTask:function(){var t=this;"run"!==this.task_info.status?this.$axios.delete("/board/task/"+this.$route.query.task_id,{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.$notify.success({title:"提示",message:"任务删除成功，页面跳转中"}),clearTimeout(t.timer),t.$router.back()})).catch((function(e){console.log(e),t.$notify.error({title:"提示",message:"操作失败，可能不具备权限，请尝试注销重新登录或联系管理员"}),clearTimeout(t.timer)})):this.$notify.error({title:"提示",message:"进行中的任务需要先终止哦"})},downloadOutput:function(t){var e=this,n="/board/task/"+t+"?type=output",i=t+".csv";this.$axios({url:n,method:"get",responseType:"blob",headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(t){var e=new Blob([t.data]);if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(e,i);else{var n=document.createElement("a"),o=document.createEvent("HTMLEvents");o.initEvent("click",!1,!1),n.href=URL.createObjectURL(e),n.download=i,n.style.display="none",document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(n.href)}})).catch((function(t){console.log(t),e.$notify.error({title:"提示",message:"没有找到输出文件。请确认：1.该任务是否有配置data_saver模块 2.该任务已经运行完成"})}))}},mounted:function(){var t=this;this.$axios.get("/board/task/"+this.$route.query.task_id+"?type=detail",{headers:{auth:window.localStorage.getItem("jeddak_token")}}).then((function(e){t.task_info=e.data.data,t.task_info.create_time=new Date(t.task_info.create_time+"Z").toLocaleString(),t.task_info.update_time=new Date(t.task_info.update_time+"Z").toLocaleString(),t.task_json_dict=JSON.parse(t.task_info.task_chain),"undefined"!==typeof t.task_info.task_id&&(t.refreshLog(),t.timer=setInterval(t.refreshLog,5e3))})).catch((function(e){console.log(e.response),400!==e.response.status||"task_id not found"!==e.response.data.message?t.$notify.error({title:"提示",message:"操作失败，可能不具备权限，请尝试注销重新登录或联系管理员"}):t.$notify.error({title:"提示",message:"该任务已删除"})}))}},hf=df,pf=(n("59db"),n("b9f8"),Object($p["a"])(hf,i,o,!1,null,"7690e010",null));e["default"]=pf.exports},"8be4":function(t,e,n){},b9f8:function(t,e,n){"use strict";n("8be4")},c87e:function(t,e,n){},c99f:function(t,e,n){},f1c0:function(t,e,n){},f8f9:function(t,e,n){}}]);
//# sourceMappingURL=chunk-5608d287.7e6a778a.js.map